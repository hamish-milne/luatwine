{"version":3,"sources":["webpack://moontale/./node_modules/codemirror/addon/mode/multiplex.js","webpack://moontale/./node_modules/codemirror/addon/mode/overlay.js","webpack://moontale/./node_modules/codemirror/addon/mode/simple.js","webpack://moontale/./node_modules/codemirror/mode/lua/lua.js","webpack://moontale/./node_modules/codemirror/mode/markdown/markdown.js","webpack://moontale/./src/setup.ts","webpack://moontale/webpack/bootstrap","webpack://moontale/webpack/startup"],"names":["CodeMirror","multiplexingMode","outer","others","Array","prototype","slice","call","arguments","indexOf","string","pattern","from","returnEnd","found","length","m","exec","index","startState","innerActive","inner","startingInner","copyState","state","mode","token","stream","curInner","oldContent","close","sol","this","pos","parseDelimiters","match","delimStyle","innerToken","start","innerStyle","cutOff","Infinity","i","other","open","outerIndent","indent","possibleOuterIndent","Pass","outerToken","textAfter","line","blankLine","electricChars","innerMode","mod","overlayMode","base","overlay","combine","basePos","baseCur","overlayPos","overlayCur","streamSeen","Math","min","combineTokens","baseToken","overlayToken","ensureState","states","name","hasOwnProperty","Error","toRegex","val","caret","flags","RegExp","ignoreCase","source","String","Rule","data","next","push","regex","apply","replace","result","asToken","tokenFunction","config","pending","pend","shift","text","local","end","tok","endToken","localState","endScan","current","curState","rule","matches","stack","pop","enterLocalMode","indentation","indentUnit","dedent","j","backUp","join","cmp","a","b","props","prop","spec","pers","persistent","p","persistentStates","getMode","lState","forceEnd","indentFunction","meta","dontIndentStates","arr","rules","scan","dedentIfLineStart","defineSimpleMode","defineMode","simpleMode","states_","hasIndentation","list","orig","s","parserConfig","wordRE","words","specials","builtins","keywords","indentTokens","dedentTokens","dedentPartial","readBracket","level","eat","normal","quote","ch","cur","bracketed","skipToEnd","escaped","test","peek","eatWhile","style","curlev","basecol","indentDepth","eatSpace","word","closing","electricInput","lineComment","blockCommentStart","blockCommentEnd","defineMIME","cmCfg","modeCfg","htmlMode","htmlModeMissing","undefined","highlightFormatting","maxBlockquoteDepth","taskLists","strikethrough","emoji","fencedCodeBlockHighlighting","fencedCodeBlockDefaultMode","xml","tokenTypeOverrides","tokenTypes","header","code","list1","list2","list3","hr","image","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hrRE","listRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","switchInline","f","inline","switchBlock","block","linkTitle","indentedCode","htmlBlock","exit","htmlState","tagStart","context","tokenize","isInText","inlineNormal","blockNormal","trailingSpace","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","column","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","allowsInlineContinuation","fencedCodeEnd","isHr","getType","setext","listType","taskList","fencedEndRE","localMode","findModeByName","mime","mimes","lookAhead","charAt","footnoteLink","md_inside","returnType","currListInd","hasExitedList","maxFencedEndInd","styles","taskOpen","taskClosed","listMod","handleText","matchCh","previousFormatting","count","t","type","formattingEscape","atts","substring","len","before","after","leftFlanking","rightFlanking","setEm","setStrong","retType","endChar","returnState","linkRE","footnoteLinkInside","footnoteUrl","closeBrackets","fold","styleContainer","document","querySelector","createElement","setAttribute","head","appendChild","innerHTML","window","expression","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__"],"mappings":"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","file":"editor.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.multiplexingMode = function(outer /*, others */) {\n  // Others should be {open, close, mode [, delimStyle] [, innerStyle] [, parseDelimiters]} objects\n  var others = Array.prototype.slice.call(arguments, 1);\n\n  function indexOf(string, pattern, from, returnEnd) {\n    if (typeof pattern == \"string\") {\n      var found = string.indexOf(pattern, from);\n      return returnEnd && found > -1 ? found + pattern.length : found;\n    }\n    var m = pattern.exec(from ? string.slice(from) : string);\n    return m ? m.index + from + (returnEnd ? m[0].length : 0) : -1;\n  }\n\n  return {\n    startState: function() {\n      return {\n        outer: CodeMirror.startState(outer),\n        innerActive: null,\n        inner: null,\n        startingInner: false\n      };\n    },\n\n    copyState: function(state) {\n      return {\n        outer: CodeMirror.copyState(outer, state.outer),\n        innerActive: state.innerActive,\n        inner: state.innerActive && CodeMirror.copyState(state.innerActive.mode, state.inner),\n        startingInner: state.startingInner\n      };\n    },\n\n    token: function(stream, state) {\n      if (!state.innerActive) {\n        var cutOff = Infinity, oldContent = stream.string;\n        for (var i = 0; i < others.length; ++i) {\n          var other = others[i];\n          var found = indexOf(oldContent, other.open, stream.pos);\n          if (found == stream.pos) {\n            if (!other.parseDelimiters) stream.match(other.open);\n            state.startingInner = !!other.parseDelimiters\n            state.innerActive = other;\n\n            // Get the outer indent, making sure to handle CodeMirror.Pass\n            var outerIndent = 0;\n            if (outer.indent) {\n              var possibleOuterIndent = outer.indent(state.outer, \"\", \"\");\n              if (possibleOuterIndent !== CodeMirror.Pass) outerIndent = possibleOuterIndent;\n            }\n\n            state.inner = CodeMirror.startState(other.mode, outerIndent);\n            return other.delimStyle && (other.delimStyle + \" \" + other.delimStyle + \"-open\");\n          } else if (found != -1 && found < cutOff) {\n            cutOff = found;\n          }\n        }\n        if (cutOff != Infinity) stream.string = oldContent.slice(0, cutOff);\n        var outerToken = outer.token(stream, state.outer);\n        if (cutOff != Infinity) stream.string = oldContent;\n        return outerToken;\n      } else {\n        var curInner = state.innerActive, oldContent = stream.string;\n        if (!curInner.close && stream.sol()) {\n          state.innerActive = state.inner = null;\n          return this.token(stream, state);\n        }\n        var found = curInner.close && !state.startingInner ?\n            indexOf(oldContent, curInner.close, stream.pos, curInner.parseDelimiters) : -1;\n        if (found == stream.pos && !curInner.parseDelimiters) {\n          stream.match(curInner.close);\n          state.innerActive = state.inner = null;\n          return curInner.delimStyle && (curInner.delimStyle + \" \" + curInner.delimStyle + \"-close\");\n        }\n        if (found > -1) stream.string = oldContent.slice(0, found);\n        var innerToken = curInner.mode.token(stream, state.inner);\n        if (found > -1) stream.string = oldContent;\n        else if (stream.pos > stream.start) state.startingInner = false\n\n        if (found == stream.pos && curInner.parseDelimiters)\n          state.innerActive = state.inner = null;\n\n        if (curInner.innerStyle) {\n          if (innerToken) innerToken = innerToken + \" \" + curInner.innerStyle;\n          else innerToken = curInner.innerStyle;\n        }\n\n        return innerToken;\n      }\n    },\n\n    indent: function(state, textAfter, line) {\n      var mode = state.innerActive ? state.innerActive.mode : outer;\n      if (!mode.indent) return CodeMirror.Pass;\n      return mode.indent(state.innerActive ? state.inner : state.outer, textAfter, line);\n    },\n\n    blankLine: function(state) {\n      var mode = state.innerActive ? state.innerActive.mode : outer;\n      if (mode.blankLine) {\n        mode.blankLine(state.innerActive ? state.inner : state.outer);\n      }\n      if (!state.innerActive) {\n        for (var i = 0; i < others.length; ++i) {\n          var other = others[i];\n          if (other.open === \"\\n\") {\n            state.innerActive = other;\n            state.inner = CodeMirror.startState(other.mode, mode.indent ? mode.indent(state.outer, \"\", \"\") : 0);\n          }\n        }\n      } else if (state.innerActive.close === \"\\n\") {\n        state.innerActive = state.inner = null;\n      }\n    },\n\n    electricChars: outer.electricChars,\n\n    innerMode: function(state) {\n      return state.inner ? {state: state.inner, mode: state.innerActive.mode} : {state: state.outer, mode: outer};\n    }\n  };\n};\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Utility function that allows modes to be combined. The mode given\n// as the base argument takes care of most of the normal mode\n// functionality, but a second (typically simple) mode is used, which\n// can override the style of text. Both modes get to parse all of the\n// text, but when both assign a non-null style to a piece of code, the\n// overlay wins, unless the combine argument was true and not overridden,\n// or state.overlay.combineTokens was true, in which case the styles are\n// combined.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.overlayMode = function(base, overlay, combine) {\n  return {\n    startState: function() {\n      return {\n        base: CodeMirror.startState(base),\n        overlay: CodeMirror.startState(overlay),\n        basePos: 0, baseCur: null,\n        overlayPos: 0, overlayCur: null,\n        streamSeen: null\n      };\n    },\n    copyState: function(state) {\n      return {\n        base: CodeMirror.copyState(base, state.base),\n        overlay: CodeMirror.copyState(overlay, state.overlay),\n        basePos: state.basePos, baseCur: null,\n        overlayPos: state.overlayPos, overlayCur: null\n      };\n    },\n\n    token: function(stream, state) {\n      if (stream != state.streamSeen ||\n          Math.min(state.basePos, state.overlayPos) < stream.start) {\n        state.streamSeen = stream;\n        state.basePos = state.overlayPos = stream.start;\n      }\n\n      if (stream.start == state.basePos) {\n        state.baseCur = base.token(stream, state.base);\n        state.basePos = stream.pos;\n      }\n      if (stream.start == state.overlayPos) {\n        stream.pos = stream.start;\n        state.overlayCur = overlay.token(stream, state.overlay);\n        state.overlayPos = stream.pos;\n      }\n      stream.pos = Math.min(state.basePos, state.overlayPos);\n\n      // state.overlay.combineTokens always takes precedence over combine,\n      // unless set to null\n      if (state.overlayCur == null) return state.baseCur;\n      else if (state.baseCur != null &&\n               state.overlay.combineTokens ||\n               combine && state.overlay.combineTokens == null)\n        return state.baseCur + \" \" + state.overlayCur;\n      else return state.overlayCur;\n    },\n\n    indent: base.indent && function(state, textAfter, line) {\n      return base.indent(state.base, textAfter, line);\n    },\n    electricChars: base.electricChars,\n\n    innerMode: function(state) { return {state: state.base, mode: base}; },\n\n    blankLine: function(state) {\n      var baseToken, overlayToken;\n      if (base.blankLine) baseToken = base.blankLine(state.base);\n      if (overlay.blankLine) overlayToken = overlay.blankLine(state.overlay);\n\n      return overlayToken == null ?\n        baseToken :\n        (combine && baseToken != null ? baseToken + \" \" + overlayToken : overlayToken);\n    }\n  };\n};\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineSimpleMode = function(name, states) {\n    CodeMirror.defineMode(name, function(config) {\n      return CodeMirror.simpleMode(config, states);\n    });\n  };\n\n  CodeMirror.simpleMode = function(config, states) {\n    ensureState(states, \"start\");\n    var states_ = {}, meta = states.meta || {}, hasIndentation = false;\n    for (var state in states) if (state != meta && states.hasOwnProperty(state)) {\n      var list = states_[state] = [], orig = states[state];\n      for (var i = 0; i < orig.length; i++) {\n        var data = orig[i];\n        list.push(new Rule(data, states));\n        if (data.indent || data.dedent) hasIndentation = true;\n      }\n    }\n    var mode = {\n      startState: function() {\n        return {state: \"start\", pending: null,\n                local: null, localState: null,\n                indent: hasIndentation ? [] : null};\n      },\n      copyState: function(state) {\n        var s = {state: state.state, pending: state.pending,\n                 local: state.local, localState: null,\n                 indent: state.indent && state.indent.slice(0)};\n        if (state.localState)\n          s.localState = CodeMirror.copyState(state.local.mode, state.localState);\n        if (state.stack)\n          s.stack = state.stack.slice(0);\n        for (var pers = state.persistentStates; pers; pers = pers.next)\n          s.persistentStates = {mode: pers.mode,\n                                spec: pers.spec,\n                                state: pers.state == state.localState ? s.localState : CodeMirror.copyState(pers.mode, pers.state),\n                                next: s.persistentStates};\n        return s;\n      },\n      token: tokenFunction(states_, config),\n      innerMode: function(state) { return state.local && {mode: state.local.mode, state: state.localState}; },\n      indent: indentFunction(states_, meta)\n    };\n    if (meta) for (var prop in meta) if (meta.hasOwnProperty(prop))\n      mode[prop] = meta[prop];\n    return mode;\n  };\n\n  function ensureState(states, name) {\n    if (!states.hasOwnProperty(name))\n      throw new Error(\"Undefined state \" + name + \" in simple mode\");\n  }\n\n  function toRegex(val, caret) {\n    if (!val) return /(?:)/;\n    var flags = \"\";\n    if (val instanceof RegExp) {\n      if (val.ignoreCase) flags = \"i\";\n      val = val.source;\n    } else {\n      val = String(val);\n    }\n    return new RegExp((caret === false ? \"\" : \"^\") + \"(?:\" + val + \")\", flags);\n  }\n\n  function asToken(val) {\n    if (!val) return null;\n    if (val.apply) return val\n    if (typeof val == \"string\") return val.replace(/\\./g, \" \");\n    var result = [];\n    for (var i = 0; i < val.length; i++)\n      result.push(val[i] && val[i].replace(/\\./g, \" \"));\n    return result;\n  }\n\n  function Rule(data, states) {\n    if (data.next || data.push) ensureState(states, data.next || data.push);\n    this.regex = toRegex(data.regex);\n    this.token = asToken(data.token);\n    this.data = data;\n  }\n\n  function tokenFunction(states, config) {\n    return function(stream, state) {\n      if (state.pending) {\n        var pend = state.pending.shift();\n        if (state.pending.length == 0) state.pending = null;\n        stream.pos += pend.text.length;\n        return pend.token;\n      }\n\n      if (state.local) {\n        if (state.local.end && stream.match(state.local.end)) {\n          var tok = state.local.endToken || null;\n          state.local = state.localState = null;\n          return tok;\n        } else {\n          var tok = state.local.mode.token(stream, state.localState), m;\n          if (state.local.endScan && (m = state.local.endScan.exec(stream.current())))\n            stream.pos = stream.start + m.index;\n          return tok;\n        }\n      }\n\n      var curState = states[state.state];\n      for (var i = 0; i < curState.length; i++) {\n        var rule = curState[i];\n        var matches = (!rule.data.sol || stream.sol()) && stream.match(rule.regex);\n        if (matches) {\n          if (rule.data.next) {\n            state.state = rule.data.next;\n          } else if (rule.data.push) {\n            (state.stack || (state.stack = [])).push(state.state);\n            state.state = rule.data.push;\n          } else if (rule.data.pop && state.stack && state.stack.length) {\n            state.state = state.stack.pop();\n          }\n\n          if (rule.data.mode)\n            enterLocalMode(config, state, rule.data.mode, rule.token);\n          if (rule.data.indent)\n            state.indent.push(stream.indentation() + config.indentUnit);\n          if (rule.data.dedent)\n            state.indent.pop();\n          var token = rule.token\n          if (token && token.apply) token = token(matches)\n          if (matches.length > 2 && rule.token && typeof rule.token != \"string\") {\n            for (var j = 2; j < matches.length; j++)\n              if (matches[j])\n                (state.pending || (state.pending = [])).push({text: matches[j], token: rule.token[j - 1]});\n            stream.backUp(matches[0].length - (matches[1] ? matches[1].length : 0));\n            return token[0];\n          } else if (token && token.join) {\n            return token[0];\n          } else {\n            return token;\n          }\n        }\n      }\n      stream.next();\n      return null;\n    };\n  }\n\n  function cmp(a, b) {\n    if (a === b) return true;\n    if (!a || typeof a != \"object\" || !b || typeof b != \"object\") return false;\n    var props = 0;\n    for (var prop in a) if (a.hasOwnProperty(prop)) {\n      if (!b.hasOwnProperty(prop) || !cmp(a[prop], b[prop])) return false;\n      props++;\n    }\n    for (var prop in b) if (b.hasOwnProperty(prop)) props--;\n    return props == 0;\n  }\n\n  function enterLocalMode(config, state, spec, token) {\n    var pers;\n    if (spec.persistent) for (var p = state.persistentStates; p && !pers; p = p.next)\n      if (spec.spec ? cmp(spec.spec, p.spec) : spec.mode == p.mode) pers = p;\n    var mode = pers ? pers.mode : spec.mode || CodeMirror.getMode(config, spec.spec);\n    var lState = pers ? pers.state : CodeMirror.startState(mode);\n    if (spec.persistent && !pers)\n      state.persistentStates = {mode: mode, spec: spec.spec, state: lState, next: state.persistentStates};\n\n    state.localState = lState;\n    state.local = {mode: mode,\n                   end: spec.end && toRegex(spec.end),\n                   endScan: spec.end && spec.forceEnd !== false && toRegex(spec.end, false),\n                   endToken: token && token.join ? token[token.length - 1] : token};\n  }\n\n  function indexOf(val, arr) {\n    for (var i = 0; i < arr.length; i++) if (arr[i] === val) return true;\n  }\n\n  function indentFunction(states, meta) {\n    return function(state, textAfter, line) {\n      if (state.local && state.local.mode.indent)\n        return state.local.mode.indent(state.localState, textAfter, line);\n      if (state.indent == null || state.local || meta.dontIndentStates && indexOf(state.state, meta.dontIndentStates) > -1)\n        return CodeMirror.Pass;\n\n      var pos = state.indent.length - 1, rules = states[state.state];\n      scan: for (;;) {\n        for (var i = 0; i < rules.length; i++) {\n          var rule = rules[i];\n          if (rule.data.dedent && rule.data.dedentIfLineStart !== false) {\n            var m = rule.regex.exec(textAfter);\n            if (m && m[0]) {\n              pos--;\n              if (rule.next || rule.push) rules = states[rule.next || rule.push];\n              textAfter = textAfter.slice(m[0].length);\n              continue scan;\n            }\n          }\n        }\n        break;\n      }\n      return pos < 0 ? 0 : state.indent[pos];\n    };\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// LUA mode. Ported to CodeMirror 2 from Franciszek Wawrzak's\n// CodeMirror 1 mode.\n// highlights keywords, strings, comments (no leveling supported! (\"[==[\")), tokens, basic indenting\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"lua\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n\n  function prefixRE(words) {\n    return new RegExp(\"^(?:\" + words.join(\"|\") + \")\", \"i\");\n  }\n  function wordRE(words) {\n    return new RegExp(\"^(?:\" + words.join(\"|\") + \")$\", \"i\");\n  }\n  var specials = wordRE(parserConfig.specials || []);\n\n  // long list of standard functions from lua manual\n  var builtins = wordRE([\n    \"_G\",\"_VERSION\",\"assert\",\"collectgarbage\",\"dofile\",\"error\",\"getfenv\",\"getmetatable\",\"ipairs\",\"load\",\n    \"loadfile\",\"loadstring\",\"module\",\"next\",\"pairs\",\"pcall\",\"print\",\"rawequal\",\"rawget\",\"rawset\",\"require\",\n    \"select\",\"setfenv\",\"setmetatable\",\"tonumber\",\"tostring\",\"type\",\"unpack\",\"xpcall\",\n\n    \"coroutine.create\",\"coroutine.resume\",\"coroutine.running\",\"coroutine.status\",\"coroutine.wrap\",\"coroutine.yield\",\n\n    \"debug.debug\",\"debug.getfenv\",\"debug.gethook\",\"debug.getinfo\",\"debug.getlocal\",\"debug.getmetatable\",\n    \"debug.getregistry\",\"debug.getupvalue\",\"debug.setfenv\",\"debug.sethook\",\"debug.setlocal\",\"debug.setmetatable\",\n    \"debug.setupvalue\",\"debug.traceback\",\n\n    \"close\",\"flush\",\"lines\",\"read\",\"seek\",\"setvbuf\",\"write\",\n\n    \"io.close\",\"io.flush\",\"io.input\",\"io.lines\",\"io.open\",\"io.output\",\"io.popen\",\"io.read\",\"io.stderr\",\"io.stdin\",\n    \"io.stdout\",\"io.tmpfile\",\"io.type\",\"io.write\",\n\n    \"math.abs\",\"math.acos\",\"math.asin\",\"math.atan\",\"math.atan2\",\"math.ceil\",\"math.cos\",\"math.cosh\",\"math.deg\",\n    \"math.exp\",\"math.floor\",\"math.fmod\",\"math.frexp\",\"math.huge\",\"math.ldexp\",\"math.log\",\"math.log10\",\"math.max\",\n    \"math.min\",\"math.modf\",\"math.pi\",\"math.pow\",\"math.rad\",\"math.random\",\"math.randomseed\",\"math.sin\",\"math.sinh\",\n    \"math.sqrt\",\"math.tan\",\"math.tanh\",\n\n    \"os.clock\",\"os.date\",\"os.difftime\",\"os.execute\",\"os.exit\",\"os.getenv\",\"os.remove\",\"os.rename\",\"os.setlocale\",\n    \"os.time\",\"os.tmpname\",\n\n    \"package.cpath\",\"package.loaded\",\"package.loaders\",\"package.loadlib\",\"package.path\",\"package.preload\",\n    \"package.seeall\",\n\n    \"string.byte\",\"string.char\",\"string.dump\",\"string.find\",\"string.format\",\"string.gmatch\",\"string.gsub\",\n    \"string.len\",\"string.lower\",\"string.match\",\"string.rep\",\"string.reverse\",\"string.sub\",\"string.upper\",\n\n    \"table.concat\",\"table.insert\",\"table.maxn\",\"table.remove\",\"table.sort\"\n  ]);\n  var keywords = wordRE([\"and\",\"break\",\"elseif\",\"false\",\"nil\",\"not\",\"or\",\"return\",\n                         \"true\",\"function\", \"end\", \"if\", \"then\", \"else\", \"do\",\n                         \"while\", \"repeat\", \"until\", \"for\", \"in\", \"local\" ]);\n\n  var indentTokens = wordRE([\"function\", \"if\",\"repeat\",\"do\", \"\\\\(\", \"{\"]);\n  var dedentTokens = wordRE([\"end\", \"until\", \"\\\\)\", \"}\"]);\n  var dedentPartial = prefixRE([\"end\", \"until\", \"\\\\)\", \"}\", \"else\", \"elseif\"]);\n\n  function readBracket(stream) {\n    var level = 0;\n    while (stream.eat(\"=\")) ++level;\n    stream.eat(\"[\");\n    return level;\n  }\n\n  function normal(stream, state) {\n    var ch = stream.next();\n    if (ch == \"-\" && stream.eat(\"-\")) {\n      if (stream.eat(\"[\") && stream.eat(\"[\"))\n        return (state.cur = bracketed(readBracket(stream), \"comment\"))(stream, state);\n      stream.skipToEnd();\n      return \"comment\";\n    }\n    if (ch == \"\\\"\" || ch == \"'\")\n      return (state.cur = string(ch))(stream, state);\n    if (ch == \"[\" && /[\\[=]/.test(stream.peek()))\n      return (state.cur = bracketed(readBracket(stream), \"string\"))(stream, state);\n    if (/\\d/.test(ch)) {\n      stream.eatWhile(/[\\w.%]/);\n      return \"number\";\n    }\n    if (/[\\w_]/.test(ch)) {\n      stream.eatWhile(/[\\w\\\\\\-_.]/);\n      return \"variable\";\n    }\n    return null;\n  }\n\n  function bracketed(level, style) {\n    return function(stream, state) {\n      var curlev = null, ch;\n      while ((ch = stream.next()) != null) {\n        if (curlev == null) {if (ch == \"]\") curlev = 0;}\n        else if (ch == \"=\") ++curlev;\n        else if (ch == \"]\" && curlev == level) { state.cur = normal; break; }\n        else curlev = null;\n      }\n      return style;\n    };\n  }\n\n  function string(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) break;\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (!escaped) state.cur = normal;\n      return \"string\";\n    };\n  }\n\n  return {\n    startState: function(basecol) {\n      return {basecol: basecol || 0, indentDepth: 0, cur: normal};\n    },\n\n    token: function(stream, state) {\n      if (stream.eatSpace()) return null;\n      var style = state.cur(stream, state);\n      var word = stream.current();\n      if (style == \"variable\") {\n        if (keywords.test(word)) style = \"keyword\";\n        else if (builtins.test(word)) style = \"builtin\";\n        else if (specials.test(word)) style = \"variable-2\";\n      }\n      if ((style != \"comment\") && (style != \"string\")){\n        if (indentTokens.test(word)) ++state.indentDepth;\n        else if (dedentTokens.test(word)) --state.indentDepth;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      var closing = dedentPartial.test(textAfter);\n      return state.basecol + indentUnit * (state.indentDepth - (closing ? 1 : 0));\n    },\n\n    electricInput: /^\\s*(?:end|until|else|\\)|\\})$/,\n    lineComment: \"--\",\n    blockCommentStart: \"--[[\",\n    blockCommentEnd: \"]]\"\n  };\n});\n\nCodeMirror.defineMIME(\"text/x-lua\", \"lua\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../meta\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../meta\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"markdown\", function(cmCfg, modeCfg) {\n\n  var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n  var htmlModeMissing = htmlMode.name == \"null\"\n\n  function getMode(name) {\n    if (CodeMirror.findModeByName) {\n      var found = CodeMirror.findModeByName(name);\n      if (found) name = found.mime || found.mimes[0];\n    }\n    var mode = CodeMirror.getMode(cmCfg, name);\n    return mode.name == \"null\" ? null : mode;\n  }\n\n  // Should characters that affect highlighting be highlighted separate?\n  // Does not include characters that will be output (such as `1.` and `-` for lists)\n  if (modeCfg.highlightFormatting === undefined)\n    modeCfg.highlightFormatting = false;\n\n  // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n  // Excess `>` will emit `error` token.\n  if (modeCfg.maxBlockquoteDepth === undefined)\n    modeCfg.maxBlockquoteDepth = 0;\n\n  // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n  if (modeCfg.taskLists === undefined) modeCfg.taskLists = false;\n\n  // Turn on strikethrough syntax\n  if (modeCfg.strikethrough === undefined)\n    modeCfg.strikethrough = false;\n\n  if (modeCfg.emoji === undefined)\n    modeCfg.emoji = false;\n\n  if (modeCfg.fencedCodeBlockHighlighting === undefined)\n    modeCfg.fencedCodeBlockHighlighting = true;\n\n  if (modeCfg.fencedCodeBlockDefaultMode === undefined)\n    modeCfg.fencedCodeBlockDefaultMode = 'text/plain';\n\n  if (modeCfg.xml === undefined)\n    modeCfg.xml = true;\n\n  // Allow token types to be overridden by user-provided token types.\n  if (modeCfg.tokenTypeOverrides === undefined)\n    modeCfg.tokenTypeOverrides = {};\n\n  var tokenTypes = {\n    header: \"header\",\n    code: \"comment\",\n    quote: \"quote\",\n    list1: \"variable-2\",\n    list2: \"variable-3\",\n    list3: \"keyword\",\n    hr: \"hr\",\n    image: \"image\",\n    imageAltText: \"image-alt-text\",\n    imageMarker: \"image-marker\",\n    formatting: \"formatting\",\n    linkInline: \"link\",\n    linkEmail: \"link\",\n    linkText: \"link\",\n    linkHref: \"string\",\n    em: \"em\",\n    strong: \"strong\",\n    strikethrough: \"strikethrough\",\n    emoji: \"builtin\"\n  };\n\n  for (var tokenType in tokenTypes) {\n    if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n      tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n    }\n  }\n\n  var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/\n  ,   listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/\n  ,   taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n  ,   atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/\n  ,   setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/\n  ,   textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/\n  ,   fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/\n  ,   linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n  ,   punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n  ,   expandedTab = \"    \" // CommonMark specifies tab as 4 spaces\n\n  function switchInline(stream, state, f) {\n    state.f = state.inline = f;\n    return f(stream, state);\n  }\n\n  function switchBlock(stream, state, f) {\n    state.f = state.block = f;\n    return f(stream, state);\n  }\n\n  function lineIsEmpty(line) {\n    return !line || !/\\S/.test(line.string)\n  }\n\n  // Blocks\n\n  function blankLine(state) {\n    // Reset linkTitle state\n    state.linkTitle = false;\n    state.linkHref = false;\n    state.linkText = false;\n    // Reset EM state\n    state.em = false;\n    // Reset STRONG state\n    state.strong = false;\n    // Reset strikethrough state\n    state.strikethrough = false;\n    // Reset state.quote\n    state.quote = 0;\n    // Reset state.indentedCode\n    state.indentedCode = false;\n    if (state.f == htmlBlock) {\n      var exit = htmlModeMissing\n      if (!exit) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n        exit = inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n          (!inner.state.context && inner.state.tokenize.isInText)\n      }\n      if (exit) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    // Reset state.trailingSpace\n    state.trailingSpace = 0;\n    state.trailingSpaceNewLine = false;\n    // Mark this line as blank\n    state.prevLine = state.thisLine\n    state.thisLine = {stream: null}\n    return null;\n  }\n\n  function blockNormal(stream, state) {\n    var firstTokenOnLine = stream.column() === state.indentation;\n    var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n    var prevLineIsIndentedCode = state.indentedCode;\n    var prevLineIsHr = state.prevLine.hr;\n    var prevLineIsList = state.list !== false;\n    var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n\n    state.indentedCode = false;\n\n    var lineIndentation = state.indentation;\n    // compute once per line (on first token)\n    if (state.indentationDiff === null) {\n      state.indentationDiff = state.indentation;\n      if (prevLineIsList) {\n        state.list = null;\n        // While this list item's marker's indentation is less than the deepest\n        //  list item's content's indentation,pop the deepest list item\n        //  indentation off the stack, and update block indentation state\n        while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n          state.listStack.pop();\n          if (state.listStack.length) {\n            state.indentation = state.listStack[state.listStack.length - 1];\n          // less than the first list's indent -> the line is no longer a list\n          } else {\n            state.list = false;\n          }\n        }\n        if (state.list !== false) {\n          state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1]\n        }\n      }\n    }\n\n    // not comprehensive (currently only for setext detection purposes)\n    var allowsInlineContinuation = (\n        !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header &&\n        (!prevLineIsList || !prevLineIsIndentedCode) &&\n        !state.prevLine.fencedCodeEnd\n    );\n\n    var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) &&\n      state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n\n    var match = null;\n    if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd ||\n         state.prevLine.header || prevLineLineIsEmpty)) {\n      stream.skipToEnd();\n      state.indentedCode = true;\n      return tokenTypes.code;\n    } else if (stream.eatSpace()) {\n      return null;\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n      state.quote = 0;\n      state.header = match[1].length;\n      state.thisLine.header = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      state.f = state.inline;\n      return getType(state);\n    } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n      state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n      if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n      stream.eatSpace();\n      return getType(state);\n    } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n      var listType = match[1] ? \"ol\" : \"ul\";\n\n      state.indentation = lineIndentation + stream.current().length;\n      state.list = true;\n      state.quote = 0;\n\n      // Add this list item's content's indentation to the stack\n      state.listStack.push(state.indentation);\n      // Reset inline styles which shouldn't propagate across list items\n      state.em = false;\n      state.strong = false;\n      state.code = false;\n      state.strikethrough = false;\n\n      if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n        state.taskList = true;\n      }\n      state.f = state.inline;\n      if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n      return getType(state);\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n      state.quote = 0;\n      state.fencedEndRE = new RegExp(match[1] + \"+ *$\");\n      // try switching mode\n      state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode );\n      if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n      state.f = state.block = local;\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      state.code = -1\n      return getType(state);\n    // SETEXT has lowest block-scope precedence after HR, so check it after\n    //  the others (code, blockquote, list...)\n    } else if (\n      // if setext set, indicates line after ---/===\n      state.setext || (\n        // line before ---/===\n        (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false &&\n        !state.code && !isHr && !linkDefRE.test(stream.string) &&\n        (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))\n      )\n    ) {\n      if ( !state.setext ) {\n        state.header = match[0].charAt(0) == '=' ? 1 : 2;\n        state.setext = state.header;\n      } else {\n        state.header = state.setext;\n        // has no effect on type so we can reset it now\n        state.setext = 0;\n        stream.skipToEnd();\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      }\n      state.thisLine.header = true;\n      state.f = state.inline;\n      return getType(state);\n    } else if (isHr) {\n      stream.skipToEnd();\n      state.hr = true;\n      state.thisLine.hr = true;\n      return tokenTypes.hr;\n    } else if (stream.peek() === '[') {\n      return switchInline(stream, state, footnoteLink);\n    }\n\n    return switchInline(stream, state, state.inline);\n  }\n\n  function htmlBlock(stream, state) {\n    var style = htmlMode.token(stream, state.htmlState);\n    if (!htmlModeMissing) {\n      var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n      if ((inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n           (!inner.state.context && inner.state.tokenize.isInText)) ||\n          (state.md_inside && stream.current().indexOf(\">\") > -1)) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    return style;\n  }\n\n  function local(stream, state) {\n    var currListInd = state.listStack[state.listStack.length - 1] || 0;\n    var hasExitedList = state.indentation < currListInd;\n    var maxFencedEndInd = currListInd + 3;\n    if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      var returnType;\n      if (!hasExitedList) returnType = getType(state)\n      state.localMode = state.localState = null;\n      state.block = blockNormal;\n      state.f = inlineNormal;\n      state.fencedEndRE = null;\n      state.code = 0\n      state.thisLine.fencedCodeEnd = true;\n      if (hasExitedList) return switchBlock(stream, state, state.block);\n      return returnType;\n    } else if (state.localMode) {\n      return state.localMode.token(stream, state.localState);\n    } else {\n      stream.skipToEnd();\n      return tokenTypes.code;\n    }\n  }\n\n  // Inline\n  function getType(state) {\n    var styles = [];\n\n    if (state.formatting) {\n      styles.push(tokenTypes.formatting);\n\n      if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n      for (var i = 0; i < state.formatting.length; i++) {\n        styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n        if (state.formatting[i] === \"header\") {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n        }\n\n        // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n        // Add `error` instead if the maximum blockquote nesting depth is passed\n        if (state.formatting[i] === \"quote\") {\n          if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n          } else {\n            styles.push(\"error\");\n          }\n        }\n      }\n    }\n\n    if (state.taskOpen) {\n      styles.push(\"meta\");\n      return styles.length ? styles.join(' ') : null;\n    }\n    if (state.taskClosed) {\n      styles.push(\"property\");\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    if (state.linkHref) {\n      styles.push(tokenTypes.linkHref, \"url\");\n    } else { // Only apply inline styles to non-url text\n      if (state.strong) { styles.push(tokenTypes.strong); }\n      if (state.em) { styles.push(tokenTypes.em); }\n      if (state.strikethrough) { styles.push(tokenTypes.strikethrough); }\n      if (state.emoji) { styles.push(tokenTypes.emoji); }\n      if (state.linkText) { styles.push(tokenTypes.linkText); }\n      if (state.code) { styles.push(tokenTypes.code); }\n      if (state.image) { styles.push(tokenTypes.image); }\n      if (state.imageAltText) { styles.push(tokenTypes.imageAltText, \"link\"); }\n      if (state.imageMarker) { styles.push(tokenTypes.imageMarker); }\n    }\n\n    if (state.header) { styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header); }\n\n    if (state.quote) {\n      styles.push(tokenTypes.quote);\n\n      // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n      if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n        styles.push(tokenTypes.quote + \"-\" + state.quote);\n      } else {\n        styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n      }\n    }\n\n    if (state.list !== false) {\n      var listMod = (state.listStack.length - 1) % 3;\n      if (!listMod) {\n        styles.push(tokenTypes.list1);\n      } else if (listMod === 1) {\n        styles.push(tokenTypes.list2);\n      } else {\n        styles.push(tokenTypes.list3);\n      }\n    }\n\n    if (state.trailingSpaceNewLine) {\n      styles.push(\"trailing-space-new-line\");\n    } else if (state.trailingSpace) {\n      styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n    }\n\n    return styles.length ? styles.join(' ') : null;\n  }\n\n  function handleText(stream, state) {\n    if (stream.match(textRE, true)) {\n      return getType(state);\n    }\n    return undefined;\n  }\n\n  function inlineNormal(stream, state) {\n    var style = state.text(stream, state);\n    if (typeof style !== 'undefined')\n      return style;\n\n    if (state.list) { // List marker (*, +, -, 1., etc)\n      state.list = null;\n      return getType(state);\n    }\n\n    if (state.taskList) {\n      var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n      if (taskOpen) state.taskOpen = true;\n      else state.taskClosed = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"task\";\n      state.taskList = false;\n      return getType(state);\n    }\n\n    state.taskOpen = false;\n    state.taskClosed = false;\n\n    if (state.header && stream.match(/^#+$/, true)) {\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      return getType(state);\n    }\n\n    var ch = stream.next();\n\n    // Matches link titles present on next line\n    if (state.linkTitle) {\n      state.linkTitle = false;\n      var matchCh = ch;\n      if (ch === '(') {\n        matchCh = ')';\n      }\n      matchCh = (matchCh+'').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n      var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n      if (stream.match(new RegExp(regex), true)) {\n        return tokenTypes.linkHref;\n      }\n    }\n\n    // If this block is changed, it may need to be updated in GFM mode\n    if (ch === '`') {\n      var previousFormatting = state.formatting;\n      if (modeCfg.highlightFormatting) state.formatting = \"code\";\n      stream.eatWhile('`');\n      var count = stream.current().length\n      if (state.code == 0 && (!state.quote || count == 1)) {\n        state.code = count\n        return getType(state)\n      } else if (count == state.code) { // Must be exact\n        var t = getType(state)\n        state.code = 0\n        return t\n      } else {\n        state.formatting = previousFormatting\n        return getType(state)\n      }\n    } else if (state.code) {\n      return getType(state);\n    }\n\n    if (ch === '\\\\') {\n      stream.next();\n      if (modeCfg.highlightFormatting) {\n        var type = getType(state);\n        var formattingEscape = tokenTypes.formatting + \"-escape\";\n        return type ? type + \" \" + formattingEscape : formattingEscape;\n      }\n    }\n\n    if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n      state.imageMarker = true;\n      state.image = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n      state.imageMarker = false;\n      state.imageAltText = true\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.imageAltText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      var type = getType(state);\n      state.imageAltText = false;\n      state.image = false;\n      state.inline = state.f = linkHref;\n      return type;\n    }\n\n    if (ch === '[' && !state.image) {\n      if (state.linkText && stream.match(/^.*?\\]/)) return getType(state)\n      state.linkText = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.linkText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      state.linkText = false;\n      state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal\n      return type;\n    }\n\n    if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkEmail;\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n      var end = stream.string.indexOf(\">\", stream.pos);\n      if (end != -1) {\n        var atts = stream.string.substring(stream.start, end);\n        if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n      }\n      stream.backUp(1);\n      state.htmlState = CodeMirror.startState(htmlMode);\n      return switchBlock(stream, state, htmlBlock);\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n      state.md_inside = false;\n      return \"tag\";\n    } else if (ch === \"*\" || ch === \"_\") {\n      var len = 1, before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2)\n      while (len < 3 && stream.eat(ch)) len++\n      var after = stream.peek() || \" \"\n      // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n      var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before))\n      var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after))\n      var setEm = null, setStrong = null\n      if (len % 2) { // Em\n        if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setEm = true\n        else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setEm = false\n      }\n      if (len > 1) { // Strong\n        if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setStrong = true\n        else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setStrong = false\n      }\n      if (setStrong != null || setEm != null) {\n        if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\"\n        if (setEm === true) state.em = ch\n        if (setStrong === true) state.strong = ch\n        var t = getType(state)\n        if (setEm === false) state.em = false\n        if (setStrong === false) state.strong = false\n        return t\n      }\n    } else if (ch === ' ') {\n      if (stream.eat('*') || stream.eat('_')) { // Probably surrounded by spaces\n        if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n          return getType(state);\n        } else { // Not surrounded by spaces, back up pointer\n          stream.backUp(1);\n        }\n      }\n    }\n\n    if (modeCfg.strikethrough) {\n      if (ch === '~' && stream.eatWhile(ch)) {\n        if (state.strikethrough) {// Remove strikethrough\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          var t = getType(state);\n          state.strikethrough = false;\n          return t;\n        } else if (stream.match(/^[^\\s]/, false)) {// Add strikethrough\n          state.strikethrough = true;\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          return getType(state);\n        }\n      } else if (ch === ' ') {\n        if (stream.match('~~', true)) { // Probably surrounded by space\n          if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n            return getType(state);\n          } else { // Not surrounded by spaces, back up pointer\n            stream.backUp(2);\n          }\n        }\n      }\n    }\n\n    if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n      state.emoji = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n      var retType = getType(state);\n      state.emoji = false;\n      return retType;\n    }\n\n    if (ch === ' ') {\n      if (stream.match(/^ +$/, false)) {\n        state.trailingSpace++;\n      } else if (state.trailingSpace) {\n        state.trailingSpaceNewLine = true;\n      }\n    }\n\n    return getType(state);\n  }\n\n  function linkInline(stream, state) {\n    var ch = stream.next();\n\n    if (ch === \">\") {\n      state.f = state.inline = inlineNormal;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    stream.match(/^[^>]+/, true);\n\n    return tokenTypes.linkInline;\n  }\n\n  function linkHref(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    var ch = stream.next();\n    if (ch === '(' || ch === '[') {\n      state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n      if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n      state.linkHref = true;\n      return getType(state);\n    }\n    return 'error';\n  }\n\n  var linkRE = {\n    \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n    \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n  }\n\n  function getLinkHrefInside(endChar) {\n    return function(stream, state) {\n      var ch = stream.next();\n\n      if (ch === endChar) {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        var returnState = getType(state);\n        state.linkHref = false;\n        return returnState;\n      }\n\n      stream.match(linkRE[endChar])\n      state.linkHref = true;\n      return getType(state);\n    };\n  }\n\n  function footnoteLink(stream, state) {\n    if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n      state.f = footnoteLinkInside;\n      stream.next(); // Consume [\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      state.linkText = true;\n      return getType(state);\n    }\n    return switchInline(stream, state, inlineNormal);\n  }\n\n  function footnoteLinkInside(stream, state) {\n    if (stream.match(']:', true)) {\n      state.f = state.inline = footnoteUrl;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var returnType = getType(state);\n      state.linkText = false;\n      return returnType;\n    }\n\n    stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n\n    return tokenTypes.linkText;\n  }\n\n  function footnoteUrl(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    // Match URL\n    stream.match(/^[^\\s]+/, true);\n    // Check for link title\n    if (stream.peek() === undefined) { // End of line, set flag to check next line\n      state.linkTitle = true;\n    } else { // More content on line, check if link title\n      stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\.)+\"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/, true);\n    }\n    state.f = state.inline = inlineNormal;\n    return tokenTypes.linkHref + \" url\";\n  }\n\n  var mode = {\n    startState: function() {\n      return {\n        f: blockNormal,\n\n        prevLine: {stream: null},\n        thisLine: {stream: null},\n\n        block: blockNormal,\n        htmlState: null,\n        indentation: 0,\n\n        inline: inlineNormal,\n        text: handleText,\n\n        formatting: false,\n        linkText: false,\n        linkHref: false,\n        linkTitle: false,\n        code: 0,\n        em: false,\n        strong: false,\n        header: 0,\n        setext: 0,\n        hr: false,\n        taskList: false,\n        list: false,\n        listStack: [],\n        quote: 0,\n        trailingSpace: 0,\n        trailingSpaceNewLine: false,\n        strikethrough: false,\n        emoji: false,\n        fencedEndRE: null\n      };\n    },\n\n    copyState: function(s) {\n      return {\n        f: s.f,\n\n        prevLine: s.prevLine,\n        thisLine: s.thisLine,\n\n        block: s.block,\n        htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n        indentation: s.indentation,\n\n        localMode: s.localMode,\n        localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n\n        inline: s.inline,\n        text: s.text,\n        formatting: false,\n        linkText: s.linkText,\n        linkTitle: s.linkTitle,\n        linkHref: s.linkHref,\n        code: s.code,\n        em: s.em,\n        strong: s.strong,\n        strikethrough: s.strikethrough,\n        emoji: s.emoji,\n        header: s.header,\n        setext: s.setext,\n        hr: s.hr,\n        taskList: s.taskList,\n        list: s.list,\n        listStack: s.listStack.slice(0),\n        quote: s.quote,\n        indentedCode: s.indentedCode,\n        trailingSpace: s.trailingSpace,\n        trailingSpaceNewLine: s.trailingSpaceNewLine,\n        md_inside: s.md_inside,\n        fencedEndRE: s.fencedEndRE\n      };\n    },\n\n    token: function(stream, state) {\n\n      // Reset state.formatting\n      state.formatting = false;\n\n      if (stream != state.thisLine.stream) {\n        state.header = 0;\n        state.hr = false;\n\n        if (stream.match(/^\\s*$/, true)) {\n          blankLine(state);\n          return null;\n        }\n\n        state.prevLine = state.thisLine\n        state.thisLine = {stream: stream}\n\n        // Reset state.taskList\n        state.taskList = false;\n\n        // Reset state.trailingSpace\n        state.trailingSpace = 0;\n        state.trailingSpaceNewLine = false;\n\n        if (!state.localState) {\n          state.f = state.block;\n          if (state.f != htmlBlock) {\n            var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n            state.indentation = indentation;\n            state.indentationDiff = null;\n            if (indentation > 0) return null;\n          }\n        }\n      }\n      return state.f(stream, state);\n    },\n\n    innerMode: function(state) {\n      if (state.block == htmlBlock) return {state: state.htmlState, mode: htmlMode};\n      if (state.localState) return {state: state.localState, mode: state.localMode};\n      return {state: state, mode: mode};\n    },\n\n    indent: function(state, textAfter, line) {\n      if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line)\n      if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line)\n      return CodeMirror.Pass\n    },\n\n    blankLine: blankLine,\n\n    getType: getType,\n\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"markdown\"\n  };\n  return mode;\n}, \"xml\");\n\nCodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n\nCodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n\n});\n","import 'codemirror/addon/mode/multiplex'\nimport 'codemirror/addon/mode/overlay'\nimport 'codemirror/addon/mode/simple'\nimport 'codemirror/mode/markdown/markdown'\nimport 'codemirror/mode/lua/lua'\nimport editorCss from './editor.css'\n\nlet styleContainer = document.querySelector('style#cm-moontale');\nif (!styleContainer) {\n    styleContainer = document.createElement('style')\n    styleContainer.setAttribute('id', 'cm-moontale')\n    document.head.appendChild(styleContainer)\n}\nstyleContainer.innerHTML = editorCss\n\nwindow.CodeMirror.defineSimpleMode('moontale', {\n    start: [\n        {regex: /\\{\\$/, token: 'tag', mode: {spec: 'lua', end: /\\$\\}/}},\n        {regex: /\\<\\$/, token: 'tag', mode: {spec: 'lua', end: /\\$\\>/}},\n        {regex: /\\$[A-Za-z_]\\w*/, token: 'variable-2', push: 'expression'},\n        {regex: /(\\[\\[)(.*?)(<\\-)/, token: ['bracket', 'link', 'special', 'bracket']},\n        {regex: /(\\[\\[)((?:(?!->).)*?)(\\]\\])/, token: ['bracket', 'link', 'bracket']},\n        {regex: /\\[\\[/, token: 'bracket'},\n        {regex: /(->)(.*?)(]])/, token: ['special', 'link', 'bracket']},\n        {regex: /(->)/, token: 'special'},\n        {regex: /]]/, token: 'bracket'},\n        {regex: /\\[|]/, token: 'tag'},\n        {regex: /-|\\{|<|\\[|]|\\$/},\n        {regex: /(?!\\$)/, mode: {spec: 'markdown', end: /(?=-|\\{|<|\\[|]|\\$)/, persistent: true}},\n    ],\n    expression: [\n        {sol: true, pop: true},\n        {regex: /<</, token: 'bracket', mode: {spec: 'lua', end: />>/}},\n        {regex: /(\\.)(\\w+)/, token: ['punctuation', 'variable'], next: 'expression'},\n        {regex: /\\(/, token: 'bracket', mode: {spec: 'lua', end: /\\)/}},\n        {regex: /\\{/, token: 'bracket', mode: {spec: 'lua', end: /\\}/}},\n        {regex: '', pop: true},\n    ]\n})\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(5056);\n"],"sourceRoot":""}