window.storyFormat({name:"Moontale",version:"0.2.0",author:"Hamish Milne",description:"A Twine 2 story format that outputs Lua",proofing:!1,url:"https://github.com/hamish-milne/moontale",license:"MIT",image:"icon.svg",hydrate:`"use strict";
this.editorExtensions=(()=>{var fT=Object.create;var Ki=Object.defineProperty;var pT=Object.getOwnPropertyDescriptor;var _T=Object.getOwnPropertyNames;var hT=Object.getPrototypeOf,dT=Object.prototype.hasOwnProperty;var Ce=(e,t)=>()=>(e&&(t=e(e=0)),t);var w=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),O_=(e,t)=>{for(var n in t)Ki(e,n,{get:t[n],enumerable:!0})},S_=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _T(t))!dT.call(e,o)&&o!==n&&Ki(e,o,{get:()=>t[o],enumerable:!(r=pT(t,o))||r.enumerable});return e};var fo=(e,t,n)=>(n=e!=null?fT(hT(e)):{},S_(t||!e||!e.__esModule?Ki(n,"default",{value:e,enumerable:!0}):n,e)),w_=e=>S_(Ki({},"__esModule",{value:!0}),e);var y_,R_=Ce(()=>{(y_=window.CodeMirror)!=null||(window.CodeMirror=Object.getPrototypeOf(document.getElementsByClassName("CodeMirror")[0].CodeMirror).constructor)});var U_=Ce(()=>{(function(e){e(CodeMirror)})(function(e){e.multiplexingMode=function(t){var n=Array.prototype.slice.call(arguments,1);function r(o,l,i,a){if(typeof l=="string"){var u=o.indexOf(l,i);return a&&u>-1?u+l.length:u}var c=l.exec(i?o.slice(i):o);return c?c.index+i+(a?c[0].length:0):-1}return{startState:function(){return{outer:e.startState(t),innerActive:null,inner:null,startingInner:!1}},copyState:function(o){return{outer:e.copyState(t,o.outer),innerActive:o.innerActive,inner:o.innerActive&&e.copyState(o.innerActive.mode,o.inner),startingInner:o.startingInner}},token:function(o,l){if(l.innerActive){var x=l.innerActive,a=o.string;if(!x.close&&o.sol())return l.innerActive=l.inner=null,this.token(o,l);var s=x.close&&!l.startingInner?r(a,x.close,o.pos,x.parseDelimiters):-1;if(s==o.pos&&!x.parseDelimiters)return o.match(x.close),l.innerActive=l.inner=null,x.delimStyle&&x.delimStyle+" "+x.delimStyle+"-close";s>-1&&(o.string=a.slice(0,s));var O=x.mode.token(o,l.inner);return s>-1?o.string=a:o.pos>o.start&&(l.startingInner=!1),s==o.pos&&x.parseDelimiters&&(l.innerActive=l.inner=null),x.innerStyle&&(O?O=O+" "+x.innerStyle:O=x.innerStyle),O}else{for(var i=1/0,a=o.string,u=0;u<n.length;++u){var c=n[u],s=r(a,c.open,o.pos);if(s==o.pos){c.parseDelimiters||o.match(c.open),l.startingInner=!!c.parseDelimiters,l.innerActive=c;var p=0;if(t.indent){var _=t.indent(l.outer,"","");_!==e.Pass&&(p=_)}return l.inner=e.startState(c.mode,p),c.delimStyle&&c.delimStyle+" "+c.delimStyle+"-open"}else s!=-1&&s<i&&(i=s)}i!=1/0&&(o.string=a.slice(0,i));var d=t.token(o,l.outer);return i!=1/0&&(o.string=a),d}},indent:function(o,l,i){var a=o.innerActive?o.innerActive.mode:t;return a.indent?a.indent(o.innerActive?o.inner:o.outer,l,i):e.Pass},blankLine:function(o){var l=o.innerActive?o.innerActive.mode:t;if(l.blankLine&&l.blankLine(o.innerActive?o.inner:o.outer),o.innerActive)o.innerActive.close===\`
\`&&(o.innerActive=o.inner=null);else for(var i=0;i<n.length;++i){var a=n[i];a.open===\`
\`&&(o.innerActive=a,o.inner=e.startState(a.mode,l.indent?l.indent(o.outer,"",""):0))}},electricChars:t.electricChars,innerMode:function(o){return o.inner?{state:o.inner,mode:o.innerActive.mode}:{state:o.outer,mode:t}}}}})});var C_=Ce(()=>{(function(e){e(CodeMirror)})(function(e){e.overlayMode=function(t,n,r){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(o){return{base:e.copyState(t,o.base),overlay:e.copyState(n,o.overlay),basePos:o.basePos,baseCur:null,overlayPos:o.overlayPos,overlayCur:null}},token:function(o,l){return(o!=l.streamSeen||Math.min(l.basePos,l.overlayPos)<o.start)&&(l.streamSeen=o,l.basePos=l.overlayPos=o.start),o.start==l.basePos&&(l.baseCur=t.token(o,l.base),l.basePos=o.pos),o.start==l.overlayPos&&(o.pos=o.start,l.overlayCur=n.token(o,l.overlay),l.overlayPos=o.pos),o.pos=Math.min(l.basePos,l.overlayPos),l.overlayCur==null?l.baseCur:l.baseCur!=null&&l.overlay.combineTokens||r&&l.overlay.combineTokens==null?l.baseCur+" "+l.overlayCur:l.overlayCur},indent:t.indent&&function(o,l,i){return t.indent(o.base,l,i)},electricChars:t.electricChars,innerMode:function(o){return{state:o.base,mode:t}},blankLine:function(o){var l,i;return t.blankLine&&(l=t.blankLine(o.base)),n.blankLine&&(i=n.blankLine(o.overlay)),i==null?l:r&&l!=null?l+" "+i:i}}}})});var N_=Ce(()=>{(function(e){e(CodeMirror)})(function(e){e.defineSimpleMode=function(s,p){e.defineMode(s,function(_){return e.simpleMode(_,p)})},e.simpleMode=function(s,p){t(p,"start");var _={},d=p.meta||{},x=!1;for(var O in p)if(O!=d&&p.hasOwnProperty(O))for(var T=_[O]=[],S=p[O],b=0;b<S.length;b++){var E=S[b];T.push(new o(E,p)),(E.indent||E.dedent)&&(x=!0)}var I={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:x?[]:null}},copyState:function(A){var y={state:A.state,pending:A.pending,local:A.local,localState:null,indent:A.indent&&A.indent.slice(0)};A.localState&&(y.localState=e.copyState(A.local.mode,A.localState)),A.stack&&(y.stack=A.stack.slice(0));for(var U=A.persistentStates;U;U=U.next)y.persistentStates={mode:U.mode,spec:U.spec,state:U.state==A.localState?y.localState:e.copyState(U.mode,U.state),next:y.persistentStates};return y},token:l(_,s),innerMode:function(A){return A.local&&{mode:A.local.mode,state:A.localState}},indent:c(_,d)};if(d)for(var k in d)d.hasOwnProperty(k)&&(I[k]=d[k]);return I};function t(s,p){if(!s.hasOwnProperty(p))throw new Error("Undefined state "+p+" in simple mode")}function n(s,p){if(!s)return/(?:)/;var _="";return s instanceof RegExp?(s.ignoreCase&&(_="i"),s.unicode&&(_+="u"),s=s.source):s=String(s),new RegExp((p===!1?"":"^")+"(?:"+s+")",_)}function r(s){if(!s)return null;if(s.apply)return s;if(typeof s=="string")return s.replace(/\\./g," ");for(var p=[],_=0;_<s.length;_++)p.push(s[_]&&s[_].replace(/\\./g," "));return p}function o(s,p){(s.next||s.push)&&t(p,s.next||s.push),this.regex=n(s.regex),this.token=r(s.token),this.data=s}function l(s,p){return function(_,d){if(d.pending){var x=d.pending.shift();return d.pending.length==0&&(d.pending=null),_.pos+=x.text.length,x.token}if(d.local)if(d.local.end&&_.match(d.local.end)){var O=d.local.endToken||null;return d.local=d.localState=null,O}else{var O=d.local.mode.token(_,d.localState),T;return d.local.endScan&&(T=d.local.endScan.exec(_.current()))&&(_.pos=_.start+T.index),O}for(var S=s[d.state],b=0;b<S.length;b++){var E=S[b],I=(!E.data.sol||_.sol())&&_.match(E.regex);if(I){E.data.next?d.state=E.data.next:E.data.push?((d.stack||(d.stack=[])).push(d.state),d.state=E.data.push):E.data.pop&&d.stack&&d.stack.length&&(d.state=d.stack.pop()),E.data.mode&&a(p,d,E.data.mode,E.token),E.data.indent&&d.indent.push(_.indentation()+p.indentUnit),E.data.dedent&&d.indent.pop();var k=E.token;if(k&&k.apply&&(k=k(I)),I.length>2&&E.token&&typeof E.token!="string"){for(var A=2;A<I.length;A++)I[A]&&(d.pending||(d.pending=[])).push({text:I[A],token:E.token[A-1]});return _.backUp(I[0].length-(I[1]?I[1].length:0)),k[0]}else return k&&k.join?k[0]:k}}return _.next(),null}}function i(s,p){if(s===p)return!0;if(!s||typeof s!="object"||!p||typeof p!="object")return!1;var _=0;for(var d in s)if(s.hasOwnProperty(d)){if(!p.hasOwnProperty(d)||!i(s[d],p[d]))return!1;_++}for(var d in p)p.hasOwnProperty(d)&&_--;return _==0}function a(s,p,_,d){var x;if(_.persistent)for(var O=p.persistentStates;O&&!x;O=O.next)(_.spec?i(_.spec,O.spec):_.mode==O.mode)&&(x=O);var T=x?x.mode:_.mode||e.getMode(s,_.spec),S=x?x.state:e.startState(T);_.persistent&&!x&&(p.persistentStates={mode:T,spec:_.spec,state:S,next:p.persistentStates}),p.localState=S,p.local={mode:T,end:_.end&&n(_.end),endScan:_.end&&_.forceEnd!==!1&&n(_.end,!1),endToken:d&&d.join?d[d.length-1]:d}}function u(s,p){for(var _=0;_<p.length;_++)if(p[_]===s)return!0}function c(s,p){return function(_,d,x){if(_.local&&_.local.mode.indent)return _.local.mode.indent(_.localState,d,x);if(_.indent==null||_.local||p.dontIndentStates&&u(_.state,p.dontIndentStates)>-1)return e.Pass;var O=_.indent.length-1,T=s[_.state];e:for(;;){for(var S=0;S<T.length;S++){var b=T[S];if(b.data.dedent&&b.data.dedentIfLineStart!==!1){var E=b.regex.exec(d);if(E&&E[0]){O--,(b.next||b.push)&&(T=s[b.next||b.push]),d=d.slice(E[0].length);continue e}}}break}return O<0?0:_.indent[O]}}})});var D_=Ce(()=>{(function(e){e(CodeMirror)})(function(e){e.defineMode("markdown",function(t,n){var r=e.getMode(t,"text/html"),o=r.name=="null";function l(h){if(e.findModeByName){var f=e.findModeByName(h);f&&(h=f.mime||f.mimes[0])}var B=e.getMode(t,h);return B.name=="null"?null:B}n.highlightFormatting===void 0&&(n.highlightFormatting=!1),n.maxBlockquoteDepth===void 0&&(n.maxBlockquoteDepth=0),n.taskLists===void 0&&(n.taskLists=!1),n.strikethrough===void 0&&(n.strikethrough=!1),n.emoji===void 0&&(n.emoji=!1),n.fencedCodeBlockHighlighting===void 0&&(n.fencedCodeBlockHighlighting=!0),n.fencedCodeBlockDefaultMode===void 0&&(n.fencedCodeBlockDefaultMode="text/plain"),n.xml===void 0&&(n.xml=!0),n.tokenTypeOverrides===void 0&&(n.tokenTypeOverrides={});var i={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var a in i)i.hasOwnProperty(a)&&n.tokenTypeOverrides[a]&&(i[a]=n.tokenTypeOverrides[a]);var u=/^([*\\-_])(?:\\s*\\1){2,}\\s*$/,c=/^(?:[*\\-+]|^[0-9]+([.)]))\\s+/,s=/^\\[(x| )\\](?=\\s)/i,p=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,_=/^ {0,3}(?:\\={1,}|-{2,})\\s*$/,d=/^[^#!\\[\\]*_\\\\<>\` "'(~:]+/,x=/^(~~~+|\`\`\`+)[ \\t]*([\\w\\/+#-]*)[^\\n\`]*$/,O=/^\\s*\\[[^\\]]+?\\]:.*$/,T=/[!"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_\`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/,S="    ";function b(h,f,B){return f.f=f.inline=B,B(h,f)}function E(h,f,B){return f.f=f.block=B,B(h,f)}function I(h){return!h||!/\\S/.test(h.string)}function k(h){if(h.linkTitle=!1,h.linkHref=!1,h.linkText=!1,h.em=!1,h.strong=!1,h.strikethrough=!1,h.quote=0,h.indentedCode=!1,h.f==y){var f=o;if(!f){var B=e.innerMode(r,h.htmlState);f=B.mode.name=="xml"&&B.state.tagStart===null&&!B.state.context&&B.state.tokenize.isInText}f&&(h.f=P,h.block=A,h.htmlState=null)}return h.trailingSpace=0,h.trailingSpaceNewLine=!1,h.prevLine=h.thisLine,h.thisLine={stream:null},null}function A(h,f){var B=h.column()===f.indentation,ge=I(f.prevLine.stream),ee=f.indentedCode,Gt=f.prevLine.hr,hl=f.list!==!1,mr=(f.listStack[f.listStack.length-1]||0)+3;f.indentedCode=!1;var vr=f.indentation;if(f.indentationDiff===null&&(f.indentationDiff=f.indentation,hl)){for(f.list=null;vr<f.listStack[f.listStack.length-1];)f.listStack.pop(),f.listStack.length?f.indentation=f.listStack[f.listStack.length-1]:f.list=!1;f.list!==!1&&(f.indentationDiff=vr-f.listStack[f.listStack.length-1])}var Tr=!ge&&!Gt&&!f.prevLine.header&&(!hl||!ee)&&!f.prevLine.fencedCodeEnd,Ue=(f.list===!1||Gt||ge)&&f.indentation<=mr&&h.match(u),at=null;if(f.indentationDiff>=4&&(ee||f.prevLine.fencedCodeEnd||f.prevLine.header||ge))return h.skipToEnd(),f.indentedCode=!0,i.code;if(h.eatSpace())return null;if(B&&f.indentation<=mr&&(at=h.match(p))&&at[1].length<=6)return f.quote=0,f.header=at[1].length,f.thisLine.header=!0,n.highlightFormatting&&(f.formatting="header"),f.f=f.inline,R(f);if(f.indentation<=mr&&h.eat(">"))return f.quote=B?1:f.quote+1,n.highlightFormatting&&(f.formatting="quote"),h.eatSpace(),R(f);if(!Ue&&!f.setext&&B&&f.indentation<=mr&&(at=h.match(c))){var Bi=at[1]?"ol":"ul";return f.indentation=vr+h.current().length,f.list=!0,f.quote=0,f.listStack.push(f.indentation),f.em=!1,f.strong=!1,f.code=!1,f.strikethrough=!1,n.taskLists&&h.match(s,!1)&&(f.taskList=!0),f.f=f.inline,n.highlightFormatting&&(f.formatting=["list","list-"+Bi]),R(f)}else{if(B&&f.indentation<=mr&&(at=h.match(x,!0)))return f.quote=0,f.fencedEndRE=new RegExp(at[1]+"+ *$"),f.localMode=n.fencedCodeBlockHighlighting&&l(at[2]||n.fencedCodeBlockDefaultMode),f.localMode&&(f.localState=e.startState(f.localMode)),f.f=f.block=U,n.highlightFormatting&&(f.formatting="code-block"),f.code=-1,R(f);if(f.setext||(!Tr||!hl)&&!f.quote&&f.list===!1&&!f.code&&!Ue&&!O.test(h.string)&&(at=h.lookAhead(1))&&(at=at.match(_)))return f.setext?(f.header=f.setext,f.setext=0,h.skipToEnd(),n.highlightFormatting&&(f.formatting="header")):(f.header=at[0].charAt(0)=="="?1:2,f.setext=f.header),f.thisLine.header=!0,f.f=f.inline,R(f);if(Ue)return h.skipToEnd(),f.hr=!0,f.thisLine.hr=!0,i.hr;if(h.peek()==="[")return b(h,f,pe)}return b(h,f,f.inline)}function y(h,f){var B=r.token(h,f.htmlState);if(!o){var ge=e.innerMode(r,f.htmlState);(ge.mode.name=="xml"&&ge.state.tagStart===null&&!ge.state.context&&ge.state.tokenize.isInText||f.md_inside&&h.current().indexOf(">")>-1)&&(f.f=P,f.block=A,f.htmlState=null)}return B}function U(h,f){var B=f.listStack[f.listStack.length-1]||0,ge=f.indentation<B,ee=B+3;if(f.fencedEndRE&&f.indentation<=ee&&(ge||h.match(f.fencedEndRE))){n.highlightFormatting&&(f.formatting="code-block");var Gt;return ge||(Gt=R(f)),f.localMode=f.localState=null,f.block=A,f.f=P,f.fencedEndRE=null,f.code=0,f.thisLine.fencedCodeEnd=!0,ge?E(h,f,f.block):Gt}else return f.localMode?f.localMode.token(h,f.localState):(h.skipToEnd(),i.code)}function R(h){var f=[];if(h.formatting){f.push(i.formatting),typeof h.formatting=="string"&&(h.formatting=[h.formatting]);for(var B=0;B<h.formatting.length;B++)f.push(i.formatting+"-"+h.formatting[B]),h.formatting[B]==="header"&&f.push(i.formatting+"-"+h.formatting[B]+"-"+h.header),h.formatting[B]==="quote"&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=h.quote?f.push(i.formatting+"-"+h.formatting[B]+"-"+h.quote):f.push("error"))}if(h.taskOpen)return f.push("meta"),f.length?f.join(" "):null;if(h.taskClosed)return f.push("property"),f.length?f.join(" "):null;if(h.linkHref?f.push(i.linkHref,"url"):(h.strong&&f.push(i.strong),h.em&&f.push(i.em),h.strikethrough&&f.push(i.strikethrough),h.emoji&&f.push(i.emoji),h.linkText&&f.push(i.linkText),h.code&&f.push(i.code),h.image&&f.push(i.image),h.imageAltText&&f.push(i.imageAltText,"link"),h.imageMarker&&f.push(i.imageMarker)),h.header&&f.push(i.header,i.header+"-"+h.header),h.quote&&(f.push(i.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=h.quote?f.push(i.quote+"-"+h.quote):f.push(i.quote+"-"+n.maxBlockquoteDepth)),h.list!==!1){var ge=(h.listStack.length-1)%3;ge?ge===1?f.push(i.list2):f.push(i.list3):f.push(i.list1)}return h.trailingSpaceNewLine?f.push("trailing-space-new-line"):h.trailingSpace&&f.push("trailing-space-"+(h.trailingSpace%2?"a":"b")),f.length?f.join(" "):null}function D(h,f){if(h.match(d,!0))return R(f)}function P(h,f){var B=f.text(h,f);if(typeof B!="undefined")return B;if(f.list)return f.list=null,R(f);if(f.taskList){var ge=h.match(s,!0)[1]===" ";return ge?f.taskOpen=!0:f.taskClosed=!0,n.highlightFormatting&&(f.formatting="task"),f.taskList=!1,R(f)}if(f.taskOpen=!1,f.taskClosed=!1,f.header&&h.match(/^#+$/,!0))return n.highlightFormatting&&(f.formatting="header"),R(f);var ee=h.next();if(f.linkTitle){f.linkTitle=!1;var Gt=ee;ee==="("&&(Gt=")"),Gt=(Gt+"").replace(/([.?*+^\\[\\]\\\\(){}|-])/g,"\\\\$1");var hl="^\\\\s*(?:[^"+Gt+"\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)"+Gt;if(h.match(new RegExp(hl),!0))return i.linkHref}if(ee==="\`"){var mr=f.formatting;n.highlightFormatting&&(f.formatting="code"),h.eatWhile("\`");var vr=h.current().length;if(f.code==0&&(!f.quote||vr==1))return f.code=vr,R(f);if(vr==f.code){var Tr=R(f);return f.code=0,Tr}else return f.formatting=mr,R(f)}else if(f.code)return R(f);if(ee==="\\\\"&&(h.next(),n.highlightFormatting)){var Ue=R(f),at=i.formatting+"-escape";return Ue?Ue+" "+at:at}if(ee==="!"&&h.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/,!1))return f.imageMarker=!0,f.image=!0,n.highlightFormatting&&(f.formatting="image"),R(f);if(ee==="["&&f.imageMarker&&h.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/,!1))return f.imageMarker=!1,f.imageAltText=!0,n.highlightFormatting&&(f.formatting="image"),R(f);if(ee==="]"&&f.imageAltText){n.highlightFormatting&&(f.formatting="image");var Ue=R(f);return f.imageAltText=!1,f.image=!1,f.inline=f.f=rt,Ue}if(ee==="["&&!f.image)return f.linkText&&h.match(/^.*?\\]/)||(f.linkText=!0,n.highlightFormatting&&(f.formatting="link")),R(f);if(ee==="]"&&f.linkText){n.highlightFormatting&&(f.formatting="link");var Ue=R(f);return f.linkText=!1,f.inline=f.f=h.match(/\\(.*?\\)| ?\\[.*?\\]/,!1)?rt:P,Ue}if(ee==="<"&&h.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/,!1)){f.f=f.inline=de,n.highlightFormatting&&(f.formatting="link");var Ue=R(f);return Ue?Ue+=" ":Ue="",Ue+i.linkInline}if(ee==="<"&&h.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/,!1)){f.f=f.inline=de,n.highlightFormatting&&(f.formatting="link");var Ue=R(f);return Ue?Ue+=" ":Ue="",Ue+i.linkEmail}if(n.xml&&ee==="<"&&h.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i,!1)){var Bi=h.string.indexOf(">",h.pos);if(Bi!=-1){var sT=h.string.substring(h.start,Bi);/markdown\\s*=\\s*('|"){0,1}1('|"){0,1}/.test(sT)&&(f.md_inside=!0)}return h.backUp(1),f.htmlState=e.startState(r),E(h,f,y)}if(n.xml&&ee==="<"&&h.match(/^\\/\\w*?>/))return f.md_inside=!1,"tag";if(ee==="*"||ee==="_"){for(var qi=1,ao=h.pos==1?" ":h.string.charAt(h.pos-2);qi<3&&h.eat(ee);)qi++;var uo=h.peek()||" ",Vi=!/\\s/.test(uo)&&(!T.test(uo)||/\\s/.test(ao)||T.test(ao)),Gi=!/\\s/.test(ao)&&(!T.test(ao)||/\\s/.test(uo)||T.test(uo)),so=null,co=null;if(qi%2&&(!f.em&&Vi&&(ee==="*"||!Gi||T.test(ao))?so=!0:f.em==ee&&Gi&&(ee==="*"||!Vi||T.test(uo))&&(so=!1)),qi>1&&(!f.strong&&Vi&&(ee==="*"||!Gi||T.test(ao))?co=!0:f.strong==ee&&Gi&&(ee==="*"||!Vi||T.test(uo))&&(co=!1)),co!=null||so!=null){n.highlightFormatting&&(f.formatting=so==null?"strong":co==null?"em":"strong em"),so===!0&&(f.em=ee),co===!0&&(f.strong=ee);var Tr=R(f);return so===!1&&(f.em=!1),co===!1&&(f.strong=!1),Tr}}else if(ee===" "&&(h.eat("*")||h.eat("_"))){if(h.peek()===" ")return R(f);h.backUp(1)}if(n.strikethrough){if(ee==="~"&&h.eatWhile(ee)){if(f.strikethrough){n.highlightFormatting&&(f.formatting="strikethrough");var Tr=R(f);return f.strikethrough=!1,Tr}else if(h.match(/^[^\\s]/,!1))return f.strikethrough=!0,n.highlightFormatting&&(f.formatting="strikethrough"),R(f)}else if(ee===" "&&h.match("~~",!0)){if(h.peek()===" ")return R(f);h.backUp(2)}}if(n.emoji&&ee===":"&&h.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)){f.emoji=!0,n.highlightFormatting&&(f.formatting="emoji");var cT=R(f);return f.emoji=!1,cT}return ee===" "&&(h.match(/^ +$/,!1)?f.trailingSpace++:f.trailingSpace&&(f.trailingSpaceNewLine=!0)),R(f)}function de(h,f){var B=h.next();if(B===">"){f.f=f.inline=P,n.highlightFormatting&&(f.formatting="link");var ge=R(f);return ge?ge+=" ":ge="",ge+i.linkInline}return h.match(/^[^>]+/,!0),i.linkInline}function rt(h,f){if(h.eatSpace())return null;var B=h.next();return B==="("||B==="["?(f.f=f.inline=xn(B==="("?")":"]"),n.highlightFormatting&&(f.formatting="link-string"),f.linkHref=!0,R(f)):"error"}var Vt={")":/^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,"]":/^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/};function xn(h){return function(f,B){var ge=f.next();if(ge===h){B.f=B.inline=P,n.highlightFormatting&&(B.formatting="link-string");var ee=R(B);return B.linkHref=!1,ee}return f.match(Vt[h]),B.linkHref=!0,R(B)}}function pe(h,f){return h.match(/^([^\\]\\\\]|\\\\.)*\\]:/,!1)?(f.f=Wt,h.next(),n.highlightFormatting&&(f.formatting="link"),f.linkText=!0,R(f)):b(h,f,P)}function Wt(h,f){if(h.match("]:",!0)){f.f=f.inline=br,n.highlightFormatting&&(f.formatting="link");var B=R(f);return f.linkText=!1,B}return h.match(/^([^\\]\\\\]|\\\\.)+/,!0),i.linkText}function br(h,f){return h.eatSpace()?null:(h.match(/^[^\\s]+/,!0),h.peek()===void 0?f.linkTitle=!0:h.match(/^(?:\\s+(?:"(?:[^"\\\\]|\\\\.)+"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/,!0),f.f=f.inline=P,i.linkHref+" url")}var E_={startState:function(){return{f:A,prevLine:{stream:null},thisLine:{stream:null},block:A,htmlState:null,indentation:0,inline:P,text:D,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(h){return{f:h.f,prevLine:h.prevLine,thisLine:h.thisLine,block:h.block,htmlState:h.htmlState&&e.copyState(r,h.htmlState),indentation:h.indentation,localMode:h.localMode,localState:h.localMode?e.copyState(h.localMode,h.localState):null,inline:h.inline,text:h.text,formatting:!1,linkText:h.linkText,linkTitle:h.linkTitle,linkHref:h.linkHref,code:h.code,em:h.em,strong:h.strong,strikethrough:h.strikethrough,emoji:h.emoji,header:h.header,setext:h.setext,hr:h.hr,taskList:h.taskList,list:h.list,listStack:h.listStack.slice(0),quote:h.quote,indentedCode:h.indentedCode,trailingSpace:h.trailingSpace,trailingSpaceNewLine:h.trailingSpaceNewLine,md_inside:h.md_inside,fencedEndRE:h.fencedEndRE}},token:function(h,f){if(f.formatting=!1,h!=f.thisLine.stream){if(f.header=0,f.hr=!1,h.match(/^\\s*$/,!0))return k(f),null;if(f.prevLine=f.thisLine,f.thisLine={stream:h},f.taskList=!1,f.trailingSpace=0,f.trailingSpaceNewLine=!1,!f.localState&&(f.f=f.block,f.f!=y)){var B=h.match(/^\\s*/,!0)[0].replace(/\\t/g,S).length;if(f.indentation=B,f.indentationDiff=null,B>0)return null}}return f.f(h,f)},innerMode:function(h){return h.block==y?{state:h.htmlState,mode:r}:h.localState?{state:h.localState,mode:h.localMode}:{state:h,mode:E_}},indent:function(h,f,B){return h.block==y&&r.indent?r.indent(h.htmlState,f,B):h.localState&&h.localMode.indent?h.localMode.indent(h.localState,f,B):e.Pass},blankLine:k,getType:R,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\\"\\"\`\`",fold:"markdown"};return E_},"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")})});var I_=Ce(()=>{(function(e){e(CodeMirror)})(function(e){e.defineMode("lua",function(t,n){var r=t.indentUnit;function o(T){return new RegExp("^(?:"+T.join("|")+")")}function l(T){return new RegExp("^(?:"+T.join("|")+")$")}var i=l(n.specials||[]),a=l(["_G","_VERSION","assert","collectgarbage","dofile","error","getfenv","getmetatable","ipairs","load","loadfile","loadstring","module","next","pairs","pcall","print","rawequal","rawget","rawset","require","select","setfenv","setmetatable","tonumber","tostring","type","unpack","xpcall","coroutine.create","coroutine.resume","coroutine.running","coroutine.status","coroutine.wrap","coroutine.yield","debug.debug","debug.getfenv","debug.gethook","debug.getinfo","debug.getlocal","debug.getmetatable","debug.getregistry","debug.getupvalue","debug.setfenv","debug.sethook","debug.setlocal","debug.setmetatable","debug.setupvalue","debug.traceback","close","flush","lines","read","seek","setvbuf","write","io.close","io.flush","io.input","io.lines","io.open","io.output","io.popen","io.read","io.stderr","io.stdin","io.stdout","io.tmpfile","io.type","io.write","math.abs","math.acos","math.asin","math.atan","math.atan2","math.ceil","math.cos","math.cosh","math.deg","math.exp","math.floor","math.fmod","math.frexp","math.huge","math.ldexp","math.log","math.log10","math.max","math.min","math.modf","math.pi","math.pow","math.rad","math.random","math.randomseed","math.sin","math.sinh","math.sqrt","math.tan","math.tanh","os.clock","os.date","os.difftime","os.execute","os.exit","os.getenv","os.remove","os.rename","os.setlocale","os.time","os.tmpname","package.cpath","package.loaded","package.loaders","package.loadlib","package.path","package.preload","package.seeall","string.byte","string.char","string.dump","string.find","string.format","string.gmatch","string.gsub","string.len","string.lower","string.match","string.rep","string.reverse","string.sub","string.upper","table.concat","table.insert","table.maxn","table.remove","table.sort"]),u=l(["and","break","elseif","false","nil","not","or","return","true","function","end","if","then","else","do","while","repeat","until","for","in","local"]),c=l(["function","if","repeat","do","\\\\(","{"]),s=l(["end","until","\\\\)","}"]),p=o(["end","until","\\\\)","}","else","elseif"]);function _(T){for(var S=0;T.eat("=");)++S;return T.eat("["),S}function d(T,S){var b=T.next();return b=="-"&&T.eat("-")?T.eat("[")&&T.eat("[")?(S.cur=x(_(T),"comment"))(T,S):(T.skipToEnd(),"comment"):b=='"'||b=="'"?(S.cur=O(b))(T,S):b=="["&&/[\\[=]/.test(T.peek())?(S.cur=x(_(T),"string"))(T,S):/\\d/.test(b)?(T.eatWhile(/[\\w.%]/),"number"):/[\\w_]/.test(b)?(T.eatWhile(/[\\w\\\\\\-_.]/),"variable"):null}function x(T,S){return function(b,E){for(var I=null,k;(k=b.next())!=null;)if(I==null)k=="]"&&(I=0);else if(k=="=")++I;else if(k=="]"&&I==T){E.cur=d;break}else I=null;return S}}function O(T){return function(S,b){for(var E=!1,I;(I=S.next())!=null&&!(I==T&&!E);)E=!E&&I=="\\\\";return E||(b.cur=d),"string"}}return{startState:function(T){return{basecol:T||0,indentDepth:0,cur:d}},token:function(T,S){if(T.eatSpace())return null;var b=S.cur(T,S),E=T.current();return b=="variable"&&(u.test(E)?b="keyword":a.test(E)?b="builtin":i.test(E)&&(b="variable-2")),b!="comment"&&b!="string"&&(c.test(E)?++S.indentDepth:s.test(E)&&--S.indentDepth),b},indent:function(T,S){var b=p.test(S);return T.basecol+r*(T.indentDepth-(b?1:0))},electricInput:/^\\s*(?:end|until|else|\\)|\\})$/,lineComment:"--",blockCommentStart:"--[[",blockCommentEnd:"]]"}}),e.defineMIME("text/x-lua","lua")})});var M_=Ce(()=>{(function(e){e(CodeMirror)})(function(e){var t="CodeMirror-lint-markers",n="CodeMirror-lint-line-";function r(k,A,y){var U=document.createElement("div");U.className="CodeMirror-lint-tooltip cm-s-"+k.options.theme,U.appendChild(y.cloneNode(!0)),k.state.lint.options.selfContain?k.getWrapperElement().appendChild(U):document.body.appendChild(U);function R(D){if(!U.parentNode)return e.off(document,"mousemove",R);U.style.top=Math.max(0,D.clientY-U.offsetHeight-5)+"px",U.style.left=D.clientX+5+"px"}return e.on(document,"mousemove",R),R(A),U.style.opacity!=null&&(U.style.opacity=1),U}function o(k){k.parentNode&&k.parentNode.removeChild(k)}function l(k){!k.parentNode||(k.style.opacity==null&&o(k),k.style.opacity=0,setTimeout(function(){o(k)},600))}function i(k,A,y,U){var R=r(k,A,y);function D(){e.off(U,"mouseout",D),R&&(l(R),R=null)}var P=setInterval(function(){if(R)for(var de=U;;de=de.parentNode){if(de&&de.nodeType==11&&(de=de.host),de==document.body)return;if(!de){D();break}}if(!R)return clearInterval(P)},400);e.on(U,"mouseout",D)}function a(k,A,y){this.marked=[],A instanceof Function&&(A={getAnnotations:A}),(!A||A===!0)&&(A={}),this.options={},this.linterOptions=A.options||{};for(var U in u)this.options[U]=u[U];for(var U in A)u.hasOwnProperty(U)?A[U]!=null&&(this.options[U]=A[U]):A.options||(this.linterOptions[U]=A[U]);this.timeout=null,this.hasGutter=y,this.onMouseOver=function(R){I(k,R)},this.waitingFor=0}var u={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function c(k){var A=k.state.lint;A.hasGutter&&k.clearGutter(t),A.options.highlightLines&&s(k);for(var y=0;y<A.marked.length;++y)A.marked[y].clear();A.marked.length=0}function s(k){k.eachLine(function(A){var y=A.wrapClass&&/\\bCodeMirror-lint-line-\\w+\\b/.exec(A.wrapClass);y&&k.removeLineClass(A,"wrap",y[0])})}function p(k,A,y,U,R){var D=document.createElement("div"),P=D;return D.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+y,U&&(P=D.appendChild(document.createElement("div")),P.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),R!=!1&&e.on(P,"mouseover",function(de){i(k,de,A,P)}),D}function _(k,A){return k=="error"?k:A}function d(k){for(var A=[],y=0;y<k.length;++y){var U=k[y],R=U.from.line;(A[R]||(A[R]=[])).push(U)}return A}function x(k){var A=k.severity;A||(A="error");var y=document.createElement("div");return y.className="CodeMirror-lint-message CodeMirror-lint-message-"+A,typeof k.messageHTML!="undefined"?y.innerHTML=k.messageHTML:y.appendChild(document.createTextNode(k.message)),y}function O(k,A){var y=k.state.lint,U=++y.waitingFor;function R(){U=-1,k.off("change",R)}k.on("change",R),A(k.getValue(),function(D,P){k.off("change",R),y.waitingFor==U&&(P&&D instanceof e&&(D=P),k.operation(function(){S(k,D)}))},y.linterOptions,k)}function T(k){var A=k.state.lint;if(!!A){var y=A.options,U=y.getAnnotations||k.getHelper(e.Pos(0,0),"lint");if(!!U)if(y.async||U.async)O(k,U);else{var R=U(k.getValue(),A.linterOptions,k);if(!R)return;R.then?R.then(function(D){k.operation(function(){S(k,D)})}):k.operation(function(){S(k,R)})}}}function S(k,A){var y=k.state.lint;if(!!y){var U=y.options;c(k);for(var R=d(A),D=0;D<R.length;++D){var P=R[D];if(!!P){var de=[];P=P.filter(function(br){return de.indexOf(br.message)>-1?!1:de.push(br.message)});for(var rt=null,Vt=y.hasGutter&&document.createDocumentFragment(),xn=0;xn<P.length;++xn){var pe=P[xn],Wt=pe.severity;Wt||(Wt="error"),rt=_(rt,Wt),U.formatAnnotation&&(pe=U.formatAnnotation(pe)),y.hasGutter&&Vt.appendChild(x(pe)),pe.to&&y.marked.push(k.markText(pe.from,pe.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+Wt,__annotation:pe}))}y.hasGutter&&k.setGutterMarker(D,t,p(k,Vt,rt,R[D].length>1,U.tooltips)),U.highlightLines&&k.addLineClass(D,"wrap",n+rt)}}U.onUpdateLinting&&U.onUpdateLinting(A,R,k)}}function b(k){var A=k.state.lint;!A||(clearTimeout(A.timeout),A.timeout=setTimeout(function(){T(k)},A.options.delay))}function E(k,A,y){for(var U=y.target||y.srcElement,R=document.createDocumentFragment(),D=0;D<A.length;D++){var P=A[D];R.appendChild(x(P))}i(k,y,R,U)}function I(k,A){var y=A.target||A.srcElement;if(!!/\\bCodeMirror-lint-mark-/.test(y.className)){for(var U=y.getBoundingClientRect(),R=(U.left+U.right)/2,D=(U.top+U.bottom)/2,P=k.findMarksAt(k.coordsChar({left:R,top:D},"client")),de=[],rt=0;rt<P.length;++rt){var Vt=P[rt].__annotation;Vt&&de.push(Vt)}de.length&&E(k,de,A)}}e.defineOption("lint",!1,function(k,A,y){if(y&&y!=e.Init&&(c(k),k.state.lint.options.lintOnChange!==!1&&k.off("change",b),e.off(k.getWrapperElement(),"mouseover",k.state.lint.onMouseOver),clearTimeout(k.state.lint.timeout),delete k.state.lint),A){for(var U=k.getOption("gutters"),R=!1,D=0;D<U.length;++D)U[D]==t&&(R=!0);var P=k.state.lint=new a(k,A,R);P.options.lintOnChange&&k.on("change",b),P.options.tooltips!=!1&&P.options.tooltips!="gutter"&&e.on(k.getWrapperElement(),"mouseover",P.onMouseOver),T(k)}}),e.defineExtension("performLint",function(){T(this)})})});function F_(e,t){if(e.src.charCodeAt(e.pos)===91){let n=e.tokens[e.tokens.length-1],r;return n&&(n.type=="code_variable"||n.type=="code_expression")?(e.tokens.splice(e.tokens.length-1,1),r=n.content):r=null,e.push("content_open","",1).attrs=[["changer",r]],e.pos++,!0}return e.src.charCodeAt(e.pos)===93?(e.push("content_close","",e.level<=0?0:-1),e.pos++,!0):!1}var P_=Ce(()=>{});function B_(e,t){if(!e.src.startsWith("<$",e.pos))return!1;let r=e.src.indexOf("$>",e.pos+2),o,l;r<0?(o=e.src.length,l=e.src.length):(o=r,l=r+2);let i=e.push("code_expression","",0);return i.content=e.src.slice(e.pos+2,o),i.meta=e.pos,e.pos=l,!0}var q_=Ce(()=>{});function V_(e,t){if(!e.src.startsWith("[[",e.pos))return!1;let r=e.pos+2,o=e.posMax,l=r,i=-1,a=-1;for(;l<o&&!e.src.startsWith("]]",l);)a===-1&&e.src.startsWith("<-",l)?a=l:e.src.startsWith("->",l)&&(i=l),l++;if(l===o)return!1;if(i!==-1&&a!==-1){let p=a-r,_=l-(i+2);p<_?i=-1:a=-1}let u;i!==-1?(u=e.src.slice(i+2,l).trim(),e.pos=r,e.posMax=i):a!==-1?(u=e.src.slice(r,a).trim(),e.pos=a+2,e.posMax=l):(u=e.src.slice(r,l).trim(),e.pos=r,e.posMax=l);let c=e.tokens[e.tokens.length-1],s;return c&&(c.type=="code_variable"||c.type=="code_expression")?(e.tokens.splice(e.tokens.length-1,1),s=c.content):s=null,i!==-1&&e.src.slice(e.pos,e.posMax).trim()==""?e.push("link_inline","",0).attrs=[["href",u],["changer",s]]:(e.push("link_open","a",1).attrs=[["href",u],["changer",s]],e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=l+2,e.posMax=o,!0}var G_=Ce(()=>{});function ju(e){return e===95||e>=65&&e<=90||e>=97&&e<=122}function H_(e){return ju(e)||e>=48&&e<=57}function gT(e,t){let n=e.pos;if(e.src.charCodeAt(e.pos)!=46||!ju(e.src.charCodeAt(e.pos+1)))return!1;e.pos++;do e.pos++;while(e.pos<e.src.length&&H_(e.src.charCodeAt(e.pos)));return t.push(e.src.slice(n,e.pos)),!0}function K_(e,t,n,r){if(e.src.charCodeAt(e.pos)!=n)return!1;let o=e.pos,l=e.pos,i=1,a;do l++,a=e.src.charCodeAt(l),a==n?i++:a==r&&i--;while(i>0&&a!=10&&l<e.src.length);return i==0?(e.pos=l+1,t.push(e.src.slice(o,e.pos)),!0):!1}function AT(e,t){if(!e.src.startsWith("<<",e.pos))return!1;let n=e.src.indexOf(">>",e.pos+2);return n<0?!1:(t.push("(function() "),t.push(e.src.slice(e.pos+2,n)),t.push(" end)"),e.pos=n+2,!0)}function j_(e,t){if(e.src.charCodeAt(e.pos)!==36||!ju(e.src.charCodeAt(e.pos+1)))return!1;let n=e.pos=e.pos+1;do e.pos++;while(H_(e.src.charCodeAt(e.pos)));let r=[e.src.slice(n,e.pos)];for(;gT(e,r)||K_(e,r,40,41)||K_(e,r,123,125)||AT(e,r););let o=e.push("code_variable","",0);return o.content=r.join(""),o.meta=n,!0}var X_=Ce(()=>{});function z_(e,t){if(!e.src.startsWith("{$",e.pos))return!1;let r=e.src.indexOf("$}",e.pos+2),o,l;r<0?(o=e.src.length,l=e.src.length):(o=r,l=r+2);let i=e.push("code_block","",0);return i.content=e.src.slice(e.pos+2,o),i.meta=e.pos,e.pos=l,!0}var L_=Ce(()=>{});var dl=w((I8,J_)=>{function po(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}po.prototype.attrIndex=function(t){var n,r,o;if(!this.attrs)return-1;for(n=this.attrs,r=0,o=n.length;r<o;r++)if(n[r][0]===t)return r;return-1};po.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};po.prototype.attrSet=function(t,n){var r=this.attrIndex(t),o=[t,n];r<0?this.attrPush(o):this.attrs[r]=o};po.prototype.attrGet=function(t){var n=this.attrIndex(t),r=null;return n>=0&&(r=this.attrs[n][1]),r};po.prototype.attrJoin=function(t,n){var r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};J_.exports=po});var Hi=w((M8,Z_)=>{function Kt(){this.__rules__=[],this.__cache__=null}Kt.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Kt.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(n){!n.enabled||n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){!r.enabled||n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn)})})};Kt.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null};Kt.prototype.before=function(e,t,n,r){var o=this.__find__(e),l=r||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:l.alt||[]}),this.__cache__=null};Kt.prototype.after=function(e,t,n,r){var o=this.__find__(e),l=r||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:l.alt||[]}),this.__cache__=null};Kt.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};Kt.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var o=this.__find__(r);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[o].enabled=!0,n.push(r)},this),this.__cache__=null,n};Kt.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};Kt.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var o=this.__find__(r);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[o].enabled=!1,n.push(r)},this),this.__cache__=null,n};Kt.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};Z_.exports=Kt});var Y_=w((F8,$_)=>{function xT(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}$_.exports=function(t,n){for(var r=t.pos;r<t.posMax&&!xT(t.src.charCodeAt(r));)r++;return r===t.pos?!1:(n||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)}});var Q_=w((P8,W_)=>{var kT=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;W_.exports=function(t,n){var r,o,l,i,a,u,c,s;return!t.md.options.linkify||t.linkLevel>0||(r=t.pos,o=t.posMax,r+3>o)||t.src.charCodeAt(r)!==58||t.src.charCodeAt(r+1)!==47||t.src.charCodeAt(r+2)!==47||(l=t.pending.match(kT),!l)||(i=l[1],a=t.md.linkify.matchAtStart(t.src.slice(r-i.length)),!a)||(u=a.url,u=u.replace(/\\*+$/,""),c=t.md.normalizeLink(u),!t.md.validateLink(c))?!1:(n||(t.pending=t.pending.slice(0,-i.length),s=t.push("link_open","a",1),s.attrs=[["href",c]],s.markup="linkify",s.info="auto",s=t.push("text","",0),s.content=t.md.normalizeLinkText(u),s=t.push("link_close","a",-1),s.markup="linkify",s.info="auto"),t.pos+=u.length-i.length,!0)}});var eh=w((B8,bT)=>{bT.exports={Aacute:"\\xC1",aacute:"\\xE1",Abreve:"\\u0102",abreve:"\\u0103",ac:"\\u223E",acd:"\\u223F",acE:"\\u223E\\u0333",Acirc:"\\xC2",acirc:"\\xE2",acute:"\\xB4",Acy:"\\u0410",acy:"\\u0430",AElig:"\\xC6",aelig:"\\xE6",af:"\\u2061",Afr:"\\u{1D504}",afr:"\\u{1D51E}",Agrave:"\\xC0",agrave:"\\xE0",alefsym:"\\u2135",aleph:"\\u2135",Alpha:"\\u0391",alpha:"\\u03B1",Amacr:"\\u0100",amacr:"\\u0101",amalg:"\\u2A3F",amp:"&",AMP:"&",andand:"\\u2A55",And:"\\u2A53",and:"\\u2227",andd:"\\u2A5C",andslope:"\\u2A58",andv:"\\u2A5A",ang:"\\u2220",ange:"\\u29A4",angle:"\\u2220",angmsdaa:"\\u29A8",angmsdab:"\\u29A9",angmsdac:"\\u29AA",angmsdad:"\\u29AB",angmsdae:"\\u29AC",angmsdaf:"\\u29AD",angmsdag:"\\u29AE",angmsdah:"\\u29AF",angmsd:"\\u2221",angrt:"\\u221F",angrtvb:"\\u22BE",angrtvbd:"\\u299D",angsph:"\\u2222",angst:"\\xC5",angzarr:"\\u237C",Aogon:"\\u0104",aogon:"\\u0105",Aopf:"\\u{1D538}",aopf:"\\u{1D552}",apacir:"\\u2A6F",ap:"\\u2248",apE:"\\u2A70",ape:"\\u224A",apid:"\\u224B",apos:"'",ApplyFunction:"\\u2061",approx:"\\u2248",approxeq:"\\u224A",Aring:"\\xC5",aring:"\\xE5",Ascr:"\\u{1D49C}",ascr:"\\u{1D4B6}",Assign:"\\u2254",ast:"*",asymp:"\\u2248",asympeq:"\\u224D",Atilde:"\\xC3",atilde:"\\xE3",Auml:"\\xC4",auml:"\\xE4",awconint:"\\u2233",awint:"\\u2A11",backcong:"\\u224C",backepsilon:"\\u03F6",backprime:"\\u2035",backsim:"\\u223D",backsimeq:"\\u22CD",Backslash:"\\u2216",Barv:"\\u2AE7",barvee:"\\u22BD",barwed:"\\u2305",Barwed:"\\u2306",barwedge:"\\u2305",bbrk:"\\u23B5",bbrktbrk:"\\u23B6",bcong:"\\u224C",Bcy:"\\u0411",bcy:"\\u0431",bdquo:"\\u201E",becaus:"\\u2235",because:"\\u2235",Because:"\\u2235",bemptyv:"\\u29B0",bepsi:"\\u03F6",bernou:"\\u212C",Bernoullis:"\\u212C",Beta:"\\u0392",beta:"\\u03B2",beth:"\\u2136",between:"\\u226C",Bfr:"\\u{1D505}",bfr:"\\u{1D51F}",bigcap:"\\u22C2",bigcirc:"\\u25EF",bigcup:"\\u22C3",bigodot:"\\u2A00",bigoplus:"\\u2A01",bigotimes:"\\u2A02",bigsqcup:"\\u2A06",bigstar:"\\u2605",bigtriangledown:"\\u25BD",bigtriangleup:"\\u25B3",biguplus:"\\u2A04",bigvee:"\\u22C1",bigwedge:"\\u22C0",bkarow:"\\u290D",blacklozenge:"\\u29EB",blacksquare:"\\u25AA",blacktriangle:"\\u25B4",blacktriangledown:"\\u25BE",blacktriangleleft:"\\u25C2",blacktriangleright:"\\u25B8",blank:"\\u2423",blk12:"\\u2592",blk14:"\\u2591",blk34:"\\u2593",block:"\\u2588",bne:"=\\u20E5",bnequiv:"\\u2261\\u20E5",bNot:"\\u2AED",bnot:"\\u2310",Bopf:"\\u{1D539}",bopf:"\\u{1D553}",bot:"\\u22A5",bottom:"\\u22A5",bowtie:"\\u22C8",boxbox:"\\u29C9",boxdl:"\\u2510",boxdL:"\\u2555",boxDl:"\\u2556",boxDL:"\\u2557",boxdr:"\\u250C",boxdR:"\\u2552",boxDr:"\\u2553",boxDR:"\\u2554",boxh:"\\u2500",boxH:"\\u2550",boxhd:"\\u252C",boxHd:"\\u2564",boxhD:"\\u2565",boxHD:"\\u2566",boxhu:"\\u2534",boxHu:"\\u2567",boxhU:"\\u2568",boxHU:"\\u2569",boxminus:"\\u229F",boxplus:"\\u229E",boxtimes:"\\u22A0",boxul:"\\u2518",boxuL:"\\u255B",boxUl:"\\u255C",boxUL:"\\u255D",boxur:"\\u2514",boxuR:"\\u2558",boxUr:"\\u2559",boxUR:"\\u255A",boxv:"\\u2502",boxV:"\\u2551",boxvh:"\\u253C",boxvH:"\\u256A",boxVh:"\\u256B",boxVH:"\\u256C",boxvl:"\\u2524",boxvL:"\\u2561",boxVl:"\\u2562",boxVL:"\\u2563",boxvr:"\\u251C",boxvR:"\\u255E",boxVr:"\\u255F",boxVR:"\\u2560",bprime:"\\u2035",breve:"\\u02D8",Breve:"\\u02D8",brvbar:"\\xA6",bscr:"\\u{1D4B7}",Bscr:"\\u212C",bsemi:"\\u204F",bsim:"\\u223D",bsime:"\\u22CD",bsolb:"\\u29C5",bsol:"\\\\",bsolhsub:"\\u27C8",bull:"\\u2022",bullet:"\\u2022",bump:"\\u224E",bumpE:"\\u2AAE",bumpe:"\\u224F",Bumpeq:"\\u224E",bumpeq:"\\u224F",Cacute:"\\u0106",cacute:"\\u0107",capand:"\\u2A44",capbrcup:"\\u2A49",capcap:"\\u2A4B",cap:"\\u2229",Cap:"\\u22D2",capcup:"\\u2A47",capdot:"\\u2A40",CapitalDifferentialD:"\\u2145",caps:"\\u2229\\uFE00",caret:"\\u2041",caron:"\\u02C7",Cayleys:"\\u212D",ccaps:"\\u2A4D",Ccaron:"\\u010C",ccaron:"\\u010D",Ccedil:"\\xC7",ccedil:"\\xE7",Ccirc:"\\u0108",ccirc:"\\u0109",Cconint:"\\u2230",ccups:"\\u2A4C",ccupssm:"\\u2A50",Cdot:"\\u010A",cdot:"\\u010B",cedil:"\\xB8",Cedilla:"\\xB8",cemptyv:"\\u29B2",cent:"\\xA2",centerdot:"\\xB7",CenterDot:"\\xB7",cfr:"\\u{1D520}",Cfr:"\\u212D",CHcy:"\\u0427",chcy:"\\u0447",check:"\\u2713",checkmark:"\\u2713",Chi:"\\u03A7",chi:"\\u03C7",circ:"\\u02C6",circeq:"\\u2257",circlearrowleft:"\\u21BA",circlearrowright:"\\u21BB",circledast:"\\u229B",circledcirc:"\\u229A",circleddash:"\\u229D",CircleDot:"\\u2299",circledR:"\\xAE",circledS:"\\u24C8",CircleMinus:"\\u2296",CirclePlus:"\\u2295",CircleTimes:"\\u2297",cir:"\\u25CB",cirE:"\\u29C3",cire:"\\u2257",cirfnint:"\\u2A10",cirmid:"\\u2AEF",cirscir:"\\u29C2",ClockwiseContourIntegral:"\\u2232",CloseCurlyDoubleQuote:"\\u201D",CloseCurlyQuote:"\\u2019",clubs:"\\u2663",clubsuit:"\\u2663",colon:":",Colon:"\\u2237",Colone:"\\u2A74",colone:"\\u2254",coloneq:"\\u2254",comma:",",commat:"@",comp:"\\u2201",compfn:"\\u2218",complement:"\\u2201",complexes:"\\u2102",cong:"\\u2245",congdot:"\\u2A6D",Congruent:"\\u2261",conint:"\\u222E",Conint:"\\u222F",ContourIntegral:"\\u222E",copf:"\\u{1D554}",Copf:"\\u2102",coprod:"\\u2210",Coproduct:"\\u2210",copy:"\\xA9",COPY:"\\xA9",copysr:"\\u2117",CounterClockwiseContourIntegral:"\\u2233",crarr:"\\u21B5",cross:"\\u2717",Cross:"\\u2A2F",Cscr:"\\u{1D49E}",cscr:"\\u{1D4B8}",csub:"\\u2ACF",csube:"\\u2AD1",csup:"\\u2AD0",csupe:"\\u2AD2",ctdot:"\\u22EF",cudarrl:"\\u2938",cudarrr:"\\u2935",cuepr:"\\u22DE",cuesc:"\\u22DF",cularr:"\\u21B6",cularrp:"\\u293D",cupbrcap:"\\u2A48",cupcap:"\\u2A46",CupCap:"\\u224D",cup:"\\u222A",Cup:"\\u22D3",cupcup:"\\u2A4A",cupdot:"\\u228D",cupor:"\\u2A45",cups:"\\u222A\\uFE00",curarr:"\\u21B7",curarrm:"\\u293C",curlyeqprec:"\\u22DE",curlyeqsucc:"\\u22DF",curlyvee:"\\u22CE",curlywedge:"\\u22CF",curren:"\\xA4",curvearrowleft:"\\u21B6",curvearrowright:"\\u21B7",cuvee:"\\u22CE",cuwed:"\\u22CF",cwconint:"\\u2232",cwint:"\\u2231",cylcty:"\\u232D",dagger:"\\u2020",Dagger:"\\u2021",daleth:"\\u2138",darr:"\\u2193",Darr:"\\u21A1",dArr:"\\u21D3",dash:"\\u2010",Dashv:"\\u2AE4",dashv:"\\u22A3",dbkarow:"\\u290F",dblac:"\\u02DD",Dcaron:"\\u010E",dcaron:"\\u010F",Dcy:"\\u0414",dcy:"\\u0434",ddagger:"\\u2021",ddarr:"\\u21CA",DD:"\\u2145",dd:"\\u2146",DDotrahd:"\\u2911",ddotseq:"\\u2A77",deg:"\\xB0",Del:"\\u2207",Delta:"\\u0394",delta:"\\u03B4",demptyv:"\\u29B1",dfisht:"\\u297F",Dfr:"\\u{1D507}",dfr:"\\u{1D521}",dHar:"\\u2965",dharl:"\\u21C3",dharr:"\\u21C2",DiacriticalAcute:"\\xB4",DiacriticalDot:"\\u02D9",DiacriticalDoubleAcute:"\\u02DD",DiacriticalGrave:"\`",DiacriticalTilde:"\\u02DC",diam:"\\u22C4",diamond:"\\u22C4",Diamond:"\\u22C4",diamondsuit:"\\u2666",diams:"\\u2666",die:"\\xA8",DifferentialD:"\\u2146",digamma:"\\u03DD",disin:"\\u22F2",div:"\\xF7",divide:"\\xF7",divideontimes:"\\u22C7",divonx:"\\u22C7",DJcy:"\\u0402",djcy:"\\u0452",dlcorn:"\\u231E",dlcrop:"\\u230D",dollar:"$",Dopf:"\\u{1D53B}",dopf:"\\u{1D555}",Dot:"\\xA8",dot:"\\u02D9",DotDot:"\\u20DC",doteq:"\\u2250",doteqdot:"\\u2251",DotEqual:"\\u2250",dotminus:"\\u2238",dotplus:"\\u2214",dotsquare:"\\u22A1",doublebarwedge:"\\u2306",DoubleContourIntegral:"\\u222F",DoubleDot:"\\xA8",DoubleDownArrow:"\\u21D3",DoubleLeftArrow:"\\u21D0",DoubleLeftRightArrow:"\\u21D4",DoubleLeftTee:"\\u2AE4",DoubleLongLeftArrow:"\\u27F8",DoubleLongLeftRightArrow:"\\u27FA",DoubleLongRightArrow:"\\u27F9",DoubleRightArrow:"\\u21D2",DoubleRightTee:"\\u22A8",DoubleUpArrow:"\\u21D1",DoubleUpDownArrow:"\\u21D5",DoubleVerticalBar:"\\u2225",DownArrowBar:"\\u2913",downarrow:"\\u2193",DownArrow:"\\u2193",Downarrow:"\\u21D3",DownArrowUpArrow:"\\u21F5",DownBreve:"\\u0311",downdownarrows:"\\u21CA",downharpoonleft:"\\u21C3",downharpoonright:"\\u21C2",DownLeftRightVector:"\\u2950",DownLeftTeeVector:"\\u295E",DownLeftVectorBar:"\\u2956",DownLeftVector:"\\u21BD",DownRightTeeVector:"\\u295F",DownRightVectorBar:"\\u2957",DownRightVector:"\\u21C1",DownTeeArrow:"\\u21A7",DownTee:"\\u22A4",drbkarow:"\\u2910",drcorn:"\\u231F",drcrop:"\\u230C",Dscr:"\\u{1D49F}",dscr:"\\u{1D4B9}",DScy:"\\u0405",dscy:"\\u0455",dsol:"\\u29F6",Dstrok:"\\u0110",dstrok:"\\u0111",dtdot:"\\u22F1",dtri:"\\u25BF",dtrif:"\\u25BE",duarr:"\\u21F5",duhar:"\\u296F",dwangle:"\\u29A6",DZcy:"\\u040F",dzcy:"\\u045F",dzigrarr:"\\u27FF",Eacute:"\\xC9",eacute:"\\xE9",easter:"\\u2A6E",Ecaron:"\\u011A",ecaron:"\\u011B",Ecirc:"\\xCA",ecirc:"\\xEA",ecir:"\\u2256",ecolon:"\\u2255",Ecy:"\\u042D",ecy:"\\u044D",eDDot:"\\u2A77",Edot:"\\u0116",edot:"\\u0117",eDot:"\\u2251",ee:"\\u2147",efDot:"\\u2252",Efr:"\\u{1D508}",efr:"\\u{1D522}",eg:"\\u2A9A",Egrave:"\\xC8",egrave:"\\xE8",egs:"\\u2A96",egsdot:"\\u2A98",el:"\\u2A99",Element:"\\u2208",elinters:"\\u23E7",ell:"\\u2113",els:"\\u2A95",elsdot:"\\u2A97",Emacr:"\\u0112",emacr:"\\u0113",empty:"\\u2205",emptyset:"\\u2205",EmptySmallSquare:"\\u25FB",emptyv:"\\u2205",EmptyVerySmallSquare:"\\u25AB",emsp13:"\\u2004",emsp14:"\\u2005",emsp:"\\u2003",ENG:"\\u014A",eng:"\\u014B",ensp:"\\u2002",Eogon:"\\u0118",eogon:"\\u0119",Eopf:"\\u{1D53C}",eopf:"\\u{1D556}",epar:"\\u22D5",eparsl:"\\u29E3",eplus:"\\u2A71",epsi:"\\u03B5",Epsilon:"\\u0395",epsilon:"\\u03B5",epsiv:"\\u03F5",eqcirc:"\\u2256",eqcolon:"\\u2255",eqsim:"\\u2242",eqslantgtr:"\\u2A96",eqslantless:"\\u2A95",Equal:"\\u2A75",equals:"=",EqualTilde:"\\u2242",equest:"\\u225F",Equilibrium:"\\u21CC",equiv:"\\u2261",equivDD:"\\u2A78",eqvparsl:"\\u29E5",erarr:"\\u2971",erDot:"\\u2253",escr:"\\u212F",Escr:"\\u2130",esdot:"\\u2250",Esim:"\\u2A73",esim:"\\u2242",Eta:"\\u0397",eta:"\\u03B7",ETH:"\\xD0",eth:"\\xF0",Euml:"\\xCB",euml:"\\xEB",euro:"\\u20AC",excl:"!",exist:"\\u2203",Exists:"\\u2203",expectation:"\\u2130",exponentiale:"\\u2147",ExponentialE:"\\u2147",fallingdotseq:"\\u2252",Fcy:"\\u0424",fcy:"\\u0444",female:"\\u2640",ffilig:"\\uFB03",fflig:"\\uFB00",ffllig:"\\uFB04",Ffr:"\\u{1D509}",ffr:"\\u{1D523}",filig:"\\uFB01",FilledSmallSquare:"\\u25FC",FilledVerySmallSquare:"\\u25AA",fjlig:"fj",flat:"\\u266D",fllig:"\\uFB02",fltns:"\\u25B1",fnof:"\\u0192",Fopf:"\\u{1D53D}",fopf:"\\u{1D557}",forall:"\\u2200",ForAll:"\\u2200",fork:"\\u22D4",forkv:"\\u2AD9",Fouriertrf:"\\u2131",fpartint:"\\u2A0D",frac12:"\\xBD",frac13:"\\u2153",frac14:"\\xBC",frac15:"\\u2155",frac16:"\\u2159",frac18:"\\u215B",frac23:"\\u2154",frac25:"\\u2156",frac34:"\\xBE",frac35:"\\u2157",frac38:"\\u215C",frac45:"\\u2158",frac56:"\\u215A",frac58:"\\u215D",frac78:"\\u215E",frasl:"\\u2044",frown:"\\u2322",fscr:"\\u{1D4BB}",Fscr:"\\u2131",gacute:"\\u01F5",Gamma:"\\u0393",gamma:"\\u03B3",Gammad:"\\u03DC",gammad:"\\u03DD",gap:"\\u2A86",Gbreve:"\\u011E",gbreve:"\\u011F",Gcedil:"\\u0122",Gcirc:"\\u011C",gcirc:"\\u011D",Gcy:"\\u0413",gcy:"\\u0433",Gdot:"\\u0120",gdot:"\\u0121",ge:"\\u2265",gE:"\\u2267",gEl:"\\u2A8C",gel:"\\u22DB",geq:"\\u2265",geqq:"\\u2267",geqslant:"\\u2A7E",gescc:"\\u2AA9",ges:"\\u2A7E",gesdot:"\\u2A80",gesdoto:"\\u2A82",gesdotol:"\\u2A84",gesl:"\\u22DB\\uFE00",gesles:"\\u2A94",Gfr:"\\u{1D50A}",gfr:"\\u{1D524}",gg:"\\u226B",Gg:"\\u22D9",ggg:"\\u22D9",gimel:"\\u2137",GJcy:"\\u0403",gjcy:"\\u0453",gla:"\\u2AA5",gl:"\\u2277",glE:"\\u2A92",glj:"\\u2AA4",gnap:"\\u2A8A",gnapprox:"\\u2A8A",gne:"\\u2A88",gnE:"\\u2269",gneq:"\\u2A88",gneqq:"\\u2269",gnsim:"\\u22E7",Gopf:"\\u{1D53E}",gopf:"\\u{1D558}",grave:"\`",GreaterEqual:"\\u2265",GreaterEqualLess:"\\u22DB",GreaterFullEqual:"\\u2267",GreaterGreater:"\\u2AA2",GreaterLess:"\\u2277",GreaterSlantEqual:"\\u2A7E",GreaterTilde:"\\u2273",Gscr:"\\u{1D4A2}",gscr:"\\u210A",gsim:"\\u2273",gsime:"\\u2A8E",gsiml:"\\u2A90",gtcc:"\\u2AA7",gtcir:"\\u2A7A",gt:">",GT:">",Gt:"\\u226B",gtdot:"\\u22D7",gtlPar:"\\u2995",gtquest:"\\u2A7C",gtrapprox:"\\u2A86",gtrarr:"\\u2978",gtrdot:"\\u22D7",gtreqless:"\\u22DB",gtreqqless:"\\u2A8C",gtrless:"\\u2277",gtrsim:"\\u2273",gvertneqq:"\\u2269\\uFE00",gvnE:"\\u2269\\uFE00",Hacek:"\\u02C7",hairsp:"\\u200A",half:"\\xBD",hamilt:"\\u210B",HARDcy:"\\u042A",hardcy:"\\u044A",harrcir:"\\u2948",harr:"\\u2194",hArr:"\\u21D4",harrw:"\\u21AD",Hat:"^",hbar:"\\u210F",Hcirc:"\\u0124",hcirc:"\\u0125",hearts:"\\u2665",heartsuit:"\\u2665",hellip:"\\u2026",hercon:"\\u22B9",hfr:"\\u{1D525}",Hfr:"\\u210C",HilbertSpace:"\\u210B",hksearow:"\\u2925",hkswarow:"\\u2926",hoarr:"\\u21FF",homtht:"\\u223B",hookleftarrow:"\\u21A9",hookrightarrow:"\\u21AA",hopf:"\\u{1D559}",Hopf:"\\u210D",horbar:"\\u2015",HorizontalLine:"\\u2500",hscr:"\\u{1D4BD}",Hscr:"\\u210B",hslash:"\\u210F",Hstrok:"\\u0126",hstrok:"\\u0127",HumpDownHump:"\\u224E",HumpEqual:"\\u224F",hybull:"\\u2043",hyphen:"\\u2010",Iacute:"\\xCD",iacute:"\\xED",ic:"\\u2063",Icirc:"\\xCE",icirc:"\\xEE",Icy:"\\u0418",icy:"\\u0438",Idot:"\\u0130",IEcy:"\\u0415",iecy:"\\u0435",iexcl:"\\xA1",iff:"\\u21D4",ifr:"\\u{1D526}",Ifr:"\\u2111",Igrave:"\\xCC",igrave:"\\xEC",ii:"\\u2148",iiiint:"\\u2A0C",iiint:"\\u222D",iinfin:"\\u29DC",iiota:"\\u2129",IJlig:"\\u0132",ijlig:"\\u0133",Imacr:"\\u012A",imacr:"\\u012B",image:"\\u2111",ImaginaryI:"\\u2148",imagline:"\\u2110",imagpart:"\\u2111",imath:"\\u0131",Im:"\\u2111",imof:"\\u22B7",imped:"\\u01B5",Implies:"\\u21D2",incare:"\\u2105",in:"\\u2208",infin:"\\u221E",infintie:"\\u29DD",inodot:"\\u0131",intcal:"\\u22BA",int:"\\u222B",Int:"\\u222C",integers:"\\u2124",Integral:"\\u222B",intercal:"\\u22BA",Intersection:"\\u22C2",intlarhk:"\\u2A17",intprod:"\\u2A3C",InvisibleComma:"\\u2063",InvisibleTimes:"\\u2062",IOcy:"\\u0401",iocy:"\\u0451",Iogon:"\\u012E",iogon:"\\u012F",Iopf:"\\u{1D540}",iopf:"\\u{1D55A}",Iota:"\\u0399",iota:"\\u03B9",iprod:"\\u2A3C",iquest:"\\xBF",iscr:"\\u{1D4BE}",Iscr:"\\u2110",isin:"\\u2208",isindot:"\\u22F5",isinE:"\\u22F9",isins:"\\u22F4",isinsv:"\\u22F3",isinv:"\\u2208",it:"\\u2062",Itilde:"\\u0128",itilde:"\\u0129",Iukcy:"\\u0406",iukcy:"\\u0456",Iuml:"\\xCF",iuml:"\\xEF",Jcirc:"\\u0134",jcirc:"\\u0135",Jcy:"\\u0419",jcy:"\\u0439",Jfr:"\\u{1D50D}",jfr:"\\u{1D527}",jmath:"\\u0237",Jopf:"\\u{1D541}",jopf:"\\u{1D55B}",Jscr:"\\u{1D4A5}",jscr:"\\u{1D4BF}",Jsercy:"\\u0408",jsercy:"\\u0458",Jukcy:"\\u0404",jukcy:"\\u0454",Kappa:"\\u039A",kappa:"\\u03BA",kappav:"\\u03F0",Kcedil:"\\u0136",kcedil:"\\u0137",Kcy:"\\u041A",kcy:"\\u043A",Kfr:"\\u{1D50E}",kfr:"\\u{1D528}",kgreen:"\\u0138",KHcy:"\\u0425",khcy:"\\u0445",KJcy:"\\u040C",kjcy:"\\u045C",Kopf:"\\u{1D542}",kopf:"\\u{1D55C}",Kscr:"\\u{1D4A6}",kscr:"\\u{1D4C0}",lAarr:"\\u21DA",Lacute:"\\u0139",lacute:"\\u013A",laemptyv:"\\u29B4",lagran:"\\u2112",Lambda:"\\u039B",lambda:"\\u03BB",lang:"\\u27E8",Lang:"\\u27EA",langd:"\\u2991",langle:"\\u27E8",lap:"\\u2A85",Laplacetrf:"\\u2112",laquo:"\\xAB",larrb:"\\u21E4",larrbfs:"\\u291F",larr:"\\u2190",Larr:"\\u219E",lArr:"\\u21D0",larrfs:"\\u291D",larrhk:"\\u21A9",larrlp:"\\u21AB",larrpl:"\\u2939",larrsim:"\\u2973",larrtl:"\\u21A2",latail:"\\u2919",lAtail:"\\u291B",lat:"\\u2AAB",late:"\\u2AAD",lates:"\\u2AAD\\uFE00",lbarr:"\\u290C",lBarr:"\\u290E",lbbrk:"\\u2772",lbrace:"{",lbrack:"[",lbrke:"\\u298B",lbrksld:"\\u298F",lbrkslu:"\\u298D",Lcaron:"\\u013D",lcaron:"\\u013E",Lcedil:"\\u013B",lcedil:"\\u013C",lceil:"\\u2308",lcub:"{",Lcy:"\\u041B",lcy:"\\u043B",ldca:"\\u2936",ldquo:"\\u201C",ldquor:"\\u201E",ldrdhar:"\\u2967",ldrushar:"\\u294B",ldsh:"\\u21B2",le:"\\u2264",lE:"\\u2266",LeftAngleBracket:"\\u27E8",LeftArrowBar:"\\u21E4",leftarrow:"\\u2190",LeftArrow:"\\u2190",Leftarrow:"\\u21D0",LeftArrowRightArrow:"\\u21C6",leftarrowtail:"\\u21A2",LeftCeiling:"\\u2308",LeftDoubleBracket:"\\u27E6",LeftDownTeeVector:"\\u2961",LeftDownVectorBar:"\\u2959",LeftDownVector:"\\u21C3",LeftFloor:"\\u230A",leftharpoondown:"\\u21BD",leftharpoonup:"\\u21BC",leftleftarrows:"\\u21C7",leftrightarrow:"\\u2194",LeftRightArrow:"\\u2194",Leftrightarrow:"\\u21D4",leftrightarrows:"\\u21C6",leftrightharpoons:"\\u21CB",leftrightsquigarrow:"\\u21AD",LeftRightVector:"\\u294E",LeftTeeArrow:"\\u21A4",LeftTee:"\\u22A3",LeftTeeVector:"\\u295A",leftthreetimes:"\\u22CB",LeftTriangleBar:"\\u29CF",LeftTriangle:"\\u22B2",LeftTriangleEqual:"\\u22B4",LeftUpDownVector:"\\u2951",LeftUpTeeVector:"\\u2960",LeftUpVectorBar:"\\u2958",LeftUpVector:"\\u21BF",LeftVectorBar:"\\u2952",LeftVector:"\\u21BC",lEg:"\\u2A8B",leg:"\\u22DA",leq:"\\u2264",leqq:"\\u2266",leqslant:"\\u2A7D",lescc:"\\u2AA8",les:"\\u2A7D",lesdot:"\\u2A7F",lesdoto:"\\u2A81",lesdotor:"\\u2A83",lesg:"\\u22DA\\uFE00",lesges:"\\u2A93",lessapprox:"\\u2A85",lessdot:"\\u22D6",lesseqgtr:"\\u22DA",lesseqqgtr:"\\u2A8B",LessEqualGreater:"\\u22DA",LessFullEqual:"\\u2266",LessGreater:"\\u2276",lessgtr:"\\u2276",LessLess:"\\u2AA1",lesssim:"\\u2272",LessSlantEqual:"\\u2A7D",LessTilde:"\\u2272",lfisht:"\\u297C",lfloor:"\\u230A",Lfr:"\\u{1D50F}",lfr:"\\u{1D529}",lg:"\\u2276",lgE:"\\u2A91",lHar:"\\u2962",lhard:"\\u21BD",lharu:"\\u21BC",lharul:"\\u296A",lhblk:"\\u2584",LJcy:"\\u0409",ljcy:"\\u0459",llarr:"\\u21C7",ll:"\\u226A",Ll:"\\u22D8",llcorner:"\\u231E",Lleftarrow:"\\u21DA",llhard:"\\u296B",lltri:"\\u25FA",Lmidot:"\\u013F",lmidot:"\\u0140",lmoustache:"\\u23B0",lmoust:"\\u23B0",lnap:"\\u2A89",lnapprox:"\\u2A89",lne:"\\u2A87",lnE:"\\u2268",lneq:"\\u2A87",lneqq:"\\u2268",lnsim:"\\u22E6",loang:"\\u27EC",loarr:"\\u21FD",lobrk:"\\u27E6",longleftarrow:"\\u27F5",LongLeftArrow:"\\u27F5",Longleftarrow:"\\u27F8",longleftrightarrow:"\\u27F7",LongLeftRightArrow:"\\u27F7",Longleftrightarrow:"\\u27FA",longmapsto:"\\u27FC",longrightarrow:"\\u27F6",LongRightArrow:"\\u27F6",Longrightarrow:"\\u27F9",looparrowleft:"\\u21AB",looparrowright:"\\u21AC",lopar:"\\u2985",Lopf:"\\u{1D543}",lopf:"\\u{1D55D}",loplus:"\\u2A2D",lotimes:"\\u2A34",lowast:"\\u2217",lowbar:"_",LowerLeftArrow:"\\u2199",LowerRightArrow:"\\u2198",loz:"\\u25CA",lozenge:"\\u25CA",lozf:"\\u29EB",lpar:"(",lparlt:"\\u2993",lrarr:"\\u21C6",lrcorner:"\\u231F",lrhar:"\\u21CB",lrhard:"\\u296D",lrm:"\\u200E",lrtri:"\\u22BF",lsaquo:"\\u2039",lscr:"\\u{1D4C1}",Lscr:"\\u2112",lsh:"\\u21B0",Lsh:"\\u21B0",lsim:"\\u2272",lsime:"\\u2A8D",lsimg:"\\u2A8F",lsqb:"[",lsquo:"\\u2018",lsquor:"\\u201A",Lstrok:"\\u0141",lstrok:"\\u0142",ltcc:"\\u2AA6",ltcir:"\\u2A79",lt:"<",LT:"<",Lt:"\\u226A",ltdot:"\\u22D6",lthree:"\\u22CB",ltimes:"\\u22C9",ltlarr:"\\u2976",ltquest:"\\u2A7B",ltri:"\\u25C3",ltrie:"\\u22B4",ltrif:"\\u25C2",ltrPar:"\\u2996",lurdshar:"\\u294A",luruhar:"\\u2966",lvertneqq:"\\u2268\\uFE00",lvnE:"\\u2268\\uFE00",macr:"\\xAF",male:"\\u2642",malt:"\\u2720",maltese:"\\u2720",Map:"\\u2905",map:"\\u21A6",mapsto:"\\u21A6",mapstodown:"\\u21A7",mapstoleft:"\\u21A4",mapstoup:"\\u21A5",marker:"\\u25AE",mcomma:"\\u2A29",Mcy:"\\u041C",mcy:"\\u043C",mdash:"\\u2014",mDDot:"\\u223A",measuredangle:"\\u2221",MediumSpace:"\\u205F",Mellintrf:"\\u2133",Mfr:"\\u{1D510}",mfr:"\\u{1D52A}",mho:"\\u2127",micro:"\\xB5",midast:"*",midcir:"\\u2AF0",mid:"\\u2223",middot:"\\xB7",minusb:"\\u229F",minus:"\\u2212",minusd:"\\u2238",minusdu:"\\u2A2A",MinusPlus:"\\u2213",mlcp:"\\u2ADB",mldr:"\\u2026",mnplus:"\\u2213",models:"\\u22A7",Mopf:"\\u{1D544}",mopf:"\\u{1D55E}",mp:"\\u2213",mscr:"\\u{1D4C2}",Mscr:"\\u2133",mstpos:"\\u223E",Mu:"\\u039C",mu:"\\u03BC",multimap:"\\u22B8",mumap:"\\u22B8",nabla:"\\u2207",Nacute:"\\u0143",nacute:"\\u0144",nang:"\\u2220\\u20D2",nap:"\\u2249",napE:"\\u2A70\\u0338",napid:"\\u224B\\u0338",napos:"\\u0149",napprox:"\\u2249",natural:"\\u266E",naturals:"\\u2115",natur:"\\u266E",nbsp:"\\xA0",nbump:"\\u224E\\u0338",nbumpe:"\\u224F\\u0338",ncap:"\\u2A43",Ncaron:"\\u0147",ncaron:"\\u0148",Ncedil:"\\u0145",ncedil:"\\u0146",ncong:"\\u2247",ncongdot:"\\u2A6D\\u0338",ncup:"\\u2A42",Ncy:"\\u041D",ncy:"\\u043D",ndash:"\\u2013",nearhk:"\\u2924",nearr:"\\u2197",neArr:"\\u21D7",nearrow:"\\u2197",ne:"\\u2260",nedot:"\\u2250\\u0338",NegativeMediumSpace:"\\u200B",NegativeThickSpace:"\\u200B",NegativeThinSpace:"\\u200B",NegativeVeryThinSpace:"\\u200B",nequiv:"\\u2262",nesear:"\\u2928",nesim:"\\u2242\\u0338",NestedGreaterGreater:"\\u226B",NestedLessLess:"\\u226A",NewLine:\`
\`,nexist:"\\u2204",nexists:"\\u2204",Nfr:"\\u{1D511}",nfr:"\\u{1D52B}",ngE:"\\u2267\\u0338",nge:"\\u2271",ngeq:"\\u2271",ngeqq:"\\u2267\\u0338",ngeqslant:"\\u2A7E\\u0338",nges:"\\u2A7E\\u0338",nGg:"\\u22D9\\u0338",ngsim:"\\u2275",nGt:"\\u226B\\u20D2",ngt:"\\u226F",ngtr:"\\u226F",nGtv:"\\u226B\\u0338",nharr:"\\u21AE",nhArr:"\\u21CE",nhpar:"\\u2AF2",ni:"\\u220B",nis:"\\u22FC",nisd:"\\u22FA",niv:"\\u220B",NJcy:"\\u040A",njcy:"\\u045A",nlarr:"\\u219A",nlArr:"\\u21CD",nldr:"\\u2025",nlE:"\\u2266\\u0338",nle:"\\u2270",nleftarrow:"\\u219A",nLeftarrow:"\\u21CD",nleftrightarrow:"\\u21AE",nLeftrightarrow:"\\u21CE",nleq:"\\u2270",nleqq:"\\u2266\\u0338",nleqslant:"\\u2A7D\\u0338",nles:"\\u2A7D\\u0338",nless:"\\u226E",nLl:"\\u22D8\\u0338",nlsim:"\\u2274",nLt:"\\u226A\\u20D2",nlt:"\\u226E",nltri:"\\u22EA",nltrie:"\\u22EC",nLtv:"\\u226A\\u0338",nmid:"\\u2224",NoBreak:"\\u2060",NonBreakingSpace:"\\xA0",nopf:"\\u{1D55F}",Nopf:"\\u2115",Not:"\\u2AEC",not:"\\xAC",NotCongruent:"\\u2262",NotCupCap:"\\u226D",NotDoubleVerticalBar:"\\u2226",NotElement:"\\u2209",NotEqual:"\\u2260",NotEqualTilde:"\\u2242\\u0338",NotExists:"\\u2204",NotGreater:"\\u226F",NotGreaterEqual:"\\u2271",NotGreaterFullEqual:"\\u2267\\u0338",NotGreaterGreater:"\\u226B\\u0338",NotGreaterLess:"\\u2279",NotGreaterSlantEqual:"\\u2A7E\\u0338",NotGreaterTilde:"\\u2275",NotHumpDownHump:"\\u224E\\u0338",NotHumpEqual:"\\u224F\\u0338",notin:"\\u2209",notindot:"\\u22F5\\u0338",notinE:"\\u22F9\\u0338",notinva:"\\u2209",notinvb:"\\u22F7",notinvc:"\\u22F6",NotLeftTriangleBar:"\\u29CF\\u0338",NotLeftTriangle:"\\u22EA",NotLeftTriangleEqual:"\\u22EC",NotLess:"\\u226E",NotLessEqual:"\\u2270",NotLessGreater:"\\u2278",NotLessLess:"\\u226A\\u0338",NotLessSlantEqual:"\\u2A7D\\u0338",NotLessTilde:"\\u2274",NotNestedGreaterGreater:"\\u2AA2\\u0338",NotNestedLessLess:"\\u2AA1\\u0338",notni:"\\u220C",notniva:"\\u220C",notnivb:"\\u22FE",notnivc:"\\u22FD",NotPrecedes:"\\u2280",NotPrecedesEqual:"\\u2AAF\\u0338",NotPrecedesSlantEqual:"\\u22E0",NotReverseElement:"\\u220C",NotRightTriangleBar:"\\u29D0\\u0338",NotRightTriangle:"\\u22EB",NotRightTriangleEqual:"\\u22ED",NotSquareSubset:"\\u228F\\u0338",NotSquareSubsetEqual:"\\u22E2",NotSquareSuperset:"\\u2290\\u0338",NotSquareSupersetEqual:"\\u22E3",NotSubset:"\\u2282\\u20D2",NotSubsetEqual:"\\u2288",NotSucceeds:"\\u2281",NotSucceedsEqual:"\\u2AB0\\u0338",NotSucceedsSlantEqual:"\\u22E1",NotSucceedsTilde:"\\u227F\\u0338",NotSuperset:"\\u2283\\u20D2",NotSupersetEqual:"\\u2289",NotTilde:"\\u2241",NotTildeEqual:"\\u2244",NotTildeFullEqual:"\\u2247",NotTildeTilde:"\\u2249",NotVerticalBar:"\\u2224",nparallel:"\\u2226",npar:"\\u2226",nparsl:"\\u2AFD\\u20E5",npart:"\\u2202\\u0338",npolint:"\\u2A14",npr:"\\u2280",nprcue:"\\u22E0",nprec:"\\u2280",npreceq:"\\u2AAF\\u0338",npre:"\\u2AAF\\u0338",nrarrc:"\\u2933\\u0338",nrarr:"\\u219B",nrArr:"\\u21CF",nrarrw:"\\u219D\\u0338",nrightarrow:"\\u219B",nRightarrow:"\\u21CF",nrtri:"\\u22EB",nrtrie:"\\u22ED",nsc:"\\u2281",nsccue:"\\u22E1",nsce:"\\u2AB0\\u0338",Nscr:"\\u{1D4A9}",nscr:"\\u{1D4C3}",nshortmid:"\\u2224",nshortparallel:"\\u2226",nsim:"\\u2241",nsime:"\\u2244",nsimeq:"\\u2244",nsmid:"\\u2224",nspar:"\\u2226",nsqsube:"\\u22E2",nsqsupe:"\\u22E3",nsub:"\\u2284",nsubE:"\\u2AC5\\u0338",nsube:"\\u2288",nsubset:"\\u2282\\u20D2",nsubseteq:"\\u2288",nsubseteqq:"\\u2AC5\\u0338",nsucc:"\\u2281",nsucceq:"\\u2AB0\\u0338",nsup:"\\u2285",nsupE:"\\u2AC6\\u0338",nsupe:"\\u2289",nsupset:"\\u2283\\u20D2",nsupseteq:"\\u2289",nsupseteqq:"\\u2AC6\\u0338",ntgl:"\\u2279",Ntilde:"\\xD1",ntilde:"\\xF1",ntlg:"\\u2278",ntriangleleft:"\\u22EA",ntrianglelefteq:"\\u22EC",ntriangleright:"\\u22EB",ntrianglerighteq:"\\u22ED",Nu:"\\u039D",nu:"\\u03BD",num:"#",numero:"\\u2116",numsp:"\\u2007",nvap:"\\u224D\\u20D2",nvdash:"\\u22AC",nvDash:"\\u22AD",nVdash:"\\u22AE",nVDash:"\\u22AF",nvge:"\\u2265\\u20D2",nvgt:">\\u20D2",nvHarr:"\\u2904",nvinfin:"\\u29DE",nvlArr:"\\u2902",nvle:"\\u2264\\u20D2",nvlt:"<\\u20D2",nvltrie:"\\u22B4\\u20D2",nvrArr:"\\u2903",nvrtrie:"\\u22B5\\u20D2",nvsim:"\\u223C\\u20D2",nwarhk:"\\u2923",nwarr:"\\u2196",nwArr:"\\u21D6",nwarrow:"\\u2196",nwnear:"\\u2927",Oacute:"\\xD3",oacute:"\\xF3",oast:"\\u229B",Ocirc:"\\xD4",ocirc:"\\xF4",ocir:"\\u229A",Ocy:"\\u041E",ocy:"\\u043E",odash:"\\u229D",Odblac:"\\u0150",odblac:"\\u0151",odiv:"\\u2A38",odot:"\\u2299",odsold:"\\u29BC",OElig:"\\u0152",oelig:"\\u0153",ofcir:"\\u29BF",Ofr:"\\u{1D512}",ofr:"\\u{1D52C}",ogon:"\\u02DB",Ograve:"\\xD2",ograve:"\\xF2",ogt:"\\u29C1",ohbar:"\\u29B5",ohm:"\\u03A9",oint:"\\u222E",olarr:"\\u21BA",olcir:"\\u29BE",olcross:"\\u29BB",oline:"\\u203E",olt:"\\u29C0",Omacr:"\\u014C",omacr:"\\u014D",Omega:"\\u03A9",omega:"\\u03C9",Omicron:"\\u039F",omicron:"\\u03BF",omid:"\\u29B6",ominus:"\\u2296",Oopf:"\\u{1D546}",oopf:"\\u{1D560}",opar:"\\u29B7",OpenCurlyDoubleQuote:"\\u201C",OpenCurlyQuote:"\\u2018",operp:"\\u29B9",oplus:"\\u2295",orarr:"\\u21BB",Or:"\\u2A54",or:"\\u2228",ord:"\\u2A5D",order:"\\u2134",orderof:"\\u2134",ordf:"\\xAA",ordm:"\\xBA",origof:"\\u22B6",oror:"\\u2A56",orslope:"\\u2A57",orv:"\\u2A5B",oS:"\\u24C8",Oscr:"\\u{1D4AA}",oscr:"\\u2134",Oslash:"\\xD8",oslash:"\\xF8",osol:"\\u2298",Otilde:"\\xD5",otilde:"\\xF5",otimesas:"\\u2A36",Otimes:"\\u2A37",otimes:"\\u2297",Ouml:"\\xD6",ouml:"\\xF6",ovbar:"\\u233D",OverBar:"\\u203E",OverBrace:"\\u23DE",OverBracket:"\\u23B4",OverParenthesis:"\\u23DC",para:"\\xB6",parallel:"\\u2225",par:"\\u2225",parsim:"\\u2AF3",parsl:"\\u2AFD",part:"\\u2202",PartialD:"\\u2202",Pcy:"\\u041F",pcy:"\\u043F",percnt:"%",period:".",permil:"\\u2030",perp:"\\u22A5",pertenk:"\\u2031",Pfr:"\\u{1D513}",pfr:"\\u{1D52D}",Phi:"\\u03A6",phi:"\\u03C6",phiv:"\\u03D5",phmmat:"\\u2133",phone:"\\u260E",Pi:"\\u03A0",pi:"\\u03C0",pitchfork:"\\u22D4",piv:"\\u03D6",planck:"\\u210F",planckh:"\\u210E",plankv:"\\u210F",plusacir:"\\u2A23",plusb:"\\u229E",pluscir:"\\u2A22",plus:"+",plusdo:"\\u2214",plusdu:"\\u2A25",pluse:"\\u2A72",PlusMinus:"\\xB1",plusmn:"\\xB1",plussim:"\\u2A26",plustwo:"\\u2A27",pm:"\\xB1",Poincareplane:"\\u210C",pointint:"\\u2A15",popf:"\\u{1D561}",Popf:"\\u2119",pound:"\\xA3",prap:"\\u2AB7",Pr:"\\u2ABB",pr:"\\u227A",prcue:"\\u227C",precapprox:"\\u2AB7",prec:"\\u227A",preccurlyeq:"\\u227C",Precedes:"\\u227A",PrecedesEqual:"\\u2AAF",PrecedesSlantEqual:"\\u227C",PrecedesTilde:"\\u227E",preceq:"\\u2AAF",precnapprox:"\\u2AB9",precneqq:"\\u2AB5",precnsim:"\\u22E8",pre:"\\u2AAF",prE:"\\u2AB3",precsim:"\\u227E",prime:"\\u2032",Prime:"\\u2033",primes:"\\u2119",prnap:"\\u2AB9",prnE:"\\u2AB5",prnsim:"\\u22E8",prod:"\\u220F",Product:"\\u220F",profalar:"\\u232E",profline:"\\u2312",profsurf:"\\u2313",prop:"\\u221D",Proportional:"\\u221D",Proportion:"\\u2237",propto:"\\u221D",prsim:"\\u227E",prurel:"\\u22B0",Pscr:"\\u{1D4AB}",pscr:"\\u{1D4C5}",Psi:"\\u03A8",psi:"\\u03C8",puncsp:"\\u2008",Qfr:"\\u{1D514}",qfr:"\\u{1D52E}",qint:"\\u2A0C",qopf:"\\u{1D562}",Qopf:"\\u211A",qprime:"\\u2057",Qscr:"\\u{1D4AC}",qscr:"\\u{1D4C6}",quaternions:"\\u210D",quatint:"\\u2A16",quest:"?",questeq:"\\u225F",quot:'"',QUOT:'"',rAarr:"\\u21DB",race:"\\u223D\\u0331",Racute:"\\u0154",racute:"\\u0155",radic:"\\u221A",raemptyv:"\\u29B3",rang:"\\u27E9",Rang:"\\u27EB",rangd:"\\u2992",range:"\\u29A5",rangle:"\\u27E9",raquo:"\\xBB",rarrap:"\\u2975",rarrb:"\\u21E5",rarrbfs:"\\u2920",rarrc:"\\u2933",rarr:"\\u2192",Rarr:"\\u21A0",rArr:"\\u21D2",rarrfs:"\\u291E",rarrhk:"\\u21AA",rarrlp:"\\u21AC",rarrpl:"\\u2945",rarrsim:"\\u2974",Rarrtl:"\\u2916",rarrtl:"\\u21A3",rarrw:"\\u219D",ratail:"\\u291A",rAtail:"\\u291C",ratio:"\\u2236",rationals:"\\u211A",rbarr:"\\u290D",rBarr:"\\u290F",RBarr:"\\u2910",rbbrk:"\\u2773",rbrace:"}",rbrack:"]",rbrke:"\\u298C",rbrksld:"\\u298E",rbrkslu:"\\u2990",Rcaron:"\\u0158",rcaron:"\\u0159",Rcedil:"\\u0156",rcedil:"\\u0157",rceil:"\\u2309",rcub:"}",Rcy:"\\u0420",rcy:"\\u0440",rdca:"\\u2937",rdldhar:"\\u2969",rdquo:"\\u201D",rdquor:"\\u201D",rdsh:"\\u21B3",real:"\\u211C",realine:"\\u211B",realpart:"\\u211C",reals:"\\u211D",Re:"\\u211C",rect:"\\u25AD",reg:"\\xAE",REG:"\\xAE",ReverseElement:"\\u220B",ReverseEquilibrium:"\\u21CB",ReverseUpEquilibrium:"\\u296F",rfisht:"\\u297D",rfloor:"\\u230B",rfr:"\\u{1D52F}",Rfr:"\\u211C",rHar:"\\u2964",rhard:"\\u21C1",rharu:"\\u21C0",rharul:"\\u296C",Rho:"\\u03A1",rho:"\\u03C1",rhov:"\\u03F1",RightAngleBracket:"\\u27E9",RightArrowBar:"\\u21E5",rightarrow:"\\u2192",RightArrow:"\\u2192",Rightarrow:"\\u21D2",RightArrowLeftArrow:"\\u21C4",rightarrowtail:"\\u21A3",RightCeiling:"\\u2309",RightDoubleBracket:"\\u27E7",RightDownTeeVector:"\\u295D",RightDownVectorBar:"\\u2955",RightDownVector:"\\u21C2",RightFloor:"\\u230B",rightharpoondown:"\\u21C1",rightharpoonup:"\\u21C0",rightleftarrows:"\\u21C4",rightleftharpoons:"\\u21CC",rightrightarrows:"\\u21C9",rightsquigarrow:"\\u219D",RightTeeArrow:"\\u21A6",RightTee:"\\u22A2",RightTeeVector:"\\u295B",rightthreetimes:"\\u22CC",RightTriangleBar:"\\u29D0",RightTriangle:"\\u22B3",RightTriangleEqual:"\\u22B5",RightUpDownVector:"\\u294F",RightUpTeeVector:"\\u295C",RightUpVectorBar:"\\u2954",RightUpVector:"\\u21BE",RightVectorBar:"\\u2953",RightVector:"\\u21C0",ring:"\\u02DA",risingdotseq:"\\u2253",rlarr:"\\u21C4",rlhar:"\\u21CC",rlm:"\\u200F",rmoustache:"\\u23B1",rmoust:"\\u23B1",rnmid:"\\u2AEE",roang:"\\u27ED",roarr:"\\u21FE",robrk:"\\u27E7",ropar:"\\u2986",ropf:"\\u{1D563}",Ropf:"\\u211D",roplus:"\\u2A2E",rotimes:"\\u2A35",RoundImplies:"\\u2970",rpar:")",rpargt:"\\u2994",rppolint:"\\u2A12",rrarr:"\\u21C9",Rrightarrow:"\\u21DB",rsaquo:"\\u203A",rscr:"\\u{1D4C7}",Rscr:"\\u211B",rsh:"\\u21B1",Rsh:"\\u21B1",rsqb:"]",rsquo:"\\u2019",rsquor:"\\u2019",rthree:"\\u22CC",rtimes:"\\u22CA",rtri:"\\u25B9",rtrie:"\\u22B5",rtrif:"\\u25B8",rtriltri:"\\u29CE",RuleDelayed:"\\u29F4",ruluhar:"\\u2968",rx:"\\u211E",Sacute:"\\u015A",sacute:"\\u015B",sbquo:"\\u201A",scap:"\\u2AB8",Scaron:"\\u0160",scaron:"\\u0161",Sc:"\\u2ABC",sc:"\\u227B",sccue:"\\u227D",sce:"\\u2AB0",scE:"\\u2AB4",Scedil:"\\u015E",scedil:"\\u015F",Scirc:"\\u015C",scirc:"\\u015D",scnap:"\\u2ABA",scnE:"\\u2AB6",scnsim:"\\u22E9",scpolint:"\\u2A13",scsim:"\\u227F",Scy:"\\u0421",scy:"\\u0441",sdotb:"\\u22A1",sdot:"\\u22C5",sdote:"\\u2A66",searhk:"\\u2925",searr:"\\u2198",seArr:"\\u21D8",searrow:"\\u2198",sect:"\\xA7",semi:";",seswar:"\\u2929",setminus:"\\u2216",setmn:"\\u2216",sext:"\\u2736",Sfr:"\\u{1D516}",sfr:"\\u{1D530}",sfrown:"\\u2322",sharp:"\\u266F",SHCHcy:"\\u0429",shchcy:"\\u0449",SHcy:"\\u0428",shcy:"\\u0448",ShortDownArrow:"\\u2193",ShortLeftArrow:"\\u2190",shortmid:"\\u2223",shortparallel:"\\u2225",ShortRightArrow:"\\u2192",ShortUpArrow:"\\u2191",shy:"\\xAD",Sigma:"\\u03A3",sigma:"\\u03C3",sigmaf:"\\u03C2",sigmav:"\\u03C2",sim:"\\u223C",simdot:"\\u2A6A",sime:"\\u2243",simeq:"\\u2243",simg:"\\u2A9E",simgE:"\\u2AA0",siml:"\\u2A9D",simlE:"\\u2A9F",simne:"\\u2246",simplus:"\\u2A24",simrarr:"\\u2972",slarr:"\\u2190",SmallCircle:"\\u2218",smallsetminus:"\\u2216",smashp:"\\u2A33",smeparsl:"\\u29E4",smid:"\\u2223",smile:"\\u2323",smt:"\\u2AAA",smte:"\\u2AAC",smtes:"\\u2AAC\\uFE00",SOFTcy:"\\u042C",softcy:"\\u044C",solbar:"\\u233F",solb:"\\u29C4",sol:"/",Sopf:"\\u{1D54A}",sopf:"\\u{1D564}",spades:"\\u2660",spadesuit:"\\u2660",spar:"\\u2225",sqcap:"\\u2293",sqcaps:"\\u2293\\uFE00",sqcup:"\\u2294",sqcups:"\\u2294\\uFE00",Sqrt:"\\u221A",sqsub:"\\u228F",sqsube:"\\u2291",sqsubset:"\\u228F",sqsubseteq:"\\u2291",sqsup:"\\u2290",sqsupe:"\\u2292",sqsupset:"\\u2290",sqsupseteq:"\\u2292",square:"\\u25A1",Square:"\\u25A1",SquareIntersection:"\\u2293",SquareSubset:"\\u228F",SquareSubsetEqual:"\\u2291",SquareSuperset:"\\u2290",SquareSupersetEqual:"\\u2292",SquareUnion:"\\u2294",squarf:"\\u25AA",squ:"\\u25A1",squf:"\\u25AA",srarr:"\\u2192",Sscr:"\\u{1D4AE}",sscr:"\\u{1D4C8}",ssetmn:"\\u2216",ssmile:"\\u2323",sstarf:"\\u22C6",Star:"\\u22C6",star:"\\u2606",starf:"\\u2605",straightepsilon:"\\u03F5",straightphi:"\\u03D5",strns:"\\xAF",sub:"\\u2282",Sub:"\\u22D0",subdot:"\\u2ABD",subE:"\\u2AC5",sube:"\\u2286",subedot:"\\u2AC3",submult:"\\u2AC1",subnE:"\\u2ACB",subne:"\\u228A",subplus:"\\u2ABF",subrarr:"\\u2979",subset:"\\u2282",Subset:"\\u22D0",subseteq:"\\u2286",subseteqq:"\\u2AC5",SubsetEqual:"\\u2286",subsetneq:"\\u228A",subsetneqq:"\\u2ACB",subsim:"\\u2AC7",subsub:"\\u2AD5",subsup:"\\u2AD3",succapprox:"\\u2AB8",succ:"\\u227B",succcurlyeq:"\\u227D",Succeeds:"\\u227B",SucceedsEqual:"\\u2AB0",SucceedsSlantEqual:"\\u227D",SucceedsTilde:"\\u227F",succeq:"\\u2AB0",succnapprox:"\\u2ABA",succneqq:"\\u2AB6",succnsim:"\\u22E9",succsim:"\\u227F",SuchThat:"\\u220B",sum:"\\u2211",Sum:"\\u2211",sung:"\\u266A",sup1:"\\xB9",sup2:"\\xB2",sup3:"\\xB3",sup:"\\u2283",Sup:"\\u22D1",supdot:"\\u2ABE",supdsub:"\\u2AD8",supE:"\\u2AC6",supe:"\\u2287",supedot:"\\u2AC4",Superset:"\\u2283",SupersetEqual:"\\u2287",suphsol:"\\u27C9",suphsub:"\\u2AD7",suplarr:"\\u297B",supmult:"\\u2AC2",supnE:"\\u2ACC",supne:"\\u228B",supplus:"\\u2AC0",supset:"\\u2283",Supset:"\\u22D1",supseteq:"\\u2287",supseteqq:"\\u2AC6",supsetneq:"\\u228B",supsetneqq:"\\u2ACC",supsim:"\\u2AC8",supsub:"\\u2AD4",supsup:"\\u2AD6",swarhk:"\\u2926",swarr:"\\u2199",swArr:"\\u21D9",swarrow:"\\u2199",swnwar:"\\u292A",szlig:"\\xDF",Tab:"	",target:"\\u2316",Tau:"\\u03A4",tau:"\\u03C4",tbrk:"\\u23B4",Tcaron:"\\u0164",tcaron:"\\u0165",Tcedil:"\\u0162",tcedil:"\\u0163",Tcy:"\\u0422",tcy:"\\u0442",tdot:"\\u20DB",telrec:"\\u2315",Tfr:"\\u{1D517}",tfr:"\\u{1D531}",there4:"\\u2234",therefore:"\\u2234",Therefore:"\\u2234",Theta:"\\u0398",theta:"\\u03B8",thetasym:"\\u03D1",thetav:"\\u03D1",thickapprox:"\\u2248",thicksim:"\\u223C",ThickSpace:"\\u205F\\u200A",ThinSpace:"\\u2009",thinsp:"\\u2009",thkap:"\\u2248",thksim:"\\u223C",THORN:"\\xDE",thorn:"\\xFE",tilde:"\\u02DC",Tilde:"\\u223C",TildeEqual:"\\u2243",TildeFullEqual:"\\u2245",TildeTilde:"\\u2248",timesbar:"\\u2A31",timesb:"\\u22A0",times:"\\xD7",timesd:"\\u2A30",tint:"\\u222D",toea:"\\u2928",topbot:"\\u2336",topcir:"\\u2AF1",top:"\\u22A4",Topf:"\\u{1D54B}",topf:"\\u{1D565}",topfork:"\\u2ADA",tosa:"\\u2929",tprime:"\\u2034",trade:"\\u2122",TRADE:"\\u2122",triangle:"\\u25B5",triangledown:"\\u25BF",triangleleft:"\\u25C3",trianglelefteq:"\\u22B4",triangleq:"\\u225C",triangleright:"\\u25B9",trianglerighteq:"\\u22B5",tridot:"\\u25EC",trie:"\\u225C",triminus:"\\u2A3A",TripleDot:"\\u20DB",triplus:"\\u2A39",trisb:"\\u29CD",tritime:"\\u2A3B",trpezium:"\\u23E2",Tscr:"\\u{1D4AF}",tscr:"\\u{1D4C9}",TScy:"\\u0426",tscy:"\\u0446",TSHcy:"\\u040B",tshcy:"\\u045B",Tstrok:"\\u0166",tstrok:"\\u0167",twixt:"\\u226C",twoheadleftarrow:"\\u219E",twoheadrightarrow:"\\u21A0",Uacute:"\\xDA",uacute:"\\xFA",uarr:"\\u2191",Uarr:"\\u219F",uArr:"\\u21D1",Uarrocir:"\\u2949",Ubrcy:"\\u040E",ubrcy:"\\u045E",Ubreve:"\\u016C",ubreve:"\\u016D",Ucirc:"\\xDB",ucirc:"\\xFB",Ucy:"\\u0423",ucy:"\\u0443",udarr:"\\u21C5",Udblac:"\\u0170",udblac:"\\u0171",udhar:"\\u296E",ufisht:"\\u297E",Ufr:"\\u{1D518}",ufr:"\\u{1D532}",Ugrave:"\\xD9",ugrave:"\\xF9",uHar:"\\u2963",uharl:"\\u21BF",uharr:"\\u21BE",uhblk:"\\u2580",ulcorn:"\\u231C",ulcorner:"\\u231C",ulcrop:"\\u230F",ultri:"\\u25F8",Umacr:"\\u016A",umacr:"\\u016B",uml:"\\xA8",UnderBar:"_",UnderBrace:"\\u23DF",UnderBracket:"\\u23B5",UnderParenthesis:"\\u23DD",Union:"\\u22C3",UnionPlus:"\\u228E",Uogon:"\\u0172",uogon:"\\u0173",Uopf:"\\u{1D54C}",uopf:"\\u{1D566}",UpArrowBar:"\\u2912",uparrow:"\\u2191",UpArrow:"\\u2191",Uparrow:"\\u21D1",UpArrowDownArrow:"\\u21C5",updownarrow:"\\u2195",UpDownArrow:"\\u2195",Updownarrow:"\\u21D5",UpEquilibrium:"\\u296E",upharpoonleft:"\\u21BF",upharpoonright:"\\u21BE",uplus:"\\u228E",UpperLeftArrow:"\\u2196",UpperRightArrow:"\\u2197",upsi:"\\u03C5",Upsi:"\\u03D2",upsih:"\\u03D2",Upsilon:"\\u03A5",upsilon:"\\u03C5",UpTeeArrow:"\\u21A5",UpTee:"\\u22A5",upuparrows:"\\u21C8",urcorn:"\\u231D",urcorner:"\\u231D",urcrop:"\\u230E",Uring:"\\u016E",uring:"\\u016F",urtri:"\\u25F9",Uscr:"\\u{1D4B0}",uscr:"\\u{1D4CA}",utdot:"\\u22F0",Utilde:"\\u0168",utilde:"\\u0169",utri:"\\u25B5",utrif:"\\u25B4",uuarr:"\\u21C8",Uuml:"\\xDC",uuml:"\\xFC",uwangle:"\\u29A7",vangrt:"\\u299C",varepsilon:"\\u03F5",varkappa:"\\u03F0",varnothing:"\\u2205",varphi:"\\u03D5",varpi:"\\u03D6",varpropto:"\\u221D",varr:"\\u2195",vArr:"\\u21D5",varrho:"\\u03F1",varsigma:"\\u03C2",varsubsetneq:"\\u228A\\uFE00",varsubsetneqq:"\\u2ACB\\uFE00",varsupsetneq:"\\u228B\\uFE00",varsupsetneqq:"\\u2ACC\\uFE00",vartheta:"\\u03D1",vartriangleleft:"\\u22B2",vartriangleright:"\\u22B3",vBar:"\\u2AE8",Vbar:"\\u2AEB",vBarv:"\\u2AE9",Vcy:"\\u0412",vcy:"\\u0432",vdash:"\\u22A2",vDash:"\\u22A8",Vdash:"\\u22A9",VDash:"\\u22AB",Vdashl:"\\u2AE6",veebar:"\\u22BB",vee:"\\u2228",Vee:"\\u22C1",veeeq:"\\u225A",vellip:"\\u22EE",verbar:"|",Verbar:"\\u2016",vert:"|",Vert:"\\u2016",VerticalBar:"\\u2223",VerticalLine:"|",VerticalSeparator:"\\u2758",VerticalTilde:"\\u2240",VeryThinSpace:"\\u200A",Vfr:"\\u{1D519}",vfr:"\\u{1D533}",vltri:"\\u22B2",vnsub:"\\u2282\\u20D2",vnsup:"\\u2283\\u20D2",Vopf:"\\u{1D54D}",vopf:"\\u{1D567}",vprop:"\\u221D",vrtri:"\\u22B3",Vscr:"\\u{1D4B1}",vscr:"\\u{1D4CB}",vsubnE:"\\u2ACB\\uFE00",vsubne:"\\u228A\\uFE00",vsupnE:"\\u2ACC\\uFE00",vsupne:"\\u228B\\uFE00",Vvdash:"\\u22AA",vzigzag:"\\u299A",Wcirc:"\\u0174",wcirc:"\\u0175",wedbar:"\\u2A5F",wedge:"\\u2227",Wedge:"\\u22C0",wedgeq:"\\u2259",weierp:"\\u2118",Wfr:"\\u{1D51A}",wfr:"\\u{1D534}",Wopf:"\\u{1D54E}",wopf:"\\u{1D568}",wp:"\\u2118",wr:"\\u2240",wreath:"\\u2240",Wscr:"\\u{1D4B2}",wscr:"\\u{1D4CC}",xcap:"\\u22C2",xcirc:"\\u25EF",xcup:"\\u22C3",xdtri:"\\u25BD",Xfr:"\\u{1D51B}",xfr:"\\u{1D535}",xharr:"\\u27F7",xhArr:"\\u27FA",Xi:"\\u039E",xi:"\\u03BE",xlarr:"\\u27F5",xlArr:"\\u27F8",xmap:"\\u27FC",xnis:"\\u22FB",xodot:"\\u2A00",Xopf:"\\u{1D54F}",xopf:"\\u{1D569}",xoplus:"\\u2A01",xotime:"\\u2A02",xrarr:"\\u27F6",xrArr:"\\u27F9",Xscr:"\\u{1D4B3}",xscr:"\\u{1D4CD}",xsqcup:"\\u2A06",xuplus:"\\u2A04",xutri:"\\u25B3",xvee:"\\u22C1",xwedge:"\\u22C0",Yacute:"\\xDD",yacute:"\\xFD",YAcy:"\\u042F",yacy:"\\u044F",Ycirc:"\\u0176",ycirc:"\\u0177",Ycy:"\\u042B",ycy:"\\u044B",yen:"\\xA5",Yfr:"\\u{1D51C}",yfr:"\\u{1D536}",YIcy:"\\u0407",yicy:"\\u0457",Yopf:"\\u{1D550}",yopf:"\\u{1D56A}",Yscr:"\\u{1D4B4}",yscr:"\\u{1D4CE}",YUcy:"\\u042E",yucy:"\\u044E",yuml:"\\xFF",Yuml:"\\u0178",Zacute:"\\u0179",zacute:"\\u017A",Zcaron:"\\u017D",zcaron:"\\u017E",Zcy:"\\u0417",zcy:"\\u0437",Zdot:"\\u017B",zdot:"\\u017C",zeetrf:"\\u2128",ZeroWidthSpace:"\\u200B",Zeta:"\\u0396",zeta:"\\u03B6",zfr:"\\u{1D537}",Zfr:"\\u2128",ZHcy:"\\u0416",zhcy:"\\u0436",zigrarr:"\\u21DD",zopf:"\\u{1D56B}",Zopf:"\\u2124",Zscr:"\\u{1D4B5}",zscr:"\\u{1D4CF}",zwj:"\\u200D",zwnj:"\\u200C"}});var Xu=w((q8,th)=>{th.exports=eh()});var zu=w((V8,nh)=>{nh.exports=/[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4E\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDF55-\\uDF59]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/});var rh=w(()=>{});var lh=w((H8,oh)=>{oh.exports=/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/});var ah=w((j8,ih)=>{ih.exports=/[\\0-\\x1F\\x7F-\\x9F]/});var sh=w((X8,uh)=>{uh.exports=/[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804[\\uDCBD\\uDCCD]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/});var fh=w((z8,ch)=>{ch.exports=/[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/});var ph=w(_o=>{_o.Any=lh();_o.Cc=ah();_o.Cf=sh();_o.P=zu();_o.Z=fh()});var se=w(Be=>{function mT(e){return Object.prototype.toString.call(e)}function vT(e){return mT(e)==="[object String]"}var TT=Object.prototype.hasOwnProperty;function hh(e,t){return TT.call(e,t)}function ET(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(n){if(!!n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){e[r]=n[r]})}}),e}function OT(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function dh(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function gh(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var Ah=/\\\\([!"#$%&'()*+,\\-.\\/:;<=>?@[\\\\\\]^_\`{|}~])/g,ST=/&([a-z#][a-z0-9]{1,31});/gi,wT=new RegExp(Ah.source+"|"+ST.source,"gi"),yT=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,_h=Xu();function RT(e,t){var n=0;return hh(_h,t)?_h[t]:t.charCodeAt(0)===35&&yT.test(t)&&(n=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10),dh(n))?gh(n):e}function UT(e){return e.indexOf("\\\\")<0?e:e.replace(Ah,"$1")}function CT(e){return e.indexOf("\\\\")<0&&e.indexOf("&")<0?e:e.replace(wT,function(t,n,r){return n||RT(t,r)})}var NT=/[&<>"]/,DT=/[&<>"]/g,IT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function MT(e){return IT[e]}function FT(e){return NT.test(e)?e.replace(DT,MT):e}var PT=/[.?*+^$[\\]\\\\(){}|-]/g;function BT(e){return e.replace(PT,"\\\\$&")}function qT(e){switch(e){case 9:case 32:return!0}return!1}function VT(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var GT=zu();function KT(e){return GT.test(e)}function HT(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function jT(e){return e=e.trim().replace(/\\s+/g," "),"\\u1E9E".toLowerCase()==="\\u1E7E"&&(e=e.replace(/\u1E9E/g,"\\xDF")),e.toLowerCase().toUpperCase()}Be.lib={};Be.lib.mdurl=rh();Be.lib.ucmicro=ph();Be.assign=ET;Be.isString=vT;Be.has=hh;Be.unescapeMd=UT;Be.unescapeAll=CT;Be.isValidEntityCode=dh;Be.fromCodePoint=gh;Be.escapeHtml=FT;Be.arrayReplaceAt=OT;Be.isSpace=qT;Be.isWhiteSpace=VT;Be.isMdAsciiPunct=HT;Be.isPunctChar=KT;Be.escapeRE=BT;Be.normalizeReference=jT});var kh=w((Z8,xh)=>{var XT=se().isSpace;xh.exports=function(t,n){var r,o,l,i=t.pos;if(t.src.charCodeAt(i)!==10)return!1;if(r=t.pending.length-1,o=t.posMax,!n)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){for(l=r-1;l>=1&&t.pending.charCodeAt(l-1)===32;)l--;t.pending=t.pending.slice(0,l),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(i++;i<o&&XT(t.src.charCodeAt(i));)i++;return t.pos=i,!0}});var mh=w(($8,bh)=>{var zT=se().isSpace,Ju=[];for(Lu=0;Lu<256;Lu++)Ju.push(0);var Lu;"\\\\!\\"#$%&'()*+,./:;<=>?@[]^_\`{|}~-".split("").forEach(function(e){Ju[e.charCodeAt(0)]=1});bh.exports=function(t,n){var r,o,l,i,a,u=t.pos,c=t.posMax;if(t.src.charCodeAt(u)!==92||(u++,u>=c))return!1;if(r=t.src.charCodeAt(u),r===10){for(n||t.push("hardbreak","br",0),u++;u<c&&(r=t.src.charCodeAt(u),!!zT(r));)u++;return t.pos=u,!0}return i=t.src[u],r>=55296&&r<=56319&&u+1<c&&(o=t.src.charCodeAt(u+1),o>=56320&&o<=57343&&(i+=t.src[u+1],u++)),l="\\\\"+i,n||(a=t.push("text_special","",0),r<256&&Ju[r]!==0?a.content=i:a.content=l,a.markup=l,a.info="escape"),t.pos=u+1,!0}});var Th=w((Y8,vh)=>{vh.exports=function(t,n){var r,o,l,i,a,u,c,s,p=t.pos,_=t.src.charCodeAt(p);if(_!==96)return!1;for(r=p,p++,o=t.posMax;p<o&&t.src.charCodeAt(p)===96;)p++;if(l=t.src.slice(r,p),c=l.length,t.backticksScanned&&(t.backticks[c]||0)<=r)return n||(t.pending+=l),t.pos+=c,!0;for(a=u=p;(a=t.src.indexOf("\`",u))!==-1;){for(u=a+1;u<o&&t.src.charCodeAt(u)===96;)u++;if(s=u-a,s===c)return n||(i=t.push("code_inline","code",0),i.markup=l,i.content=t.src.slice(p,a).replace(/\\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=u,!0;t.backticks[s]=a}return t.backticksScanned=!0,n||(t.pending+=l),t.pos+=c,!0}});var $u=w((W8,Zu)=>{Zu.exports.tokenize=function(t,n){var r,o,l,i,a,u=t.pos,c=t.src.charCodeAt(u);if(n||c!==126||(o=t.scanDelims(t.pos,!0),i=o.length,a=String.fromCharCode(c),i<2))return!1;for(i%2&&(l=t.push("text","",0),l.content=a,i--),r=0;r<i;r+=2)l=t.push("text","",0),l.content=a+a,t.delimiters.push({marker:c,length:0,token:t.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return t.pos+=o.length,!0};function Eh(e,t){var n,r,o,l,i,a=[],u=t.length;for(n=0;n<u;n++)o=t[n],o.marker===126&&o.end!==-1&&(l=t[o.end],i=e.tokens[o.token],i.type="s_open",i.tag="s",i.nesting=1,i.markup="~~",i.content="",i=e.tokens[l.token],i.type="s_close",i.tag="s",i.nesting=-1,i.markup="~~",i.content="",e.tokens[l.token-1].type==="text"&&e.tokens[l.token-1].content==="~"&&a.push(l.token-1));for(;a.length;){for(n=a.pop(),r=n+1;r<e.tokens.length&&e.tokens[r].type==="s_close";)r++;r--,n!==r&&(i=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=i)}}Zu.exports.postProcess=function(t){var n,r=t.tokens_meta,o=t.tokens_meta.length;for(Eh(t,t.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&Eh(t,r[n].delimiters)}});var Wu=w((Q8,Yu)=>{Yu.exports.tokenize=function(t,n){var r,o,l,i=t.pos,a=t.src.charCodeAt(i);if(n||a!==95&&a!==42)return!1;for(o=t.scanDelims(t.pos,a===42),r=0;r<o.length;r++)l=t.push("text","",0),l.content=String.fromCharCode(a),t.delimiters.push({marker:a,length:o.length,token:t.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return t.pos+=o.length,!0};function Oh(e,t){var n,r,o,l,i,a,u=t.length;for(n=u-1;n>=0;n--)r=t[n],!(r.marker!==95&&r.marker!==42)&&r.end!==-1&&(o=t[r.end],a=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===o.token+1,i=String.fromCharCode(r.marker),l=e.tokens[r.token],l.type=a?"strong_open":"em_open",l.tag=a?"strong":"em",l.nesting=1,l.markup=a?i+i:i,l.content="",l=e.tokens[o.token],l.type=a?"strong_close":"em_close",l.tag=a?"strong":"em",l.nesting=-1,l.markup=a?i+i:i,l.content="",a&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}Yu.exports.postProcess=function(t){var n,r=t.tokens_meta,o=t.tokens_meta.length;for(Oh(t,t.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&Oh(t,r[n].delimiters)}});var wh=w((e6,Sh)=>{var LT=se().normalizeReference,Qu=se().isSpace;Sh.exports=function(t,n){var r,o,l,i,a,u,c,s,p,_="",d="",x=t.pos,O=t.posMax,T=t.pos,S=!0;if(t.src.charCodeAt(t.pos)!==91||(a=t.pos+1,i=t.md.helpers.parseLinkLabel(t,t.pos,!0),i<0))return!1;if(u=i+1,u<O&&t.src.charCodeAt(u)===40){for(S=!1,u++;u<O&&(o=t.src.charCodeAt(u),!(!Qu(o)&&o!==10));u++);if(u>=O)return!1;if(T=u,c=t.md.helpers.parseLinkDestination(t.src,u,t.posMax),c.ok){for(_=t.md.normalizeLink(c.str),t.md.validateLink(_)?u=c.pos:_="",T=u;u<O&&(o=t.src.charCodeAt(u),!(!Qu(o)&&o!==10));u++);if(c=t.md.helpers.parseLinkTitle(t.src,u,t.posMax),u<O&&T!==u&&c.ok)for(d=c.str,u=c.pos;u<O&&(o=t.src.charCodeAt(u),!(!Qu(o)&&o!==10));u++);}(u>=O||t.src.charCodeAt(u)!==41)&&(S=!0),u++}if(S){if(typeof t.env.references=="undefined")return!1;if(u<O&&t.src.charCodeAt(u)===91?(T=u+1,u=t.md.helpers.parseLinkLabel(t,u),u>=0?l=t.src.slice(T,u++):u=i+1):u=i+1,l||(l=t.src.slice(a,i)),s=t.env.references[LT(l)],!s)return t.pos=x,!1;_=s.href,d=s.title}return n||(t.pos=a,t.posMax=i,p=t.push("link_open","a",1),p.attrs=r=[["href",_]],d&&r.push(["title",d]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,p=t.push("link_close","a",-1)),t.pos=u,t.posMax=O,!0}});var Rh=w((t6,yh)=>{var JT=se().normalizeReference,es=se().isSpace;yh.exports=function(t,n){var r,o,l,i,a,u,c,s,p,_,d,x,O,T="",S=t.pos,b=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(u=t.pos+2,a=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),a<0))return!1;if(c=a+1,c<b&&t.src.charCodeAt(c)===40){for(c++;c<b&&(o=t.src.charCodeAt(c),!(!es(o)&&o!==10));c++);if(c>=b)return!1;for(O=c,p=t.md.helpers.parseLinkDestination(t.src,c,t.posMax),p.ok&&(T=t.md.normalizeLink(p.str),t.md.validateLink(T)?c=p.pos:T=""),O=c;c<b&&(o=t.src.charCodeAt(c),!(!es(o)&&o!==10));c++);if(p=t.md.helpers.parseLinkTitle(t.src,c,t.posMax),c<b&&O!==c&&p.ok)for(_=p.str,c=p.pos;c<b&&(o=t.src.charCodeAt(c),!(!es(o)&&o!==10));c++);else _="";if(c>=b||t.src.charCodeAt(c)!==41)return t.pos=S,!1;c++}else{if(typeof t.env.references=="undefined")return!1;if(c<b&&t.src.charCodeAt(c)===91?(O=c+1,c=t.md.helpers.parseLinkLabel(t,c),c>=0?i=t.src.slice(O,c++):c=a+1):c=a+1,i||(i=t.src.slice(u,a)),s=t.env.references[JT(i)],!s)return t.pos=S,!1;T=s.href,_=s.title}return n||(l=t.src.slice(u,a),t.md.inline.parse(l,t.md,t.env,x=[]),d=t.push("image","img",0),d.attrs=r=[["src",T],["alt",""]],d.children=x,d.content=l,_&&r.push(["title",_])),t.pos=c,t.posMax=b,!0}});var Ch=w((n6,Uh)=>{var ZT=/^([a-zA-Z0-9.!#$%&'*+\\/=?^_\`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,$T=/^([a-zA-Z][a-zA-Z0-9+.\\-]{1,31}):([^<>\\x00-\\x20]*)$/;Uh.exports=function(t,n){var r,o,l,i,a,u,c=t.pos;if(t.src.charCodeAt(c)!==60)return!1;for(a=t.pos,u=t.posMax;;){if(++c>=u||(i=t.src.charCodeAt(c),i===60))return!1;if(i===62)break}return r=t.src.slice(a+1,c),$T.test(r)?(o=t.md.normalizeLink(r),t.md.validateLink(o)?(n||(l=t.push("link_open","a",1),l.attrs=[["href",o]],l.markup="autolink",l.info="auto",l=t.push("text","",0),l.content=t.md.normalizeLinkText(r),l=t.push("link_close","a",-1),l.markup="autolink",l.info="auto"),t.pos+=r.length+2,!0):!1):ZT.test(r)?(o=t.md.normalizeLink("mailto:"+r),t.md.validateLink(o)?(n||(l=t.push("link_open","a",1),l.attrs=[["href",o]],l.markup="autolink",l.info="auto",l=t.push("text","",0),l.content=t.md.normalizeLinkText(r),l=t.push("link_close","a",-1),l.markup="autolink",l.info="auto"),t.pos+=r.length+2,!0):!1):!1}});var ns=w((r6,ts)=>{var YT="[a-zA-Z_:][a-zA-Z0-9:._-]*",WT="[^\\"'=<>\`\\\\x00-\\\\x20]+",QT="'[^']*'",eE='"[^"]*"',tE="(?:"+WT+"|"+QT+"|"+eE+")",nE="(?:\\\\s+"+YT+"(?:\\\\s*=\\\\s*"+tE+")?)",Nh="<[A-Za-z][A-Za-z0-9\\\\-]*"+nE+"*\\\\s*\\\\/?>",Dh="<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>",rE="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",oE="<[?][\\\\s\\\\S]*?[?]>",lE="<![A-Z]+\\\\s+[^>]*>",iE="<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>",aE=new RegExp("^(?:"+Nh+"|"+Dh+"|"+rE+"|"+oE+"|"+lE+"|"+iE+")"),uE=new RegExp("^(?:"+Nh+"|"+Dh+")");ts.exports.HTML_TAG_RE=aE;ts.exports.HTML_OPEN_CLOSE_TAG_RE=uE});var Mh=w((o6,Ih)=>{var sE=ns().HTML_TAG_RE;function cE(e){return/^<a[>\\s]/i.test(e)}function fE(e){return/^<\\/a\\s*>/i.test(e)}function pE(e){var t=e|32;return t>=97&&t<=122}Ih.exports=function(t,n){var r,o,l,i,a=t.pos;return!t.md.options.html||(l=t.posMax,t.src.charCodeAt(a)!==60||a+2>=l)||(r=t.src.charCodeAt(a+1),r!==33&&r!==63&&r!==47&&!pE(r))||(o=t.src.slice(a).match(sE),!o)?!1:(n||(i=t.push("html_inline","",0),i.content=t.src.slice(a,a+o[0].length),cE(i.content)&&t.linkLevel++,fE(i.content)&&t.linkLevel--),t.pos+=o[0].length,!0)}});var qh=w((l6,Bh)=>{var Fh=Xu(),_E=se().has,hE=se().isValidEntityCode,Ph=se().fromCodePoint,dE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,gE=/^&([a-z][a-z0-9]{1,31});/i;Bh.exports=function(t,n){var r,o,l,i,a=t.pos,u=t.posMax;if(t.src.charCodeAt(a)!==38||a+1>=u)return!1;if(r=t.src.charCodeAt(a+1),r===35){if(l=t.src.slice(a).match(dE),l)return n||(o=l[1][0].toLowerCase()==="x"?parseInt(l[1].slice(1),16):parseInt(l[1],10),i=t.push("text_special","",0),i.content=hE(o)?Ph(o):Ph(65533),i.markup=l[0],i.info="entity"),t.pos+=l[0].length,!0}else if(l=t.src.slice(a).match(gE),l&&_E(Fh,l[1]))return n||(i=t.push("text_special","",0),i.content=Fh[l[1]],i.markup=l[0],i.info="entity"),t.pos+=l[0].length,!0;return!1}});var Kh=w((i6,Gh)=>{function Vh(e,t){var n,r,o,l,i,a,u,c,s={},p=t.length;if(!!p){var _=0,d=-2,x=[];for(n=0;n<p;n++)if(o=t[n],x.push(0),(t[_].marker!==o.marker||d!==o.token-1)&&(_=n),d=o.token,o.length=o.length||0,!!o.close){for(s.hasOwnProperty(o.marker)||(s[o.marker]=[-1,-1,-1,-1,-1,-1]),i=s[o.marker][(o.open?3:0)+o.length%3],r=_-x[_]-1,a=r;r>i;r-=x[r]+1)if(l=t[r],l.marker===o.marker&&l.open&&l.end<0&&(u=!1,(l.close||o.open)&&(l.length+o.length)%3===0&&(l.length%3!==0||o.length%3!==0)&&(u=!0),!u)){c=r>0&&!t[r-1].open?x[r-1]+1:0,x[n]=n-r+c,x[r]=c,o.open=!1,l.end=n,l.close=!1,a=-1,d=-2;break}a!==-1&&(s[o.marker][(o.open?3:0)+(o.length||0)%3]=a)}}}Gh.exports=function(t){var n,r=t.tokens_meta,o=t.tokens_meta.length;for(Vh(t,t.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&Vh(t,r[n].delimiters)}});var jh=w((a6,Hh)=>{Hh.exports=function(t){var n,r,o=0,l=t.tokens,i=t.tokens.length;for(n=r=0;n<i;n++)l[n].nesting<0&&o--,l[n].level=o,l[n].nesting>0&&o++,l[n].type==="text"&&n+1<i&&l[n+1].type==="text"?l[n+1].content=l[n].content+l[n+1].content:(n!==r&&(l[r]=l[n]),r++);n!==r&&(l.length=r)}});var Zh=w((u6,Jh)=>{var rs=dl(),Xh=se().isWhiteSpace,zh=se().isPunctChar,Lh=se().isMdAsciiPunct;function gl(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}gl.prototype.pushPending=function(){var e=new rs("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};gl.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new rs(e,t,n),o=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(o),r};gl.prototype.scanDelims=function(e,t){var n=e,r,o,l,i,a,u,c,s,p,_=!0,d=!0,x=this.posMax,O=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;n<x&&this.src.charCodeAt(n)===O;)n++;return l=n-e,o=n<x?this.src.charCodeAt(n):32,c=Lh(r)||zh(String.fromCharCode(r)),p=Lh(o)||zh(String.fromCharCode(o)),u=Xh(r),s=Xh(o),s?_=!1:p&&(u||c||(_=!1)),u?d=!1:c&&(s||p||(d=!1)),t?(i=_,a=d):(i=_&&(!d||c),a=d&&(!_||p)),{can_open:i,can_close:a,length:l}};gl.prototype.Token=rs;Jh.exports=gl});var Wh=w((s6,Yh)=>{var $h=Hi(),os=[["text",Y_()],["linkify",Q_()],["newline",kh()],["escape",mh()],["backticks",Th()],["strikethrough",$u().tokenize],["emphasis",Wu().tokenize],["link",wh()],["image",Rh()],["autolink",Ch()],["html_inline",Mh()],["entity",qh()]],ls=[["balance_pairs",Kh()],["strikethrough",$u().postProcess],["emphasis",Wu().postProcess],["fragments_join",jh()]];function Al(){var e;for(this.ruler=new $h,e=0;e<os.length;e++)this.ruler.push(os[e][0],os[e][1]);for(this.ruler2=new $h,e=0;e<ls.length;e++)this.ruler2.push(ls[e][0],ls[e][1])}Al.prototype.skipToken=function(e){var t,n,r=e.pos,o=this.ruler.getRules(""),l=o.length,i=e.md.options.maxNesting,a=e.cache;if(typeof a[r]!="undefined"){e.pos=a[r];return}if(e.level<i)for(n=0;n<l&&(e.level++,t=o[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,a[r]=e.pos};Al.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,l=e.posMax,i=e.md.options.maxNesting;e.pos<l;){if(e.level<i)for(n=0;n<o&&(t=r[n](e,!1),!t);n++);if(t){if(e.pos>=l)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Al.prototype.parse=function(e,t,n,r){var o,l,i,a=new this.State(e,t,n,r);for(this.tokenize(a),l=this.ruler2.getRules(""),i=l.length,o=0;o<i;o++)l[o](a)};Al.prototype.State=Zh();Yh.exports=Al});var td=w((c6,ed)=>{var is=se().isSpace;function as(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function Qh(e){var t=[],n=0,r=e.length,o,l=!1,i=0,a="";for(o=e.charCodeAt(n);n<r;)o===124&&(l?(a+=e.substring(i,n-1),i=n):(t.push(a+e.substring(i,n)),a="",i=n+1)),l=o===92,n++,o=e.charCodeAt(n);return t.push(a+e.substring(i)),t}ed.exports=function(t,n,r,o){var l,i,a,u,c,s,p,_,d,x,O,T,S,b,E,I,k,A;if(n+2>r||(s=n+1,t.sCount[s]<t.blkIndent)||t.sCount[s]-t.blkIndent>=4||(a=t.bMarks[s]+t.tShift[s],a>=t.eMarks[s])||(k=t.src.charCodeAt(a++),k!==124&&k!==45&&k!==58)||a>=t.eMarks[s]||(A=t.src.charCodeAt(a++),A!==124&&A!==45&&A!==58&&!is(A))||k===45&&is(A))return!1;for(;a<t.eMarks[s];){if(l=t.src.charCodeAt(a),l!==124&&l!==45&&l!==58&&!is(l))return!1;a++}for(i=as(t,n+1),p=i.split("|"),x=[],u=0;u<p.length;u++){if(O=p[u].trim(),!O){if(u===0||u===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(O))return!1;O.charCodeAt(O.length-1)===58?x.push(O.charCodeAt(0)===58?"center":"right"):O.charCodeAt(0)===58?x.push("left"):x.push("")}if(i=as(t,n).trim(),i.indexOf("|")===-1||t.sCount[n]-t.blkIndent>=4||(p=Qh(i),p.length&&p[0]===""&&p.shift(),p.length&&p[p.length-1]===""&&p.pop(),_=p.length,_===0||_!==x.length))return!1;if(o)return!0;for(b=t.parentType,t.parentType="table",I=t.md.block.ruler.getRules("blockquote"),d=t.push("table_open","table",1),d.map=T=[n,0],d=t.push("thead_open","thead",1),d.map=[n,n+1],d=t.push("tr_open","tr",1),d.map=[n,n+1],u=0;u<p.length;u++)d=t.push("th_open","th",1),x[u]&&(d.attrs=[["style","text-align:"+x[u]]]),d=t.push("inline","",0),d.content=p[u].trim(),d.children=[],d=t.push("th_close","th",-1);for(d=t.push("tr_close","tr",-1),d=t.push("thead_close","thead",-1),s=n+2;s<r&&!(t.sCount[s]<t.blkIndent);s++){for(E=!1,u=0,c=I.length;u<c;u++)if(I[u](t,s,r,!0)){E=!0;break}if(E||(i=as(t,s).trim(),!i)||t.sCount[s]-t.blkIndent>=4)break;for(p=Qh(i),p.length&&p[0]===""&&p.shift(),p.length&&p[p.length-1]===""&&p.pop(),s===n+2&&(d=t.push("tbody_open","tbody",1),d.map=S=[n+2,0]),d=t.push("tr_open","tr",1),d.map=[s,s+1],u=0;u<_;u++)d=t.push("td_open","td",1),x[u]&&(d.attrs=[["style","text-align:"+x[u]]]),d=t.push("inline","",0),d.content=p[u]?p[u].trim():"",d.children=[],d=t.push("td_close","td",-1);d=t.push("tr_close","tr",-1)}return S&&(d=t.push("tbody_close","tbody",-1),S[1]=s),d=t.push("table_close","table",-1),T[1]=s,t.parentType=b,t.line=s,!0}});var rd=w((f6,nd)=>{nd.exports=function(t,n,r){var o,l,i;if(t.sCount[n]-t.blkIndent<4)return!1;for(l=o=n+1;o<r;){if(t.isEmpty(o)){o++;continue}if(t.sCount[o]-t.blkIndent>=4){o++,l=o;continue}break}return t.line=l,i=t.push("code_block","code",0),i.content=t.getLines(n,l,4+t.blkIndent,!1)+\`
\`,i.map=[n,t.line],!0}});var ld=w((p6,od)=>{od.exports=function(t,n,r,o){var l,i,a,u,c,s,p,_=!1,d=t.bMarks[n]+t.tShift[n],x=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||d+3>x||(l=t.src.charCodeAt(d),l!==126&&l!==96)||(c=d,d=t.skipChars(d,l),i=d-c,i<3)||(p=t.src.slice(c,d),a=t.src.slice(d,x),l===96&&a.indexOf(String.fromCharCode(l))>=0))return!1;if(o)return!0;for(u=n;u++,!(u>=r||(d=c=t.bMarks[u]+t.tShift[u],x=t.eMarks[u],d<x&&t.sCount[u]<t.blkIndent));)if(t.src.charCodeAt(d)===l&&!(t.sCount[u]-t.blkIndent>=4)&&(d=t.skipChars(d,l),!(d-c<i)&&(d=t.skipSpaces(d),!(d<x)))){_=!0;break}return i=t.sCount[n],t.line=u+(_?1:0),s=t.push("fence","code",0),s.info=a,s.content=t.getLines(n+1,u,i,!0),s.markup=p,s.map=[n,t.line],!0}});var ud=w((_6,ad)=>{var id=se().isSpace;ad.exports=function(t,n,r,o){var l,i,a,u,c,s,p,_,d,x,O,T,S,b,E,I,k,A,y,U,R=t.lineMax,D=t.bMarks[n]+t.tShift[n],P=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(D++)!==62)return!1;if(o)return!0;for(u=d=t.sCount[n]+1,t.src.charCodeAt(D)===32?(D++,u++,d++,l=!1,I=!0):t.src.charCodeAt(D)===9?(I=!0,(t.bsCount[n]+d)%4===3?(D++,u++,d++,l=!1):l=!0):I=!1,x=[t.bMarks[n]],t.bMarks[n]=D;D<P&&(i=t.src.charCodeAt(D),id(i));){i===9?d+=4-(d+t.bsCount[n]+(l?1:0))%4:d++;D++}for(O=[t.bsCount[n]],t.bsCount[n]=t.sCount[n]+1+(I?1:0),s=D>=P,b=[t.sCount[n]],t.sCount[n]=d-u,E=[t.tShift[n]],t.tShift[n]=D-t.bMarks[n],A=t.md.block.ruler.getRules("blockquote"),S=t.parentType,t.parentType="blockquote",_=n+1;_<r&&(U=t.sCount[_]<t.blkIndent,D=t.bMarks[_]+t.tShift[_],P=t.eMarks[_],!(D>=P));_++){if(t.src.charCodeAt(D++)===62&&!U){for(u=d=t.sCount[_]+1,t.src.charCodeAt(D)===32?(D++,u++,d++,l=!1,I=!0):t.src.charCodeAt(D)===9?(I=!0,(t.bsCount[_]+d)%4===3?(D++,u++,d++,l=!1):l=!0):I=!1,x.push(t.bMarks[_]),t.bMarks[_]=D;D<P&&(i=t.src.charCodeAt(D),id(i));){i===9?d+=4-(d+t.bsCount[_]+(l?1:0))%4:d++;D++}s=D>=P,O.push(t.bsCount[_]),t.bsCount[_]=t.sCount[_]+1+(I?1:0),b.push(t.sCount[_]),t.sCount[_]=d-u,E.push(t.tShift[_]),t.tShift[_]=D-t.bMarks[_];continue}if(s)break;for(k=!1,a=0,c=A.length;a<c;a++)if(A[a](t,_,r,!0)){k=!0;break}if(k){t.lineMax=_,t.blkIndent!==0&&(x.push(t.bMarks[_]),O.push(t.bsCount[_]),E.push(t.tShift[_]),b.push(t.sCount[_]),t.sCount[_]-=t.blkIndent);break}x.push(t.bMarks[_]),O.push(t.bsCount[_]),E.push(t.tShift[_]),b.push(t.sCount[_]),t.sCount[_]=-1}for(T=t.blkIndent,t.blkIndent=0,y=t.push("blockquote_open","blockquote",1),y.markup=">",y.map=p=[n,0],t.md.block.tokenize(t,n,_),y=t.push("blockquote_close","blockquote",-1),y.markup=">",t.lineMax=R,t.parentType=S,p[1]=t.line,a=0;a<E.length;a++)t.bMarks[a+n]=x[a],t.tShift[a+n]=E[a],t.sCount[a+n]=b[a],t.bsCount[a+n]=O[a];return t.blkIndent=T,!0}});var cd=w((h6,sd)=>{var AE=se().isSpace;sd.exports=function(t,n,r,o){var l,i,a,u,c=t.bMarks[n]+t.tShift[n],s=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(l=t.src.charCodeAt(c++),l!==42&&l!==45&&l!==95))return!1;for(i=1;c<s;){if(a=t.src.charCodeAt(c++),a!==l&&!AE(a))return!1;a===l&&i++}return i<3?!1:(o||(t.line=n+1,u=t.push("hr","hr",0),u.map=[n,t.line],u.markup=Array(i+1).join(String.fromCharCode(l))),!0)}});var dd=w((d6,hd)=>{var _d=se().isSpace;function fd(e,t){var n,r,o,l;return r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],n=e.src.charCodeAt(r++),n!==42&&n!==45&&n!==43||r<o&&(l=e.src.charCodeAt(r),!_d(l))?-1:r}function pd(e,t){var n,r=e.bMarks[t]+e.tShift[t],o=r,l=e.eMarks[t];if(o+1>=l||(n=e.src.charCodeAt(o++),n<48||n>57))return-1;for(;;){if(o>=l)return-1;if(n=e.src.charCodeAt(o++),n>=48&&n<=57){if(o-r>=10)return-1;continue}if(n===41||n===46)break;return-1}return o<l&&(n=e.src.charCodeAt(o),!_d(n))?-1:o}function xE(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}hd.exports=function(t,n,r,o){var l,i,a,u,c,s,p,_,d,x,O,T,S,b,E,I,k,A,y,U,R,D,P,de,rt,Vt,xn,pe,Wt=!1,br=!0;if(t.sCount[n]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[n]-t.listIndent>=4&&t.sCount[n]<t.blkIndent)return!1;if(o&&t.parentType==="paragraph"&&t.sCount[n]>=t.blkIndent&&(Wt=!0),(P=pd(t,n))>=0){if(p=!0,rt=t.bMarks[n]+t.tShift[n],S=Number(t.src.slice(rt,P-1)),Wt&&S!==1)return!1}else if((P=fd(t,n))>=0)p=!1;else return!1;if(Wt&&t.skipSpaces(P)>=t.eMarks[n])return!1;if(T=t.src.charCodeAt(P-1),o)return!0;for(O=t.tokens.length,p?(pe=t.push("ordered_list_open","ol",1),S!==1&&(pe.attrs=[["start",S]])):pe=t.push("bullet_list_open","ul",1),pe.map=x=[n,0],pe.markup=String.fromCharCode(T),E=n,de=!1,xn=t.md.block.ruler.getRules("list"),A=t.parentType,t.parentType="list";E<r;){for(D=P,b=t.eMarks[E],s=I=t.sCount[E]+P-(t.bMarks[n]+t.tShift[n]);D<b;){if(l=t.src.charCodeAt(D),l===9)I+=4-(I+t.bsCount[E])%4;else if(l===32)I++;else break;D++}if(i=D,i>=b?c=1:c=I-s,c>4&&(c=1),u=s+c,pe=t.push("list_item_open","li",1),pe.markup=String.fromCharCode(T),pe.map=_=[n,0],p&&(pe.info=t.src.slice(rt,P-1)),R=t.tight,U=t.tShift[n],y=t.sCount[n],k=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=u,t.tight=!0,t.tShift[n]=i-t.bMarks[n],t.sCount[n]=I,i>=b&&t.isEmpty(n+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,n,r,!0),(!t.tight||de)&&(br=!1),de=t.line-n>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=k,t.tShift[n]=U,t.sCount[n]=y,t.tight=R,pe=t.push("list_item_close","li",-1),pe.markup=String.fromCharCode(T),E=n=t.line,_[1]=E,i=t.bMarks[n],E>=r||t.sCount[E]<t.blkIndent||t.sCount[n]-t.blkIndent>=4)break;for(Vt=!1,a=0,d=xn.length;a<d;a++)if(xn[a](t,E,r,!0)){Vt=!0;break}if(Vt)break;if(p){if(P=pd(t,E),P<0)break;rt=t.bMarks[E]+t.tShift[E]}else if(P=fd(t,E),P<0)break;if(T!==t.src.charCodeAt(P-1))break}return p?pe=t.push("ordered_list_close","ol",-1):pe=t.push("bullet_list_close","ul",-1),pe.markup=String.fromCharCode(T),x[1]=E,t.line=E,t.parentType=A,br&&xE(t,O),!0}});var Ad=w((g6,gd)=>{var kE=se().normalizeReference,ji=se().isSpace;gd.exports=function(t,n,r,o){var l,i,a,u,c,s,p,_,d,x,O,T,S,b,E,I,k=0,A=t.bMarks[n]+t.tShift[n],y=t.eMarks[n],U=n+1;if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(A)!==91)return!1;for(;++A<y;)if(t.src.charCodeAt(A)===93&&t.src.charCodeAt(A-1)!==92){if(A+1===y||t.src.charCodeAt(A+1)!==58)return!1;break}for(u=t.lineMax,E=t.md.block.ruler.getRules("reference"),x=t.parentType,t.parentType="reference";U<u&&!t.isEmpty(U);U++)if(!(t.sCount[U]-t.blkIndent>3)&&!(t.sCount[U]<0)){for(b=!1,s=0,p=E.length;s<p;s++)if(E[s](t,U,u,!0)){b=!0;break}if(b)break}for(S=t.getLines(n,U,t.blkIndent,!1).trim(),y=S.length,A=1;A<y;A++){if(l=S.charCodeAt(A),l===91)return!1;if(l===93){d=A;break}else l===10?k++:l===92&&(A++,A<y&&S.charCodeAt(A)===10&&k++)}if(d<0||S.charCodeAt(d+1)!==58)return!1;for(A=d+2;A<y;A++)if(l=S.charCodeAt(A),l===10)k++;else if(!ji(l))break;if(O=t.md.helpers.parseLinkDestination(S,A,y),!O.ok||(c=t.md.normalizeLink(O.str),!t.md.validateLink(c)))return!1;for(A=O.pos,k+=O.lines,i=A,a=k,T=A;A<y;A++)if(l=S.charCodeAt(A),l===10)k++;else if(!ji(l))break;for(O=t.md.helpers.parseLinkTitle(S,A,y),A<y&&T!==A&&O.ok?(I=O.str,A=O.pos,k+=O.lines):(I="",A=i,k=a);A<y&&(l=S.charCodeAt(A),!!ji(l));)A++;if(A<y&&S.charCodeAt(A)!==10&&I)for(I="",A=i,k=a;A<y&&(l=S.charCodeAt(A),!!ji(l));)A++;return A<y&&S.charCodeAt(A)!==10||(_=kE(S.slice(1,d)),!_)?!1:(o||(typeof t.env.references=="undefined"&&(t.env.references={}),typeof t.env.references[_]=="undefined"&&(t.env.references[_]={title:I,href:c}),t.parentType=x,t.line=n+k+1),!0)}});var kd=w((A6,xd)=>{xd.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]});var md=w((x6,bd)=>{var bE=kd(),mE=ns().HTML_OPEN_CLOSE_TAG_RE,ho=[[/^<(script|pre|style|textarea)(?=(\\s|>|$))/i,/<\\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\\?/,/\\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\\[CDATA\\[/,/\\]\\]>/,!0],[new RegExp("^</?("+bE.join("|")+")(?=(\\\\s|/?>|$))","i"),/^$/,!0],[new RegExp(mE.source+"\\\\s*$"),/^$/,!1]];bd.exports=function(t,n,r,o){var l,i,a,u,c=t.bMarks[n]+t.tShift[n],s=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(c)!==60)return!1;for(u=t.src.slice(c,s),l=0;l<ho.length&&!ho[l][0].test(u);l++);if(l===ho.length)return!1;if(o)return ho[l][2];if(i=n+1,!ho[l][1].test(u)){for(;i<r&&!(t.sCount[i]<t.blkIndent);i++)if(c=t.bMarks[i]+t.tShift[i],s=t.eMarks[i],u=t.src.slice(c,s),ho[l][1].test(u)){u.length!==0&&i++;break}}return t.line=i,a=t.push("html_block","",0),a.map=[n,i],a.content=t.getLines(n,i,t.blkIndent,!0),!0}});var Ed=w((k6,Td)=>{var vd=se().isSpace;Td.exports=function(t,n,r,o){var l,i,a,u,c=t.bMarks[n]+t.tShift[n],s=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(l=t.src.charCodeAt(c),l!==35||c>=s))return!1;for(i=1,l=t.src.charCodeAt(++c);l===35&&c<s&&i<=6;)i++,l=t.src.charCodeAt(++c);return i>6||c<s&&!vd(l)?!1:(o||(s=t.skipSpacesBack(s,c),a=t.skipCharsBack(s,35,c),a>c&&vd(t.src.charCodeAt(a-1))&&(s=a),t.line=n+1,u=t.push("heading_open","h"+String(i),1),u.markup="########".slice(0,i),u.map=[n,t.line],u=t.push("inline","",0),u.content=t.src.slice(c,s).trim(),u.map=[n,t.line],u.children=[],u=t.push("heading_close","h"+String(i),-1),u.markup="########".slice(0,i)),!0)}});var Sd=w((b6,Od)=>{Od.exports=function(t,n,r){var o,l,i,a,u,c,s,p,_,d=n+1,x,O=t.md.block.ruler.getRules("paragraph");if(t.sCount[n]-t.blkIndent>=4)return!1;for(x=t.parentType,t.parentType="paragraph";d<r&&!t.isEmpty(d);d++)if(!(t.sCount[d]-t.blkIndent>3)){if(t.sCount[d]>=t.blkIndent&&(c=t.bMarks[d]+t.tShift[d],s=t.eMarks[d],c<s&&(_=t.src.charCodeAt(c),(_===45||_===61)&&(c=t.skipChars(c,_),c=t.skipSpaces(c),c>=s)))){p=_===61?1:2;break}if(!(t.sCount[d]<0)){for(l=!1,i=0,a=O.length;i<a;i++)if(O[i](t,d,r,!0)){l=!0;break}if(l)break}}return p?(o=t.getLines(n,d,t.blkIndent,!1).trim(),t.line=d+1,u=t.push("heading_open","h"+String(p),1),u.markup=String.fromCharCode(_),u.map=[n,t.line],u=t.push("inline","",0),u.content=o,u.map=[n,t.line-1],u.children=[],u=t.push("heading_close","h"+String(p),-1),u.markup=String.fromCharCode(_),t.parentType=x,!0):!1}});var yd=w((m6,wd)=>{wd.exports=function(t,n){var r,o,l,i,a,u,c=n+1,s=t.md.block.ruler.getRules("paragraph"),p=t.lineMax;for(u=t.parentType,t.parentType="paragraph";c<p&&!t.isEmpty(c);c++)if(!(t.sCount[c]-t.blkIndent>3)&&!(t.sCount[c]<0)){for(o=!1,l=0,i=s.length;l<i;l++)if(s[l](t,c,p,!0)){o=!0;break}if(o)break}return r=t.getLines(n,c,t.blkIndent,!1).trim(),t.line=c,a=t.push("paragraph_open","p",1),a.map=[n,t.line],a=t.push("inline","",0),a.content=r,a.map=[n,t.line],a.children=[],a=t.push("paragraph_close","p",-1),t.parentType=u,!0}});var Cd=w((v6,Ud)=>{var Rd=dl(),Xi=se().isSpace;function Qt(e,t,n,r){var o,l,i,a,u,c,s,p;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",l=this.src,p=!1,i=a=c=s=0,u=l.length;a<u;a++){if(o=l.charCodeAt(a),!p)if(Xi(o)){c++,o===9?s+=4-s%4:s++;continue}else p=!0;(o===10||a===u-1)&&(o!==10&&a++,this.bMarks.push(i),this.eMarks.push(a),this.tShift.push(c),this.sCount.push(s),this.bsCount.push(0),p=!1,c=0,s=0,i=a+1)}this.bMarks.push(l.length),this.eMarks.push(l.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Qt.prototype.push=function(e,t,n){var r=new Rd(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Qt.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Qt.prototype.skipEmptyLines=function(t){for(var n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Qt.prototype.skipSpaces=function(t){for(var n,r=this.src.length;t<r&&(n=this.src.charCodeAt(t),!!Xi(n));t++);return t};Qt.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!Xi(this.src.charCodeAt(--t)))return t+1;return t};Qt.prototype.skipChars=function(t,n){for(var r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};Qt.prototype.skipCharsBack=function(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};Qt.prototype.getLines=function(t,n,r,o){var l,i,a,u,c,s,p,_=t;if(t>=n)return"";for(s=new Array(n-t),l=0;_<n;_++,l++){for(i=0,p=u=this.bMarks[_],_+1<n||o?c=this.eMarks[_]+1:c=this.eMarks[_];u<c&&i<r;){if(a=this.src.charCodeAt(u),Xi(a))a===9?i+=4-(i+this.bsCount[_])%4:i++;else if(u-p<this.tShift[_])i++;else break;u++}i>r?s[l]=new Array(i-r+1).join(" ")+this.src.slice(u,c):s[l]=this.src.slice(u,c)}return s.join("")};Qt.prototype.Token=Rd;Ud.exports=Qt});var Dd=w((T6,Nd)=>{var vE=Hi(),zi=[["table",td(),["paragraph","reference"]],["code",rd()],["fence",ld(),["paragraph","reference","blockquote","list"]],["blockquote",ud(),["paragraph","reference","blockquote","list"]],["hr",cd(),["paragraph","reference","blockquote","list"]],["list",dd(),["paragraph","reference","blockquote"]],["reference",Ad()],["html_block",md(),["paragraph","reference","blockquote"]],["heading",Ed(),["paragraph","reference","blockquote"]],["lheading",Sd()],["paragraph",yd()]];function Li(){this.ruler=new vE;for(var e=0;e<zi.length;e++)this.ruler.push(zi[e][0],zi[e][1],{alt:(zi[e][2]||[]).slice()})}Li.prototype.tokenize=function(e,t,n){for(var r,o,l=this.ruler.getRules(""),i=l.length,a=t,u=!1,c=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n||e.sCount[a]<e.blkIndent));){if(e.level>=c){e.line=n;break}for(o=0;o<i&&(r=l[o](e,a,n,!1),!r);o++);e.tight=!u,e.isEmpty(e.line-1)&&(u=!0),a=e.line,a<n&&e.isEmpty(a)&&(u=!0,a++,e.line=a)}};Li.prototype.parse=function(e,t,n,r){var o;!e||(o=new this.State(e,t,n,r),this.tokenize(o,o.line,o.lineMax))};Li.prototype.State=Cd();Nd.exports=Li});var Md=w((E6,Id)=>{var TE=/\\r\\n?|\\n/g,EE=/\\0/g;Id.exports=function(t){var n;n=t.src.replace(TE,\`
\`),n=n.replace(EE,"\\uFFFD"),t.src=n}});var Pd=w((O6,Fd)=>{Fd.exports=function(t){var n;t.inlineMode?(n=new t.Token("inline","",0),n.content=t.src,n.map=[0,1],n.children=[],t.tokens.push(n)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}});var qd=w((S6,Bd)=>{Bd.exports=function(t){var n=t.tokens,r,o,l;for(o=0,l=n.length;o<l;o++)r=n[o],r.type==="inline"&&t.md.inline.parse(r.content,t.md,t.env,r.children)}});var Gd=w((w6,Vd)=>{var OE=se().arrayReplaceAt;function SE(e){return/^<a[>\\s]/i.test(e)}function wE(e){return/^<\\/a\\s*>/i.test(e)}Vd.exports=function(t){var n,r,o,l,i,a,u,c,s,p,_,d,x,O,T,S,b=t.tokens,E;if(!!t.md.options.linkify){for(r=0,o=b.length;r<o;r++)if(!(b[r].type!=="inline"||!t.md.linkify.pretest(b[r].content)))for(l=b[r].children,x=0,n=l.length-1;n>=0;n--){if(a=l[n],a.type==="link_close"){for(n--;l[n].level!==a.level&&l[n].type!=="link_open";)n--;continue}if(a.type==="html_inline"&&(SE(a.content)&&x>0&&x--,wE(a.content)&&x++),!(x>0)&&a.type==="text"&&t.md.linkify.test(a.content)){for(s=a.content,E=t.md.linkify.match(s),u=[],d=a.level,_=0,E.length>0&&E[0].index===0&&n>0&&l[n-1].type==="text_special"&&(E=E.slice(1)),c=0;c<E.length;c++)O=E[c].url,T=t.md.normalizeLink(O),t.md.validateLink(T)&&(S=E[c].text,E[c].schema?E[c].schema==="mailto:"&&!/^mailto:/i.test(S)?S=t.md.normalizeLinkText("mailto:"+S).replace(/^mailto:/,""):S=t.md.normalizeLinkText(S):S=t.md.normalizeLinkText("http://"+S).replace(/^http:\\/\\//,""),p=E[c].index,p>_&&(i=new t.Token("text","",0),i.content=s.slice(_,p),i.level=d,u.push(i)),i=new t.Token("link_open","a",1),i.attrs=[["href",T]],i.level=d++,i.markup="linkify",i.info="auto",u.push(i),i=new t.Token("text","",0),i.content=S,i.level=d,u.push(i),i=new t.Token("link_close","a",-1),i.level=--d,i.markup="linkify",i.info="auto",u.push(i),_=E[c].lastIndex);_<s.length&&(i=new t.Token("text","",0),i.content=s.slice(_),i.level=d,u.push(i)),b[r].children=l=OE(l,n,u)}}}}});var jd=w((y6,Hd)=>{var Kd=/\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/,yE=/\\((c|tm|r)\\)/i,RE=/\\((c|tm|r)\\)/ig,UE={c:"\\xA9",r:"\\xAE",tm:"\\u2122"};function CE(e,t){return UE[t.toLowerCase()]}function NE(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&(n.content=n.content.replace(RE,CE)),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}function DE(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&Kd.test(n.content)&&(n.content=n.content.replace(/\\+-/g,"\\xB1").replace(/\\.{2,}/g,"\\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\\u2014").replace(/(^|\\s)--(?=\\s|$)/mg,"$1\\u2013").replace(/(^|[^-\\s])--(?=[^-\\s]|$)/mg,"$1\\u2013")),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}Hd.exports=function(t){var n;if(!!t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type==="inline"&&(yE.test(t.tokens[n].content)&&NE(t.tokens[n].children),Kd.test(t.tokens[n].content)&&DE(t.tokens[n].children))}});var Yd=w((R6,$d)=>{var Xd=se().isWhiteSpace,zd=se().isPunctChar,Ld=se().isMdAsciiPunct,IE=/['"]/,Jd=/['"]/g,Zd="\\u2019";function Ji(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function ME(e,t){var n,r,o,l,i,a,u,c,s,p,_,d,x,O,T,S,b,E,I,k,A;for(I=[],n=0;n<e.length;n++){for(r=e[n],u=e[n].level,b=I.length-1;b>=0&&!(I[b].level<=u);b--);if(I.length=b+1,r.type!=="text")continue;o=r.content,i=0,a=o.length;e:for(;i<a&&(Jd.lastIndex=i,l=Jd.exec(o),!!l);){if(T=S=!0,i=l.index+1,E=l[0]==="'",s=32,l.index-1>=0)s=o.charCodeAt(l.index-1);else for(b=n-1;b>=0&&!(e[b].type==="softbreak"||e[b].type==="hardbreak");b--)if(!!e[b].content){s=e[b].content.charCodeAt(e[b].content.length-1);break}if(p=32,i<a)p=o.charCodeAt(i);else for(b=n+1;b<e.length&&!(e[b].type==="softbreak"||e[b].type==="hardbreak");b++)if(!!e[b].content){p=e[b].content.charCodeAt(0);break}if(_=Ld(s)||zd(String.fromCharCode(s)),d=Ld(p)||zd(String.fromCharCode(p)),x=Xd(s),O=Xd(p),O?T=!1:d&&(x||_||(T=!1)),x?S=!1:_&&(O||d||(S=!1)),p===34&&l[0]==='"'&&s>=48&&s<=57&&(S=T=!1),T&&S&&(T=_,S=d),!T&&!S){E&&(r.content=Ji(r.content,l.index,Zd));continue}if(S){for(b=I.length-1;b>=0&&(c=I[b],!(I[b].level<u));b--)if(c.single===E&&I[b].level===u){c=I[b],E?(k=t.md.options.quotes[2],A=t.md.options.quotes[3]):(k=t.md.options.quotes[0],A=t.md.options.quotes[1]),r.content=Ji(r.content,l.index,A),e[c.token].content=Ji(e[c.token].content,c.pos,k),i+=A.length-1,c.token===n&&(i+=k.length-1),o=r.content,a=o.length,I.length=b;continue e}}T?I.push({token:n,pos:l.index,single:E,level:u}):S&&E&&(r.content=Ji(r.content,l.index,Zd))}}}$d.exports=function(t){var n;if(!!t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type!=="inline"||!IE.test(t.tokens[n].content)||ME(t.tokens[n].children,t)}});var Qd=w((U6,Wd)=>{Wd.exports=function(t){var n,r,o,l,i,a,u=t.tokens;for(n=0,r=u.length;n<r;n++)if(u[n].type==="inline"){for(o=u[n].children,i=o.length,l=0;l<i;l++)o[l].type==="text_special"&&(o[l].type="text");for(l=a=0;l<i;l++)o[l].type==="text"&&l+1<i&&o[l+1].type==="text"?o[l+1].content=o[l].content+o[l+1].content:(l!==a&&(o[a]=o[l]),a++);l!==a&&(o.length=a)}}});var n0=w((C6,t0)=>{var FE=dl();function e0(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}e0.prototype.Token=FE;t0.exports=e0});var o0=w((N6,r0)=>{var PE=Hi(),us=[["normalize",Md()],["block",Pd()],["inline",qd()],["linkify",Gd()],["replacements",jd()],["smartquotes",Yd()],["text_join",Qd()]];function ss(){this.ruler=new PE;for(var e=0;e<us.length;e++)this.ruler.push(us[e][0],us[e][1])}ss.prototype.process=function(e){var t,n,r;for(r=this.ruler.getRules(""),t=0,n=r.length;t<n;t++)r[t](e)};ss.prototype.State=n0();r0.exports=ss});function l0(e){return e.replace(/\\'/g,"\\\\'").replace(/\\n/g,\`\\\\
\`)}function cs(e,t,n){var i,a,u;function r(c){t.push(\`\${"  ".repeat(n.level)}\${c}\`)}e.content=(i=e.content)==null?void 0:i.replace(/\\f/g,\`
\`);let o=(a=e.attrGet("changer"))==null?void 0:a.replace(/\\f/g,\`
\`),l=l0((u=e.attrGet("href"))!=null?u:"");switch(e.type){case"inline":for(let s of e.children)cs(s,t,n);break;case"text":let c=e.content;c.length>0&&((0,c0.isWhiteSpace)(c.charCodeAt(c.length-1))||(c=c+" "),r(\`Text('\${l0(c)}')\`));break;case"link_open":o==null?r(\`Link('\${l}')(function()\`):r(\`Combine(AsChanger(\${o}), Link('\${l}'))(function()\`),n.level++,n.links.push(l);break;case"link_inline":o==null?r(\`Display('\${l}')\`):r(\`AsChanger(\${o})(function() Display('\${l}') end)\`);break;case"content_open":o==null?r("Show(function()"):r(\`AsChanger(\${o})(function()\`),n.level++;break;case"code_variable":case"code_expression":r(\`Show(\${e.content})\`);break;case"code_block":r(e.content);break;default:switch(e.nesting){case 1:r(\`Style.\${e.tag}(function()\`),n.level++;break;case-1:n.level--,r("end)");break;case 0:e.type=="softbreak"||e.tag!=""&&r(\`Object('\${e.tag}')\`);break}}}function f0(e){return Zi.parse(_0(e),{})}function p0(e,t,n){let r=n.level;for(let o of Zi.parse(_0(e),{}))cs(o,t,n);for(;n.level>r;)cs(new i0.default("content_close","",-1),t,n)}function _0(e){let t=0,n="";for(;t<e.length;){let r=e.indexOf("{$",t),o=e.indexOf("<$",t),l,i;if(r>=0)i=r,l="$}";else if(o>=0)i=o,l="$>";else{n+=e.substring(t);break}n+=e.substring(t,i);let a=e.indexOf(l,t+2);a<0?a=e.length:a=a+2,n+=e.substring(i,a).replace(/\\n/g,"\\f"),t=a}return n}var i0,a0,u0,s0,c0,Zi,go,h0=Ce(()=>{P_();q_();G_();X_();L_();i0=fo(dl()),a0=fo(Wh()),u0=fo(Dd()),s0=fo(o0()),c0=fo(se()),Zi={inline:new a0.default,block:new u0.default,core:new s0.default,options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!0,quotes:"\\u201C\\u201D\\u2018\\u2019",highlight:null,maxNesting:100},parse:function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens}},go=Zi.inline.ruler;go.disable(["link","image","autolink"]);go.push("passage_link",V_);go.push("content_block",F_);go.push("expression",B_);go.push("script_block",z_);go.push("variable",j_);Zi.block.ruler.disable(["reference"])});var dt=w((q6,ue)=>{var $i={},{LUA_VERSION_MAJOR:BE,LUA_VERSION_MINOR:qE,to_luastring:d0}=Ne(),VE=";";ue.exports.LUA_PATH_SEP=VE;var GE="?";ue.exports.LUA_PATH_MARK=GE;var KE="!";ue.exports.LUA_EXEC_DIR=KE;var g0=BE+"."+qE;ue.exports.LUA_VDIR=g0;{let e="/";ue.exports.LUA_DIRSEP=e;let t="./lua/"+g0+"/";ue.exports.LUA_LDIR=t;let n=t;ue.exports.LUA_JSDIR=n;let r=d0(t+"?.lua;"+t+"?/init.lua;./?.lua;./?/init.lua");ue.exports.LUA_PATH_DEFAULT=r;let o=d0(n+"?.js;"+n+"loadall.js;./?.js");ue.exports.LUA_JSPATH_DEFAULT=o}var HE=$i.LUA_COMPAT_FLOATSTRING||!1,jE=2147483647,fs=-2147483648,XE=$i.LUAI_MAXSTACK||1e6,zE=$i.LUA_IDSIZE||60-1,LE=function(e){return String(e)},JE=function(e){return String(Number(e.toPrecision(14)))},ZE=function(e){return e>=fs&&e<-fs?e:!1},A0="",$E="",YE=\`%\${A0}d\`,WE="%.14g",QE=function(){return 46},eO=function(e,t){if(!t)throw Error(t)},tO=$i.LUAL_BUFFERSIZE||8192,nO=function(e){if(e===0)return[e,0];var t=new DataView(new ArrayBuffer(8));t.setFloat64(0,e);var n=t.getUint32(0)>>>20&2047;n===0&&(t.setFloat64(0,e*Math.pow(2,64)),n=(t.getUint32(0)>>>20&2047)-64);var r=n-1022,o=x0(e,-r);return[o,r]},x0=function(e,t){for(var n=Math.min(3,Math.ceil(Math.abs(t)/1023)),r=e,o=0;o<n;o++)r*=Math.pow(2,Math.floor((t+o)/n));return r};ue.exports.LUAI_MAXSTACK=XE;ue.exports.LUA_COMPAT_FLOATSTRING=HE;ue.exports.LUA_IDSIZE=zE;ue.exports.LUA_INTEGER_FMT=YE;ue.exports.LUA_INTEGER_FRMLEN=A0;ue.exports.LUA_MAXINTEGER=jE;ue.exports.LUA_MININTEGER=fs;ue.exports.LUA_NUMBER_FMT=WE;ue.exports.LUA_NUMBER_FRMLEN=$E;ue.exports.LUAL_BUFFERSIZE=tO;ue.exports.frexp=nO;ue.exports.ldexp=x0;ue.exports.lua_getlocaledecpoint=QE;ue.exports.lua_integer2str=LE;ue.exports.lua_number2str=JE;ue.exports.lua_numbertointeger=ZE;ue.exports.luai_apicheck=eO});var Ne=w((V6,V)=>{var xl;typeof Uint8Array.from=="function"?xl=Uint8Array.from.bind(Uint8Array):xl=function(e){let t=0,n=e.length,r=new Uint8Array(n);for(;n>t;)r[t]=e[t++];return r};var ps;if(typeof new Uint8Array().indexOf=="function")ps=function(e,t,n){return e.indexOf(t,n)};else{let e=[].indexOf;if(e.call(new Uint8Array(1),0)!==0)throw Error("missing .indexOf");ps=function(t,n,r){return e.call(t,n,r)}}var _s;typeof Uint8Array.of=="function"?_s=Uint8Array.of.bind(Uint8Array):_s=function(){return xl(arguments)};var kl=function(e){return e instanceof Uint8Array},rO=function(e,t){if(e!==t){let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1}return!0},en="cannot convert invalid utf8 to javascript string",oO=function(e,t,n,r){if(!kl(e))throw new TypeError("to_jsstring expects a Uint8Array");n===void 0?n=e.length:n=Math.min(e.length,n);let o="";for(let l=t!==void 0?t:0;l<n;){let i=e[l++];if(i<128)o+=String.fromCharCode(i);else if(i<194||i>244){if(!r)throw RangeError(en);o+="\\uFFFD"}else if(i<=223){if(l>=n){if(!r)throw RangeError(en);o+="\\uFFFD";continue}let a=e[l++];if((a&192)!==128){if(!r)throw RangeError(en);o+="\\uFFFD";continue}o+=String.fromCharCode(((i&31)<<6)+(a&63))}else if(i<=239){if(l+1>=n){if(!r)throw RangeError(en);o+="\\uFFFD";continue}let a=e[l++];if((a&192)!==128){if(!r)throw RangeError(en);o+="\\uFFFD";continue}let u=e[l++];if((u&192)!==128){if(!r)throw RangeError(en);o+="\\uFFFD";continue}let c=((i&15)<<12)+((a&63)<<6)+(u&63);if(c<=65535)o+=String.fromCharCode(c);else{c-=65536;let s=(c>>10)+55296,p=c%1024+56320;o+=String.fromCharCode(s,p)}}else{if(l+2>=n){if(!r)throw RangeError(en);o+="\\uFFFD";continue}let a=e[l++];if((a&192)!==128){if(!r)throw RangeError(en);o+="\\uFFFD";continue}let u=e[l++];if((u&192)!==128){if(!r)throw RangeError(en);o+="\\uFFFD";continue}let c=e[l++];if((c&192)!==128){if(!r)throw RangeError(en);o+="\\uFFFD";continue}let s=((i&7)<<18)+((a&63)<<12)+((u&63)<<6)+(c&63);s-=65536;let p=(s>>10)+55296,_=s%1024+56320;o+=String.fromCharCode(p,_)}}return o},lO=";,/?:@&=+$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789,-_.!~*'()#".split("").reduce(function(e,t){return e[t.charCodeAt(0)]=!0,e},{}),iO=function(e){if(!kl(e))throw new TypeError("to_uristring expects a Uint8Array");let t="";for(let n=0;n<e.length;n++){let r=e[n];lO[r]?t+=String.fromCharCode(r):t+="%"+(r<16?"0":"")+r.toString(16)}return t},k0={},ds=function(e,t){if(typeof e!="string")throw new TypeError("to_luastring expects a javascript string");if(t){let l=k0[e];if(kl(l))return l}let n=e.length,r=Array(n),o=0;for(let l=0;l<n;++l){let i=e.charCodeAt(l);if(i<=127)r[o++]=i;else if(i<=2047)r[o++]=192|i>>6,r[o++]=128|i&63;else{if(i>=55296&&i<=56319&&l+1<n){let a=e.charCodeAt(l+1);a>=56320&&a<=57343&&(l++,i=(i-55296)*1024+a+9216)}i<=65535?(r[o++]=224|i>>12,r[o++]=128|i>>6&63,r[o++]=128|i&63):(r[o++]=240|i>>18,r[o++]=128|i>>12&63,r[o++]=128|i>>6&63,r[o++]=128|i&63)}}return r=xl(r),t&&(k0[e]=r),r},aO=function(e){if(!kl(e))if(typeof e=="string")e=ds(e);else throw new TypeError("expects an array of bytes or javascript string");return e};V.exports.luastring_from=xl;V.exports.luastring_indexOf=ps;V.exports.luastring_of=_s;V.exports.is_luastring=kl;V.exports.luastring_eq=rO;V.exports.to_jsstring=oO;V.exports.to_uristring=iO;V.exports.to_luastring=ds;V.exports.from_userstring=aO;var uO=ds("\\x1BLua"),b0="5",m0="3",sO=503,v0="4",T0="Lua "+b0+"."+m0,E0=T0+"."+v0,cO=E0+"  Copyright (C) 1994-2017 Lua.org, PUC-Rio",fO="R. Ierusalimschy, L. H. de Figueiredo, W. Celes";V.exports.LUA_SIGNATURE=uO;V.exports.LUA_VERSION_MAJOR=b0;V.exports.LUA_VERSION_MINOR=m0;V.exports.LUA_VERSION_NUM=sO;V.exports.LUA_VERSION_RELEASE=v0;V.exports.LUA_VERSION=T0;V.exports.LUA_RELEASE=E0;V.exports.LUA_COPYRIGHT=cO;V.exports.LUA_AUTHORS=fO;var pO={LUA_OK:0,LUA_YIELD:1,LUA_ERRRUN:2,LUA_ERRSYNTAX:3,LUA_ERRMEM:4,LUA_ERRGCMM:5,LUA_ERRERR:6},ut={LUA_TNONE:-1,LUA_TNIL:0,LUA_TBOOLEAN:1,LUA_TLIGHTUSERDATA:2,LUA_TNUMBER:3,LUA_TSTRING:4,LUA_TTABLE:5,LUA_TFUNCTION:6,LUA_TUSERDATA:7,LUA_TTHREAD:8,LUA_NUMTAGS:9};ut.LUA_TSHRSTR=ut.LUA_TSTRING|0<<4;ut.LUA_TLNGSTR=ut.LUA_TSTRING|1<<4;ut.LUA_TNUMFLT=ut.LUA_TNUMBER|0<<4;ut.LUA_TNUMINT=ut.LUA_TNUMBER|1<<4;ut.LUA_TLCL=ut.LUA_TFUNCTION|0<<4;ut.LUA_TLCF=ut.LUA_TFUNCTION|1<<4;ut.LUA_TCCL=ut.LUA_TFUNCTION|2<<4;var _O=0,hO=1,dO=2,gO=3,AO=4,xO=5,kO=6,bO=7,mO=8,vO=9,TO=10,EO=11,OO=12,SO=13,wO=0,yO=1,RO=2,UO=20,{LUAI_MAXSTACK:CO}=dt(),O0=-CO-1e3,NO=function(e){return O0-e},DO=1,S0=2,IO=S0,hs=class{constructor(){this.event=NaN,this.name=null,this.namewhat=null,this.what=null,this.source=null,this.currentline=NaN,this.linedefined=NaN,this.lastlinedefined=NaN,this.nups=NaN,this.nparams=NaN,this.isvararg=NaN,this.istailcall=NaN,this.short_src=null,this.i_ci=null}},w0=0,y0=1,R0=2,U0=3,MO=4,FO=1<<w0,PO=1<<y0,BO=1<<R0,qO=1<<U0;V.exports.LUA_HOOKCALL=w0;V.exports.LUA_HOOKCOUNT=U0;V.exports.LUA_HOOKLINE=R0;V.exports.LUA_HOOKRET=y0;V.exports.LUA_HOOKTAILCALL=MO;V.exports.LUA_MASKCALL=FO;V.exports.LUA_MASKCOUNT=qO;V.exports.LUA_MASKLINE=BO;V.exports.LUA_MASKRET=PO;V.exports.LUA_MINSTACK=UO;V.exports.LUA_MULTRET=-1;V.exports.LUA_OPADD=_O;V.exports.LUA_OPBAND=bO;V.exports.LUA_OPBNOT=SO;V.exports.LUA_OPBOR=mO;V.exports.LUA_OPBXOR=vO;V.exports.LUA_OPDIV=xO;V.exports.LUA_OPEQ=wO;V.exports.LUA_OPIDIV=kO;V.exports.LUA_OPLE=RO;V.exports.LUA_OPLT=yO;V.exports.LUA_OPMOD=gO;V.exports.LUA_OPMUL=dO;V.exports.LUA_OPPOW=AO;V.exports.LUA_OPSHL=TO;V.exports.LUA_OPSHR=EO;V.exports.LUA_OPSUB=hO;V.exports.LUA_OPUNM=OO;V.exports.LUA_REGISTRYINDEX=O0;V.exports.LUA_RIDX_GLOBALS=S0;V.exports.LUA_RIDX_LAST=IO;V.exports.LUA_RIDX_MAINTHREAD=DO;V.exports.constant_types=ut;V.exports.lua_Debug=hs;V.exports.lua_upvalueindex=NO;V.exports.thread_status=pO});var vt=w((G6,ze)=>{var tn=Ne(),C0="0",N0="1",VO=1,D0="4",I0="Fengari "+C0+"."+N0,M0=I0+"."+D0,F0="B. Giannangeli, Daurnimator",GO=M0+"  Copyright (C) 2017-2018 "+F0+\`
Based on: \`+tn.LUA_COPYRIGHT;ze.exports.FENGARI_AUTHORS=F0;ze.exports.FENGARI_COPYRIGHT=GO;ze.exports.FENGARI_RELEASE=M0;ze.exports.FENGARI_VERSION=I0;ze.exports.FENGARI_VERSION_MAJOR=C0;ze.exports.FENGARI_VERSION_MINOR=N0;ze.exports.FENGARI_VERSION_NUM=VO;ze.exports.FENGARI_VERSION_RELEASE=D0;ze.exports.is_luastring=tn.is_luastring;ze.exports.luastring_eq=tn.luastring_eq;ze.exports.luastring_from=tn.luastring_from;ze.exports.luastring_indexOf=tn.luastring_indexOf;ze.exports.luastring_of=tn.luastring_of;ze.exports.to_jsstring=tn.to_jsstring;ze.exports.to_luastring=tn.to_luastring;ze.exports.to_uristring=tn.to_uristring;ze.exports.from_userstring=tn.from_userstring});var gt=w((K6,kn)=>{var{luai_apicheck:P0}=dt(),B0=function(e){if(!e)throw Error("assertion failed")};kn.exports.lua_assert=B0;kn.exports.luai_apicheck=P0||function(e,t){return B0(t)};var KO=function(e,t,n){return P0(e,t&&n)};kn.exports.api_check=KO;var HO=200;kn.exports.LUAI_MAXCCALLS=HO;var jO=32;kn.exports.LUA_MINBUFFER=jO;var XO=function(e,t,n){let r=t%n;return r*n<0&&(r+=n),r};kn.exports.luai_nummod=XO;var zO=2147483647;kn.exports.MAX_INT=zO;var LO=-2147483648;kn.exports.MIN_INT=LO});var gs=w((H6,Er)=>{var{luastring_of:JO}=Ne(),Ao=JO(0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,22,22,22,22,22,22,22,22,22,22,4,4,4,4,4,4,4,21,21,21,21,21,21,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,5,4,21,21,21,21,21,21,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),q0=0,V0=1,ZO=2,$O=3,YO=4,WO=function(e){return(Ao[e+1]&1<<V0)!==0},QO=function(e){return(Ao[e+1]&1<<YO)!==0},eS=function(e){return(Ao[e+1]&1<<ZO)!==0},tS=function(e){return(Ao[e+1]&1<<$O)!==0},nS=function(e){return(Ao[e+1]&1<<q0)!==0},rS=function(e){return(Ao[e+1]&(1<<q0|1<<V0))!==0};Er.exports.lisdigit=WO;Er.exports.lislalnum=rS;Er.exports.lislalpha=nS;Er.exports.lisprint=eS;Er.exports.lisspace=tS;Er.exports.lisxdigit=QO});var nn=w((j6,zn)=>{var{is_luastring:oS,luastring_eq:lS,luastring_from:iS,to_luastring:aS}=Ne(),{lua_assert:bl}=gt(),Or=class{constructor(t,n){this.hash=null,this.realstring=n}getstr(){return this.realstring}tsslen(){return this.realstring.length}},uS=function(e,t){return bl(e instanceof Or),bl(t instanceof Or),e==t||lS(e.realstring,t.realstring)},G0=function(e){bl(oS(e));let t=e.length,n="|";for(let r=0;r<t;r++)n+=e[r].toString(16);return n},sS=function(e){return bl(e instanceof Or),e.hash===null&&(e.hash=G0(e.getstr())),e.hash},As=function(e,t){return bl(t instanceof Uint8Array),new Or(e,t)},cS=function(e,t){return As(e,iS(t))},fS=function(e,t){return As(e,aS(t))};zn.exports.luaS_eqlngstr=uS;zn.exports.luaS_hash=G0;zn.exports.luaS_hashlongstr=sS;zn.exports.luaS_bless=As;zn.exports.luaS_new=cS;zn.exports.luaS_newliteral=fS;zn.exports.TString=Or});var rn=w((X6,Ht)=>{var{constant_types:{LUA_TBOOLEAN:pS,LUA_TCCL:_S,LUA_TLCF:hS,LUA_TLCL:dS,LUA_TLIGHTUSERDATA:gS,LUA_TLNGSTR:AS,LUA_TNIL:j0,LUA_TNUMFLT:xS,LUA_TNUMINT:bs,LUA_TSHRSTR:kS,LUA_TTABLE:bS,LUA_TTHREAD:mS,LUA_TUSERDATA:vS},to_luastring:xs}=Ne(),{lua_assert:vl}=gt(),ks=mn(),st=Tt(),{luaS_hashlongstr:X0,TString:TS}=nn(),ES=bn(),K0=new WeakMap,H0=function(e){let t=K0.get(e);return t||(t={},K0.set(e,t)),t},ms=function(e,t){switch(t.type){case j0:return ks.luaG_runerror(e,xs("table index is nil",!0));case xS:if(isNaN(t.value))return ks.luaG_runerror(e,xs("table index is NaN",!0));case bs:case pS:case bS:case dS:case hS:case _S:case vS:case mS:return t.value;case kS:case AS:return X0(t.tsvalue());case gS:{let n=t.value;switch(typeof n){case"string":return"*"+n;case"number":return"#"+n;case"boolean":return n?"?true":"?false";case"function":return H0(n);case"object":if(n instanceof ES.lua_State&&n.l_G===e.l_G||n instanceof ml||n instanceof st.Udata||n instanceof st.LClosure||n instanceof st.CClosure)return H0(n);default:return n}}default:throw new Error("unknown key type: "+t.type)}},ml=class{constructor(t){this.id=t.l_G.id_counter++,this.strong=new Map,this.dead_strong=new Map,this.dead_weak=void 0,this.f=void 0,this.l=void 0,this.metatable=null,this.flags=-1}},OS=function(e){e.flags=0},z0=function(e,t,n,r){e.dead_strong.clear(),e.dead_weak=void 0;let o=null,l={key:n,value:r,p:o=e.l,n:void 0};e.f||(e.f=l),o&&(o.n=l),e.strong.set(t,l),e.l=l},SS=function(e){return typeof e=="object"?e!==null:typeof e=="function"},L0=function(e,t){let n=e.strong.get(t);if(n){n.key.setdeadvalue(),n.value=void 0;let r=n.n,o=n.p;n.p=void 0,o&&(o.n=r),r&&(r.p=o),e.f===n&&(e.f=r),e.l===n&&(e.l=o),e.strong.delete(t),SS(t)?(e.dead_weak||(e.dead_weak=new WeakMap),e.dead_weak.set(t,n)):e.dead_strong.set(t,n)}},wS=function(e){return new ml(e)},vs=function(e,t){let n=e.strong.get(t);return n?n.value:st.luaO_nilobject},J0=function(e,t){return vl(typeof t=="number"&&(t|0)===t),vs(e,t)},yS=function(e,t){return vl(t instanceof TS),vs(e,X0(t))},RS=function(e,t,n){return vl(n instanceof st.TValue),n.ttisnil()||n.ttisfloat()&&isNaN(n.value)?st.luaO_nilobject:vs(t,ms(e,n))},US=function(e,t,n){vl(typeof t=="number"&&(t|0)===t&&n instanceof st.TValue);let r=t;if(n.ttisnil()){L0(e,r);return}let o=e.strong.get(r);if(o)o.value.setfrom(n);else{let l=new st.TValue(bs,t),i=new st.TValue(n.type,n.value);z0(e,r,l,i)}},CS=function(e,t,n,r){vl(n instanceof st.TValue);let o=ms(e,n);if(r.ttisnil()){L0(t,o);return}let l=t.strong.get(o);if(l)l.value.setfrom(r);else{let i,a=n.value;n.ttisfloat()&&(a|0)===a?i=new st.TValue(bs,a):i=new st.TValue(n.type,a);let u=new st.TValue(r.type,r.value);z0(t,o,i,u)}},NS=function(e){let t=0,n=e.strong.size+1;for(;n-t>1;){let r=Math.floor((t+n)/2);J0(e,r).ttisnil()?n=r:t=r}return t},DS=function(e,t,n){let r=e.stack[n],o;if(r.type===j0){if(o=t.f,!o)return!1}else{let l=ms(e,r);if(o=t.strong.get(l),o){if(o=o.n,!o)return!1}else{if(o=t.dead_weak&&t.dead_weak.get(l)||t.dead_strong.get(l),!o)return ks.luaG_runerror(e,xs("invalid key to 'next'"));do if(o=o.n,!o)return!1;while(o.key.ttisdeadkey())}}return st.setobj2s(e,n,o.key),st.setobj2s(e,n+1,o.value),!0};Ht.exports.invalidateTMcache=OS;Ht.exports.luaH_get=RS;Ht.exports.luaH_getint=J0;Ht.exports.luaH_getn=NS;Ht.exports.luaH_getstr=yS;Ht.exports.luaH_setfrom=CS;Ht.exports.luaH_setint=US;Ht.exports.luaH_new=wS;Ht.exports.luaH_next=DS;Ht.exports.Table=ml});var Ur=w((z6,F)=>{var IS=["MOVE","LOADK","LOADKX","LOADBOOL","LOADNIL","GETUPVAL","GETTABUP","GETTABLE","SETTABUP","SETUPVAL","SETTABLE","NEWTABLE","SELF","ADD","SUB","MUL","MOD","POW","DIV","IDIV","BAND","BOR","BXOR","SHL","SHR","UNM","BNOT","NOT","LEN","CONCAT","JMP","EQ","LT","LE","TEST","TESTSET","CALL","TAILCALL","RETURN","FORLOOP","FORPREP","TFORCALL","TFORLOOP","SETLIST","CLOSURE","VARARG","EXTRAARG"],MS={OP_MOVE:0,OP_LOADK:1,OP_LOADKX:2,OP_LOADBOOL:3,OP_LOADNIL:4,OP_GETUPVAL:5,OP_GETTABUP:6,OP_GETTABLE:7,OP_SETTABUP:8,OP_SETUPVAL:9,OP_SETTABLE:10,OP_NEWTABLE:11,OP_SELF:12,OP_ADD:13,OP_SUB:14,OP_MUL:15,OP_MOD:16,OP_POW:17,OP_DIV:18,OP_IDIV:19,OP_BAND:20,OP_BOR:21,OP_BXOR:22,OP_SHL:23,OP_SHR:24,OP_UNM:25,OP_BNOT:26,OP_NOT:27,OP_LEN:28,OP_CONCAT:29,OP_JMP:30,OP_EQ:31,OP_LT:32,OP_LE:33,OP_TEST:34,OP_TESTSET:35,OP_CALL:36,OP_TAILCALL:37,OP_RETURN:38,OP_FORLOOP:39,OP_FORPREP:40,OP_TFORCALL:41,OP_TFORLOOP:42,OP_SETLIST:43,OP_CLOSURE:44,OP_VARARG:45,OP_EXTRAARG:46},Se=0,be=1,ct=2,W=3,Y=0,Yi=1,Tl=2,Z0=3,wl=[0<<7|1<<6|ct<<4|Se<<2|Y,0<<7|1<<6|W<<4|Se<<2|Yi,0<<7|1<<6|Se<<4|Se<<2|Yi,0<<7|1<<6|be<<4|be<<2|Y,0<<7|1<<6|be<<4|Se<<2|Y,0<<7|1<<6|be<<4|Se<<2|Y,0<<7|1<<6|be<<4|W<<2|Y,0<<7|1<<6|ct<<4|W<<2|Y,0<<7|0<<6|W<<4|W<<2|Y,0<<7|0<<6|be<<4|Se<<2|Y,0<<7|0<<6|W<<4|W<<2|Y,0<<7|1<<6|be<<4|be<<2|Y,0<<7|1<<6|ct<<4|W<<2|Y,0<<7|1<<6|W<<4|W<<2|Y,0<<7|1<<6|W<<4|W<<2|Y,0<<7|1<<6|W<<4|W<<2|Y,0<<7|1<<6|W<<4|W<<2|Y,0<<7|1<<6|W<<4|W<<2|Y,0<<7|1<<6|W<<4|W<<2|Y,0<<7|1<<6|W<<4|W<<2|Y,0<<7|1<<6|W<<4|W<<2|Y,0<<7|1<<6|W<<4|W<<2|Y,0<<7|1<<6|W<<4|W<<2|Y,0<<7|1<<6|W<<4|W<<2|Y,0<<7|1<<6|W<<4|W<<2|Y,0<<7|1<<6|ct<<4|Se<<2|Y,0<<7|1<<6|ct<<4|Se<<2|Y,0<<7|1<<6|ct<<4|Se<<2|Y,0<<7|1<<6|ct<<4|Se<<2|Y,0<<7|1<<6|ct<<4|ct<<2|Y,0<<7|0<<6|ct<<4|Se<<2|Tl,1<<7|0<<6|W<<4|W<<2|Y,1<<7|0<<6|W<<4|W<<2|Y,1<<7|0<<6|W<<4|W<<2|Y,1<<7|0<<6|Se<<4|be<<2|Y,1<<7|1<<6|ct<<4|be<<2|Y,0<<7|1<<6|be<<4|be<<2|Y,0<<7|1<<6|be<<4|be<<2|Y,0<<7|0<<6|be<<4|Se<<2|Y,0<<7|1<<6|ct<<4|Se<<2|Tl,0<<7|1<<6|ct<<4|Se<<2|Tl,0<<7|0<<6|Se<<4|be<<2|Y,0<<7|1<<6|ct<<4|Se<<2|Tl,0<<7|0<<6|be<<4|be<<2|Y,0<<7|1<<6|be<<4|Se<<2|Yi,0<<7|1<<6|be<<4|Se<<2|Y,0<<7|0<<6|be<<4|be<<2|Z0],FS=function(e){return wl[e]&3},PS=function(e){return wl[e]>>4&3},BS=function(e){return wl[e]>>2&3},qS=function(e){return wl[e]&1<<6},VS=function(e){return wl[e]&1<<7},Ln=9,Jn=9,Sr=Ln+Jn,yr=8,El=Ln+Jn+yr,xo=6,on=0,Zn=on+xo,Rr=Zn+yr,Ol=Rr+Ln,wr=Rr,Sl=Zn,$0=(1<<Sr)-1,Wi=$0>>1,GS=(1<<El)-1,Y0=(1<<yr)-1,KS=(1<<Jn)-1,HS=(1<<Ln)-1,yl=1<<Jn-1,jS=yl-1,XS=Y0,zS=function(e){return e&yl},LS=function(e){return e&~yl},JS=function(e){return e|yl},We=function(e,t){return~(-1<<e)<<t},W0=function(e,t){return~We(e,t)},ZS=function(e){return e.opcode},$S=function(e,t){return e.code=e.code&W0(xo,on)|t<<on&We(xo,on),ko(e)},Rl=function(e,t,n,r){return e.code=e.code&W0(r,n)|t<<n&We(r,n),ko(e)},YS=function(e){return e.A},WS=function(e,t){return Rl(e,t,Zn,yr)},QS=function(e){return e.B},ew=function(e,t){return Rl(e,t,Ol,Jn)},tw=function(e){return e.C},nw=function(e,t){return Rl(e,t,Rr,Ln)},rw=function(e){return e.Bx},Q0=function(e,t){return Rl(e,t,wr,Sr)},ow=function(e){return e.Ax},lw=function(e,t){return Rl(e,t,Sl,El)},iw=function(e){return e.sBx},aw=function(e,t){return Q0(e,t+Wi)},ko=function(e){if(typeof e=="number")return{code:e,opcode:e>>on&We(xo,0),A:e>>Zn&We(yr,0),B:e>>Ol&We(Jn,0),C:e>>Rr&We(Ln,0),Bx:e>>wr&We(Sr,0),Ax:e>>Sl&We(El,0),sBx:(e>>wr&We(Sr,0))-Wi};{let t=e.code;return e.opcode=t>>on&We(xo,0),e.A=t>>Zn&We(yr,0),e.B=t>>Ol&We(Jn,0),e.C=t>>Rr&We(Ln,0),e.Bx=t>>wr&We(Sr,0),e.Ax=t>>Sl&We(El,0),e.sBx=(t>>wr&We(Sr,0))-Wi,e}},uw=function(e,t,n,r){return ko(e<<on|t<<Zn|n<<Ol|r<<Rr)},sw=function(e,t,n){return ko(e<<on|t<<Zn|n<<wr)},cw=function(e,t){return ko(e<<on|t<<Sl)},fw=50;F.exports.BITRK=yl;F.exports.CREATE_ABC=uw;F.exports.CREATE_ABx=sw;F.exports.CREATE_Ax=cw;F.exports.GET_OPCODE=ZS;F.exports.GETARG_A=YS;F.exports.GETARG_B=QS;F.exports.GETARG_C=tw;F.exports.GETARG_Bx=rw;F.exports.GETARG_Ax=ow;F.exports.GETARG_sBx=iw;F.exports.INDEXK=LS;F.exports.ISK=zS;F.exports.LFIELDS_PER_FLUSH=fw;F.exports.MAXARG_A=Y0;F.exports.MAXARG_Ax=GS;F.exports.MAXARG_B=KS;F.exports.MAXARG_Bx=$0;F.exports.MAXARG_C=HS;F.exports.MAXARG_sBx=Wi;F.exports.MAXINDEXRK=jS;F.exports.NO_REG=XS;F.exports.OpArgK=W;F.exports.OpArgN=Se;F.exports.OpArgR=ct;F.exports.OpArgU=be;F.exports.OpCodes=IS;F.exports.OpCodesI=MS;F.exports.POS_A=Zn;F.exports.POS_Ax=Sl;F.exports.POS_B=Ol;F.exports.POS_Bx=wr;F.exports.POS_C=Rr;F.exports.POS_OP=on;F.exports.RKASK=JS;F.exports.SETARG_A=WS;F.exports.SETARG_Ax=lw;F.exports.SETARG_B=ew;F.exports.SETARG_Bx=Q0;F.exports.SETARG_C=nw;F.exports.SETARG_sBx=aw;F.exports.SET_OPCODE=$S;F.exports.SIZE_A=yr;F.exports.SIZE_Ax=El;F.exports.SIZE_B=Jn;F.exports.SIZE_Bx=Sr;F.exports.SIZE_C=Ln;F.exports.SIZE_OP=xo;F.exports.fullins=ko;F.exports.getBMode=PS;F.exports.getCMode=BS;F.exports.getOpMode=FS;F.exports.iABC=Y;F.exports.iABx=Yi;F.exports.iAsBx=Tl;F.exports.iAx=Z0;F.exports.testAMode=qS;F.exports.testTMode=VS});var Nr=w((L6,Me)=>{var{LUA_MASKLINE:pw,LUA_MASKCOUNT:_w,LUA_MULTRET:hw,constant_types:{LUA_TBOOLEAN:dw,LUA_TLCF:gw,LUA_TLIGHTUSERDATA:Aw,LUA_TLNGSTR:og,LUA_TNIL:xw,LUA_TNUMBER:lg,LUA_TNUMFLT:kw,LUA_TNUMINT:bw,LUA_TSHRSTR:ig,LUA_TTABLE:ag,LUA_TUSERDATA:mw},to_luastring:ln}=Ne(),{INDEXK:ug,ISK:sg,LFIELDS_PER_FLUSH:vw,OpCodesI:{OP_ADD:cg,OP_BAND:fg,OP_BNOT:pg,OP_BOR:_g,OP_BXOR:hg,OP_CALL:Os,OP_CLOSURE:Tw,OP_CONCAT:dg,OP_DIV:gg,OP_EQ:Ag,OP_EXTRAARG:Ts,OP_FORLOOP:Ew,OP_FORPREP:Ow,OP_GETTABLE:xg,OP_GETTABUP:kg,OP_GETUPVAL:Sw,OP_IDIV:bg,OP_JMP:mg,OP_LE:Ss,OP_LEN:vg,OP_LOADBOOL:ww,OP_LOADK:yw,OP_LOADKX:Rw,OP_LOADNIL:Uw,OP_LT:Tg,OP_MOD:Eg,OP_MOVE:Cw,OP_MUL:Og,OP_NEWTABLE:Nw,OP_NOT:Dw,OP_POW:Sg,OP_RETURN:Iw,OP_SELF:wg,OP_SETLIST:Mw,OP_SETTABLE:Fw,OP_SETTABUP:Pw,OP_SETUPVAL:Bw,OP_SHL:yg,OP_SHR:Rg,OP_SUB:Ug,OP_TAILCALL:qw,OP_TEST:Vw,OP_TESTSET:Gw,OP_TFORCALL:Cg,OP_TFORLOOP:ws,OP_UNM:Ng,OP_VARARG:Kw}}=Ur(),{LUA_MAXINTEGER:Hw,LUA_MININTEGER:jw,lua_numbertointeger:Xw}=dt(),{lua_assert:Xt,luai_nummod:zw}=gt(),ce=Tt(),ea=Ir(),Yn=bn(),{luaS_bless:Lw,luaS_eqlngstr:Jw,luaS_hashlongstr:eg}=nn(),Le=zt(),q=Dr(),Cr=rn(),Et=mn(),Zw=function(e){let t=e.ci,n=t.l_base,r=t.l_code[t.l_savedpc-1],o=r.opcode;switch(o){case cg:case Ug:case Og:case gg:case bg:case fg:case _g:case hg:case yg:case Rg:case Eg:case Sg:case Ng:case pg:case vg:case kg:case xg:case wg:{ce.setobjs2s(e,n+r.A,e.top-1),delete e.stack[--e.top];break}case Ss:case Tg:case Ag:{let l=!e.stack[e.top-1].l_isfalse();delete e.stack[--e.top],t.callstatus&Yn.CIST_LEQ&&(Xt(o===Ss),t.callstatus^=Yn.CIST_LEQ,l=!l),Xt(t.l_code[t.l_savedpc].opcode===mg),l!==!!r.A&&t.l_savedpc++;break}case dg:{let l=e.top-1,i=r.B,a=l-1-(n+i);ce.setobjs2s(e,l-2,l),a>1&&(e.top=l-1,Ds(e,a)),ce.setobjs2s(e,t.l_base+r.A,e.top-1),Le.adjust_top(e,t.top);break}case Cg:{Xt(t.l_code[t.l_savedpc].opcode===ws),Le.adjust_top(e,t.top);break}case Os:{r.C-1>=0&&Le.adjust_top(e,t.top);break}}},tg=function(e,t,n){return t+n.A},$n=function(e,t,n){return t+n.B},Qe=function(e,t,n,r){return sg(r.B)?n[ug(r.B)]:e.stack[t+r.B]},De=function(e,t,n,r){return sg(r.C)?n[ug(r.C)]:e.stack[t+r.C]},$w=function(e){let t=e.ci;t.callstatus|=Yn.CIST_FRESH;e:for(;;){Xt(t===e.ci);let n=t.func.value,r=n.p.k,o=t.l_base,l=t.l_code[t.l_savedpc++];e.hookmask&(pw|_w)&&Et.luaG_traceexec(e);let i=tg(e,o,l);switch(l.opcode){case Cw:{ce.setobjs2s(e,i,$n(e,o,l));break}case yw:{let u=r[l.Bx];ce.setobj2s(e,i,u);break}case Rw:{Xt(t.l_code[t.l_savedpc].opcode===Ts);let u=r[t.l_code[t.l_savedpc++].Ax];ce.setobj2s(e,i,u);break}case ww:{e.stack[i].setbvalue(l.B!==0),l.C!==0&&t.l_savedpc++;break}case Uw:{for(let u=0;u<=l.B;u++)e.stack[i+u].setnilvalue();break}case Sw:{let u=l.B;ce.setobj2s(e,i,n.upvals[u]);break}case kg:{let u=n.upvals[l.B],c=De(e,o,r,l);Qi(e,u,c,i);break}case xg:{let u=e.stack[$n(e,o,l)],c=De(e,o,r,l);Qi(e,u,c,i);break}case Pw:{let u=n.upvals[l.A],c=Qe(e,o,r,l),s=De(e,o,r,l);Rs(e,u,c,s);break}case Bw:{n.upvals[l.B].setfrom(e.stack[i]);break}case Fw:{let u=e.stack[i],c=Qe(e,o,r,l),s=De(e,o,r,l);Rs(e,u,c,s);break}case Nw:{e.stack[i].sethvalue(Cr.luaH_new(e));break}case wg:{let u=$n(e,o,l),c=De(e,o,r,l);ce.setobjs2s(e,i+1,u),Qi(e,e.stack[u],c,i);break}case cg:{let u=Qe(e,o,r,l),c=De(e,o,r,l),s,p;u.ttisinteger()&&c.ttisinteger()?e.stack[i].setivalue(u.value+c.value|0):(s=Ie(u))!==!1&&(p=Ie(c))!==!1?e.stack[i].setfltvalue(s+p):q.luaT_trybinTM(e,u,c,e.stack[i],q.TMS.TM_ADD);break}case Ug:{let u=Qe(e,o,r,l),c=De(e,o,r,l),s,p;u.ttisinteger()&&c.ttisinteger()?e.stack[i].setivalue(u.value-c.value|0):(s=Ie(u))!==!1&&(p=Ie(c))!==!1?e.stack[i].setfltvalue(s-p):q.luaT_trybinTM(e,u,c,e.stack[i],q.TMS.TM_SUB);break}case Og:{let u=Qe(e,o,r,l),c=De(e,o,r,l),s,p;u.ttisinteger()&&c.ttisinteger()?e.stack[i].setivalue(Bg(u.value,c.value)):(s=Ie(u))!==!1&&(p=Ie(c))!==!1?e.stack[i].setfltvalue(s*p):q.luaT_trybinTM(e,u,c,e.stack[i],q.TMS.TM_MUL);break}case Eg:{let u=Qe(e,o,r,l),c=De(e,o,r,l),s,p;u.ttisinteger()&&c.ttisinteger()?e.stack[i].setivalue(Vg(e,u.value,c.value)):(s=Ie(u))!==!1&&(p=Ie(c))!==!1?e.stack[i].setfltvalue(zw(e,s,p)):q.luaT_trybinTM(e,u,c,e.stack[i],q.TMS.TM_MOD);break}case Sg:{let u=Qe(e,o,r,l),c=De(e,o,r,l),s,p;(s=Ie(u))!==!1&&(p=Ie(c))!==!1?e.stack[i].setfltvalue(Math.pow(s,p)):q.luaT_trybinTM(e,u,c,e.stack[i],q.TMS.TM_POW);break}case gg:{let u=Qe(e,o,r,l),c=De(e,o,r,l),s,p;(s=Ie(u))!==!1&&(p=Ie(c))!==!1?e.stack[i].setfltvalue(s/p):q.luaT_trybinTM(e,u,c,e.stack[i],q.TMS.TM_DIV);break}case bg:{let u=Qe(e,o,r,l),c=De(e,o,r,l),s,p;u.ttisinteger()&&c.ttisinteger()?e.stack[i].setivalue(qg(e,u.value,c.value)):(s=Ie(u))!==!1&&(p=Ie(c))!==!1?e.stack[i].setfltvalue(Math.floor(s/p)):q.luaT_trybinTM(e,u,c,e.stack[i],q.TMS.TM_IDIV);break}case fg:{let u=Qe(e,o,r,l),c=De(e,o,r,l),s,p;(s=jt(u))!==!1&&(p=jt(c))!==!1?e.stack[i].setivalue(s&p):q.luaT_trybinTM(e,u,c,e.stack[i],q.TMS.TM_BAND);break}case _g:{let u=Qe(e,o,r,l),c=De(e,o,r,l),s,p;(s=jt(u))!==!1&&(p=jt(c))!==!1?e.stack[i].setivalue(s|p):q.luaT_trybinTM(e,u,c,e.stack[i],q.TMS.TM_BOR);break}case hg:{let u=Qe(e,o,r,l),c=De(e,o,r,l),s,p;(s=jt(u))!==!1&&(p=jt(c))!==!1?e.stack[i].setivalue(s^p):q.luaT_trybinTM(e,u,c,e.stack[i],q.TMS.TM_BXOR);break}case yg:{let u=Qe(e,o,r,l),c=De(e,o,r,l),s,p;(s=jt(u))!==!1&&(p=jt(c))!==!1?e.stack[i].setivalue(ys(s,p)):q.luaT_trybinTM(e,u,c,e.stack[i],q.TMS.TM_SHL);break}case Rg:{let u=Qe(e,o,r,l),c=De(e,o,r,l),s,p;(s=jt(u))!==!1&&(p=jt(c))!==!1?e.stack[i].setivalue(ys(s,-p)):q.luaT_trybinTM(e,u,c,e.stack[i],q.TMS.TM_SHR);break}case Ng:{let u=e.stack[$n(e,o,l)],c;u.ttisinteger()?e.stack[i].setivalue(-u.value|0):(c=Ie(u))!==!1?e.stack[i].setfltvalue(-c):q.luaT_trybinTM(e,u,u,e.stack[i],q.TMS.TM_UNM);break}case pg:{let u=e.stack[$n(e,o,l)];u.ttisinteger()?e.stack[i].setivalue(~u.value):q.luaT_trybinTM(e,u,u,e.stack[i],q.TMS.TM_BNOT);break}case Dw:{let u=e.stack[$n(e,o,l)];e.stack[i].setbvalue(u.l_isfalse());break}case vg:{Pg(e,e.stack[i],e.stack[$n(e,o,l)]);break}case dg:{let u=l.B,c=l.C;e.top=o+c+1,Ds(e,c-u+1);let s=o+u;ce.setobjs2s(e,i,s),Le.adjust_top(e,t.top);break}case mg:{Dg(e,t,l,0);break}case Ag:{Us(e,Qe(e,o,r,l),De(e,o,r,l))!==l.A?t.l_savedpc++:Ul(e,t);break}case Tg:{Ig(e,Qe(e,o,r,l),De(e,o,r,l))!==l.A?t.l_savedpc++:Ul(e,t);break}case Ss:{Mg(e,Qe(e,o,r,l),De(e,o,r,l))!==l.A?t.l_savedpc++:Ul(e,t);break}case Vw:{(l.C?e.stack[i].l_isfalse():!e.stack[i].l_isfalse())?t.l_savedpc++:Ul(e,t);break}case Gw:{let u=$n(e,o,l),c=e.stack[u];(l.C?c.l_isfalse():!c.l_isfalse())?t.l_savedpc++:(ce.setobjs2s(e,i,u),Ul(e,t));break}case Os:{let u=l.B,c=l.C-1;if(u!==0&&Le.adjust_top(e,i+u),Le.luaD_precall(e,i,c))c>=0&&Le.adjust_top(e,t.top);else{t=e.ci;continue e}break}case qw:{let u=l.B;if(u!==0&&Le.adjust_top(e,i+u),!Le.luaD_precall(e,i,hw)){let c=e.ci,s=c.previous,p=c.func,_=c.funcOff,d=s.funcOff,x=c.l_base+p.value.p.numparams;n.p.p.length>0&&ea.luaF_close(e,s.l_base);for(let O=0;_+O<x;O++)ce.setobjs2s(e,d+O,_+O);s.l_base=d+(c.l_base-_),s.top=d+(e.top-_),Le.adjust_top(e,s.top),s.l_code=c.l_code,s.l_savedpc=c.l_savedpc,s.callstatus|=Yn.CIST_TAIL,s.next=null,t=e.ci=s,Xt(e.top===s.l_base+e.stack[d].value.p.maxstacksize);continue e}break}case Iw:{n.p.p.length>0&&ea.luaF_close(e,o);let u=Le.luaD_poscall(e,t,i,l.B!==0?l.B-1:e.top-i);if(t.callstatus&Yn.CIST_FRESH)return;t=e.ci,u&&Le.adjust_top(e,t.top),Xt(t.callstatus&Yn.CIST_LUA),Xt(t.l_code[t.l_savedpc-1].opcode===Os);continue e}case Ew:{if(e.stack[i].ttisinteger()){let u=e.stack[i+2].value,c=e.stack[i].value+u|0,s=e.stack[i+1].value;(0<u?c<=s:s<=c)&&(t.l_savedpc+=l.sBx,e.stack[i].chgivalue(c),e.stack[i+3].setivalue(c))}else{let u=e.stack[i+2].value,c=e.stack[i].value+u,s=e.stack[i+1].value;(0<u?c<=s:s<=c)&&(t.l_savedpc+=l.sBx,e.stack[i].chgfltvalue(c),e.stack[i+3].setfltvalue(c))}break}case Ow:{let u=e.stack[i],c=e.stack[i+1],s=e.stack[i+2],p;if(u.ttisinteger()&&s.ttisinteger()&&(p=Ww(c,s.value))){let _=p.stopnow?0:u.value;c.value=p.ilimit,u.value=_-s.value|0}else{let _,d,x;(_=Ie(c))===!1&&Et.luaG_runerror(e,ln("'for' limit must be a number",!0)),e.stack[i+1].setfltvalue(_),(d=Ie(s))===!1&&Et.luaG_runerror(e,ln("'for' step must be a number",!0)),e.stack[i+2].setfltvalue(d),(x=Ie(u))===!1&&Et.luaG_runerror(e,ln("'for' initial value must be a number",!0)),e.stack[i].setfltvalue(x-d)}t.l_savedpc+=l.sBx;break}case Cg:{let u=i+3;ce.setobjs2s(e,u+2,i+2),ce.setobjs2s(e,u+1,i+1),ce.setobjs2s(e,u,i),Le.adjust_top(e,u+3),Le.luaD_call(e,u,l.C),Le.adjust_top(e,t.top),l=t.l_code[t.l_savedpc++],i=tg(e,o,l),Xt(l.opcode===ws)}case ws:{e.stack[i+1].ttisnil()||(ce.setobjs2s(e,i,i+1),t.l_savedpc+=l.sBx);break}case Mw:{let u=l.B,c=l.C;u===0&&(u=e.top-i-1),c===0&&(Xt(t.l_code[t.l_savedpc].opcode===Ts),c=t.l_code[t.l_savedpc++].Ax);let s=e.stack[i].value,p=(c-1)*vw+u;for(;u>0;u--)Cr.luaH_setint(s,p--,e.stack[i+u]);Le.adjust_top(e,t.top);break}case Tw:{let u=n.p.p[l.Bx],c=ty(u,n.upvals,e.stack,o);c===null?ny(e,u,n.upvals,o,i):e.stack[i].setclLvalue(c);break}case Kw:{let u=l.B-1,c=o-t.funcOff-n.p.numparams-1,s;for(c<0&&(c=0),u<0&&(u=c,Le.luaD_checkstack(e,c),Le.adjust_top(e,i+c)),s=0;s<u&&s<c;s++)ce.setobjs2s(e,i+s,o-c+s);for(;s<u;s++)e.stack[i+s].setnilvalue();break}case Ts:throw Error("invalid opcode")}}},Dg=function(e,t,n,r){let o=n.A;o!==0&&ea.luaF_close(e,t.l_base+o-1),t.l_savedpc+=n.sBx+r},Ul=function(e,t){Dg(e,t,t.l_code[t.l_savedpc],1)},Ig=function(e,t,n){if(t.ttisnumber()&&n.ttisnumber())return Qw(t,n)?1:0;if(t.ttisstring()&&n.ttisstring())return Fg(t.tsvalue(),n.tsvalue())<0?1:0;{let r=q.luaT_callorderTM(e,t,n,q.TMS.TM_LT);return r===null&&Et.luaG_ordererror(e,t,n),r?1:0}},Mg=function(e,t,n){let r;return t.ttisnumber()&&n.ttisnumber()?ey(t,n)?1:0:t.ttisstring()&&n.ttisstring()?Fg(t.tsvalue(),n.tsvalue())<=0?1:0:(r=q.luaT_callorderTM(e,t,n,q.TMS.TM_LE),r!==null?r?1:0:(e.ci.callstatus|=Yn.CIST_LEQ,r=q.luaT_callorderTM(e,n,t,q.TMS.TM_LT),e.ci.callstatus^=Yn.CIST_LEQ,r===null&&Et.luaG_ordererror(e,t,n),r?0:1))},Us=function(e,t,n){if(t.ttype()!==n.ttype())return t.ttnov()!==n.ttnov()||t.ttnov()!==lg?0:t.value===n.value?1:0;let r;switch(t.ttype()){case xw:return 1;case dw:return t.value==n.value?1:0;case Aw:case bw:case kw:case gw:return t.value===n.value?1:0;case ig:case og:return Jw(t.tsvalue(),n.tsvalue())?1:0;case mw:case ag:if(t.value===n.value)return 1;if(e===null)return 0;r=q.fasttm(e,t.value.metatable,q.TMS.TM_EQ),r===null&&(r=q.fasttm(e,n.value.metatable,q.TMS.TM_EQ));break;default:return t.value===n.value?1:0}if(r===null)return 0;let o=new ce.TValue;return q.luaT_callTM(e,r,t,n,o,1),o.l_isfalse()?0:1},Yw=function(e,t){return Us(null,e,t)},Ww=function(e,t){let n=!1,r=ta(e,t<0?2:1);if(r===!1){let o=Ie(e);if(o===!1)return!1;0<o?(r=Hw,t<0&&(n=!0)):(r=jw,t>=0&&(n=!0))}return{stopnow:n,ilimit:r}},ta=function(e,t){if(e.ttisfloat()){let n=e.value,r=Math.floor(n);if(n!==r){if(t===0)return!1;t>1&&(r+=1)}return Xw(r)}else{if(e.ttisinteger())return e.value;if(Ns(e)){let n=new ce.TValue;if(ce.luaO_str2num(e.svalue(),n)===e.vslen()+1)return ta(n,t)}}return!1},jt=function(e){return e.ttisinteger()?e.value:ta(e,0)},Ie=function(e){if(e.ttnov()===lg)return e.value;if(Ns(e)){let t=new ce.TValue;if(ce.luaO_str2num(e.svalue(),t)===e.vslen()+1)return t.value}return!1},Qw=function(e,t){return e.value<t.value},ey=function(e,t){return e.value<=t.value},Fg=function(e,t){let n=eg(e),r=eg(t);return n===r?0:n<r?-1:1},Pg=function(e,t,n){let r;switch(n.ttype()){case ag:{let o=n.value;if(r=q.fasttm(e,o.metatable,q.TMS.TM_LEN),r!==null)break;t.setivalue(Cr.luaH_getn(o));return}case ig:case og:t.setivalue(n.vslen());return;default:{r=q.luaT_gettmbyobj(e,n,q.TMS.TM_LEN),r.ttisnil()&&Et.luaG_typeerror(e,n,ln("get length of",!0));break}}q.luaT_callTM(e,r,n,n,t,1)},Bg=Math.imul||function(e,t){let n=e>>>16&65535,r=e&65535,o=t>>>16&65535,l=t&65535;return r*l+(n*l+r*o<<16>>>0)|0},qg=function(e,t,n){return n===0&&Et.luaG_runerror(e,ln("attempt to divide by zero")),Math.floor(t/n)|0},Vg=function(e,t,n){return n===0&&Et.luaG_runerror(e,ln("attempt to perform 'n%%0'")),t-Math.floor(t/n)*n|0},ng=32,ys=function(e,t){return t<0?t<=-ng?0:e>>>-t:t>=ng?0:e<<t},ty=function(e,t,n,r){let o=e.cache;if(o!==null){let l=e.upvalues,i=l.length;for(let a=0;a<i;a++){let u=l[a].instack?n[r+l[a].idx]:t[l[a].idx];if(o.upvals[a]!==u)return null}}return o},ny=function(e,t,n,r,o){let l=t.upvalues.length,i=t.upvalues,a=new ce.LClosure(e,l);a.p=t,e.stack[o].setclLvalue(a);for(let u=0;u<l;u++)i[u].instack?a.upvals[u]=ea.luaF_findupval(e,r+i[u].idx):a.upvals[u]=n[i[u].idx];t.cache=a},Cs=function(e){return e.ttisnumber()},Ns=function(e){return e.ttisstring()},Es=function(e,t){let n=e.stack[t];return n.ttisstring()?!0:Cs(n)?(ce.luaO_tostring(e,n),!0):!1},rg=function(e){return e.ttisstring()&&e.vslen()===0},ry=function(e,t,n,r){let o=0;do{let l=e.stack[t-n],i=l.vslen(),a=l.svalue();r.set(a,o),o+=i}while(--n>0)},Ds=function(e,t){Xt(t>=2);do{let n=e.top,r=2;if(!(e.stack[n-2].ttisstring()||Cs(e.stack[n-2]))||!Es(e,n-1))q.luaT_trybinTM(e,e.stack[n-2],e.stack[n-1],e.stack[n-2],q.TMS.TM_CONCAT);else if(rg(e.stack[n-1]))Es(e,n-2);else if(rg(e.stack[n-2]))ce.setobjs2s(e,n-2,n-1);else{let o=e.stack[n-1].vslen();for(r=1;r<t&&Es(e,n-r-1);r++)o+=e.stack[n-r-1].vslen();let l=new Uint8Array(o);ry(e,n,r,l);let i=Lw(e,l);ce.setsvalue2s(e,n-r,i)}for(t-=r-1;e.top>n-(r-1);)delete e.stack[--e.top]}while(t>1)},Gg=2e3,Qi=function(e,t,n,r){for(let o=0;o<Gg;o++){let l;if(!t.ttistable())l=q.luaT_gettmbyobj(e,t,q.TMS.TM_INDEX),l.ttisnil()&&Et.luaG_typeerror(e,t,ln("index",!0));else{let i=Cr.luaH_get(e,t.value,n);if(i.ttisnil()){if(l=q.fasttm(e,t.value.metatable,q.TMS.TM_INDEX),l===null){e.stack[r].setnilvalue();return}}else{ce.setobj2s(e,r,i);return}}if(l.ttisfunction()){q.luaT_callTM(e,l,t,n,e.stack[r],1);return}t=l}Et.luaG_runerror(e,ln("'__index' chain too long; possible loop",!0))},Rs=function(e,t,n,r){for(let o=0;o<Gg;o++){let l;if(t.ttistable()){let i=t.value;if(!Cr.luaH_get(e,i,n).ttisnil()||(l=q.fasttm(e,i.metatable,q.TMS.TM_NEWINDEX))===null){Cr.luaH_setfrom(e,i,n,r),Cr.invalidateTMcache(i);return}}else(l=q.luaT_gettmbyobj(e,t,q.TMS.TM_NEWINDEX)).ttisnil()&&Et.luaG_typeerror(e,t,ln("index",!0));if(l.ttisfunction()){q.luaT_callTM(e,l,t,n,r,0);return}t=l}Et.luaG_runerror(e,ln("'__newindex' chain too long; possible loop",!0))};Me.exports.cvt2str=Cs;Me.exports.cvt2num=Ns;Me.exports.luaV_gettable=Qi;Me.exports.luaV_concat=Ds;Me.exports.luaV_div=qg;Me.exports.luaV_equalobj=Us;Me.exports.luaV_execute=$w;Me.exports.luaV_finishOp=Zw;Me.exports.luaV_imul=Bg;Me.exports.luaV_lessequal=Mg;Me.exports.luaV_lessthan=Ig;Me.exports.luaV_mod=Vg;Me.exports.luaV_objlen=Pg;Me.exports.luaV_rawequalobj=Yw;Me.exports.luaV_shiftl=ys;Me.exports.luaV_tointeger=ta;Me.exports.settable=Rs;Me.exports.tointeger=jt;Me.exports.tonumber=Ie});var Dr=w((J6,It)=>{var{constant_types:{LUA_TTABLE:oy,LUA_TUSERDATA:ly},to_luastring:ie}=Ne(),{lua_assert:iy}=gt(),bo=Tt(),Kg=zt(),ay=bn(),{luaS_bless:uy,luaS_new:Ae}=nn(),Ms=rn(),na=mn(),Hg=Nr(),sy=["no value","nil","boolean","userdata","number","string","table","function","userdata","thread","proto"].map(e=>ie(e)),jg=function(e){return sy[e+1]},ne={TM_INDEX:0,TM_NEWINDEX:1,TM_GC:2,TM_MODE:3,TM_LEN:4,TM_EQ:5,TM_ADD:6,TM_SUB:7,TM_MUL:8,TM_MOD:9,TM_POW:10,TM_DIV:11,TM_IDIV:12,TM_BAND:13,TM_BOR:14,TM_BXOR:15,TM_SHL:16,TM_SHR:17,TM_UNM:18,TM_BNOT:19,TM_LT:20,TM_LE:21,TM_CONCAT:22,TM_CALL:23,TM_N:24},cy=function(e){e.l_G.tmname[ne.TM_INDEX]=new Ae(e,ie("__index",!0)),e.l_G.tmname[ne.TM_NEWINDEX]=new Ae(e,ie("__newindex",!0)),e.l_G.tmname[ne.TM_GC]=new Ae(e,ie("__gc",!0)),e.l_G.tmname[ne.TM_MODE]=new Ae(e,ie("__mode",!0)),e.l_G.tmname[ne.TM_LEN]=new Ae(e,ie("__len",!0)),e.l_G.tmname[ne.TM_EQ]=new Ae(e,ie("__eq",!0)),e.l_G.tmname[ne.TM_ADD]=new Ae(e,ie("__add",!0)),e.l_G.tmname[ne.TM_SUB]=new Ae(e,ie("__sub",!0)),e.l_G.tmname[ne.TM_MUL]=new Ae(e,ie("__mul",!0)),e.l_G.tmname[ne.TM_MOD]=new Ae(e,ie("__mod",!0)),e.l_G.tmname[ne.TM_POW]=new Ae(e,ie("__pow",!0)),e.l_G.tmname[ne.TM_DIV]=new Ae(e,ie("__div",!0)),e.l_G.tmname[ne.TM_IDIV]=new Ae(e,ie("__idiv",!0)),e.l_G.tmname[ne.TM_BAND]=new Ae(e,ie("__band",!0)),e.l_G.tmname[ne.TM_BOR]=new Ae(e,ie("__bor",!0)),e.l_G.tmname[ne.TM_BXOR]=new Ae(e,ie("__bxor",!0)),e.l_G.tmname[ne.TM_SHL]=new Ae(e,ie("__shl",!0)),e.l_G.tmname[ne.TM_SHR]=new Ae(e,ie("__shr",!0)),e.l_G.tmname[ne.TM_UNM]=new Ae(e,ie("__unm",!0)),e.l_G.tmname[ne.TM_BNOT]=new Ae(e,ie("__bnot",!0)),e.l_G.tmname[ne.TM_LT]=new Ae(e,ie("__lt",!0)),e.l_G.tmname[ne.TM_LE]=new Ae(e,ie("__le",!0)),e.l_G.tmname[ne.TM_CONCAT]=new Ae(e,ie("__concat",!0)),e.l_G.tmname[ne.TM_CALL]=new Ae(e,ie("__call",!0))},fy=ie("__name",!0),py=function(e,t){let n;if(t.ttistable()&&(n=t.value.metatable)!==null||t.ttisfulluserdata()&&(n=t.value.metatable)!==null){let r=Ms.luaH_getstr(n,uy(e,fy));if(r.ttisstring())return r.svalue()}return jg(t.ttnov())},Xg=function(e,t,n,r,o,l){let i=e.top;if(bo.pushobj2s(e,t),bo.pushobj2s(e,n),bo.pushobj2s(e,r),l||bo.pushobj2s(e,o),e.ci.callstatus&ay.CIST_LUA?Kg.luaD_call(e,i,l):Kg.luaD_callnoyield(e,i,l),l){let a=e.stack[e.top-1];delete e.stack[--e.top],o.setfrom(a)}},Fs=function(e,t,n,r,o){let l=Is(e,t,o);return l.ttisnil()&&(l=Is(e,n,o)),l.ttisnil()?!1:(Xg(e,l,t,n,r,1),!0)},_y=function(e,t,n,r,o){if(!Fs(e,t,n,r,o))switch(o){case ne.TM_CONCAT:return na.luaG_concaterror(e,t,n);case ne.TM_BAND:case ne.TM_BOR:case ne.TM_BXOR:case ne.TM_SHL:case ne.TM_SHR:case ne.TM_BNOT:{let l=Hg.tonumber(t),i=Hg.tonumber(n);return l!==!1&&i!==!1?na.luaG_tointerror(e,t,n):na.luaG_opinterror(e,t,n,ie("perform bitwise operation on",!0))}default:return na.luaG_opinterror(e,t,n,ie("perform arithmetic on",!0))}},hy=function(e,t,n,r){let o=new bo.TValue;return Fs(e,t,n,o,r)?!o.l_isfalse():null},dy=function(e,t,n){return t===null||t.flags&1<<n?null:zg(t,n,e.l_G.tmname[n])},zg=function(e,t,n){let r=Ms.luaH_getstr(e,n);return iy(t<=ne.TM_EQ),r.ttisnil()?(e.flags|=1<<t,null):r},Is=function(e,t,n){let r;switch(t.ttnov()){case oy:case ly:r=t.value.metatable;break;default:r=e.l_G.mt[t.ttnov()]}return r?Ms.luaH_getstr(r,e.l_G.tmname[n]):bo.luaO_nilobject};It.exports.fasttm=dy;It.exports.TMS=ne;It.exports.luaT_callTM=Xg;It.exports.luaT_callbinTM=Fs;It.exports.luaT_trybinTM=_y;It.exports.luaT_callorderTM=hy;It.exports.luaT_gettm=zg;It.exports.luaT_gettmbyobj=Is;It.exports.luaT_init=cy;It.exports.luaT_objtypename=py;It.exports.ttypename=jg});var bn=w((Z6,qe)=>{var{LUA_MINSTACK:Jg,LUA_RIDX_GLOBALS:gy,LUA_RIDX_MAINTHREAD:Ay,constant_types:{LUA_NUMTAGS:xy,LUA_TNIL:Zg,LUA_TTABLE:ky,LUA_TTHREAD:$g},thread_status:{LUA_OK:Yg}}=Ne(),Cl=Tt(),by=zt(),Wg=Il(),ra=rn(),Qg=Dr(),eA=5,Lg=2*Jg,Nl=class{constructor(){this.func=null,this.funcOff=NaN,this.top=NaN,this.previous=null,this.next=null,this.l_base=NaN,this.l_code=null,this.l_savedpc=NaN,this.c_k=null,this.c_old_errfunc=null,this.c_ctx=null,this.nresults=NaN,this.callstatus=NaN}},Dl=class{constructor(t){this.id=t.id_counter++,this.base_ci=new Nl,this.top=NaN,this.stack_last=NaN,this.oldpc=NaN,this.l_G=t,this.stack=null,this.ci=null,this.errorJmp=null,this.nCcalls=0,this.hook=null,this.hookmask=0,this.basehookcount=0,this.allowhook=1,this.hookcount=this.basehookcount,this.nny=1,this.status=Yg,this.errfunc=0}},Ps=class{constructor(){this.id_counter=1,this.ids=new WeakMap,this.mainthread=null,this.l_registry=new Cl.TValue(Zg,null),this.panic=null,this.atnativeerror=null,this.version=null,this.tmname=new Array(Qg.TMS.TM_N),this.mt=new Array(xy)}},my=function(e){let t=new Nl;return e.ci.next=t,t.previous=e.ci,t.next=null,e.ci=t,t},tA=function(e){let t=e.ci;t.next=null},nA=function(e,t){e.stack=new Array(Lg),e.top=0,e.stack_last=Lg-eA;let n=e.base_ci;n.next=n.previous=null,n.callstatus=0,n.funcOff=e.top,n.func=e.stack[e.top],e.stack[e.top++]=new Cl.TValue(Zg,null),n.top=e.top+Jg,e.ci=n},rA=function(e){e.ci=e.base_ci,tA(e),e.stack=null},vy=function(e,t){let n=ra.luaH_new(e);t.l_registry.sethvalue(n),ra.luaH_setint(n,Ay,new Cl.TValue($g,e)),ra.luaH_setint(n,gy,new Cl.TValue(ky,ra.luaH_new(e)))},Ty=function(e){let t=e.l_G;nA(e,e),vy(e,t),Qg.luaT_init(e),t.version=Wg.lua_version(null)},Ey=function(e){let t=e.l_G,n=new Dl(t);return e.stack[e.top]=new Cl.TValue($g,n),Wg.api_incr_top(e),n.hookmask=e.hookmask,n.basehookcount=e.basehookcount,n.hook=e.hook,n.hookcount=n.basehookcount,nA(n,e),n},Oy=function(e,t){rA(t)},Sy=function(){let e=new Ps,t=new Dl(e);return e.mainthread=t,by.luaD_rawrunprotected(t,Ty,null)!==Yg&&(t=null),t},wy=function(e){rA(e)},yy=function(e){e=e.l_G.mainthread,wy(e)};qe.exports.lua_State=Dl;qe.exports.CallInfo=Nl;qe.exports.CIST_OAH=1<<0;qe.exports.CIST_LUA=1<<1;qe.exports.CIST_HOOKED=1<<2;qe.exports.CIST_FRESH=1<<3;qe.exports.CIST_YPCALL=1<<4;qe.exports.CIST_TAIL=1<<5;qe.exports.CIST_HOOKYIELD=1<<6;qe.exports.CIST_LEQ=1<<7;qe.exports.CIST_FIN=1<<8;qe.exports.EXTRA_STACK=eA;qe.exports.lua_close=yy;qe.exports.lua_newstate=Sy;qe.exports.lua_newthread=Ey;qe.exports.luaE_extendCI=my;qe.exports.luaE_freeCI=tA;qe.exports.luaE_freethread=Oy});var Tt=w(($6,_e)=>{var{LUA_OPADD:Js,LUA_OPBAND:gA,LUA_OPBNOT:AA,LUA_OPBOR:xA,LUA_OPBXOR:kA,LUA_OPDIV:bA,LUA_OPIDIV:mA,LUA_OPMOD:vA,LUA_OPMUL:TA,LUA_OPPOW:EA,LUA_OPSHL:OA,LUA_OPSHR:SA,LUA_OPSUB:wA,LUA_OPUNM:yA,constant_types:{LUA_NUMTAGS:RA,LUA_TBOOLEAN:oA,LUA_TCCL:lA,LUA_TFUNCTION:iA,LUA_TLCF:aA,LUA_TLCL:uA,LUA_TLIGHTUSERDATA:sA,LUA_TLNGSTR:Ks,LUA_TNIL:Ml,LUA_TNUMBER:Ry,LUA_TNUMFLT:Bs,LUA_TNUMINT:qs,LUA_TSHRSTR:Uy,LUA_TSTRING:Cy,LUA_TTABLE:cA,LUA_TTHREAD:fA,LUA_TUSERDATA:pA},from_userstring:Ny,luastring_indexOf:Hs,luastring_of:Dy,to_jsstring:UA,to_luastring:et}=Ne(),{lisdigit:la,lisprint:Iy,lisspace:ia,lisxdigit:CA}=gs(),My=mn(),oa=zt(),Fy=bn(),{luaS_bless:Py,luaS_new:By}=nn(),qy=rn(),{LUA_COMPAT_FLOATSTRING:Vy,ldexp:Gy,lua_integer2str:Ky,lua_number2str:Hy}=dt(),Mt=Nr(),{MAX_INT:NA,luai_nummod:jy,lua_assert:Mr}=gt(),_A=Dr(),Xy=RA,js=RA+1,Wn=class{constructor(t,n){this.type=t,this.value=n}ttype(){return this.type&63}ttnov(){return this.type&15}checktag(t){return this.type===t}checktype(t){return this.ttnov()===t}ttisnumber(){return this.checktype(Ry)}ttisfloat(){return this.checktag(Bs)}ttisinteger(){return this.checktag(qs)}ttisnil(){return this.checktag(Ml)}ttisboolean(){return this.checktag(oA)}ttislightuserdata(){return this.checktag(sA)}ttisstring(){return this.checktype(Cy)}ttisshrstring(){return this.checktag(Uy)}ttislngstring(){return this.checktag(Ks)}ttistable(){return this.checktag(cA)}ttisfunction(){return this.checktype(iA)}ttisclosure(){return(this.type&31)===iA}ttisCclosure(){return this.checktag(lA)}ttisLclosure(){return this.checktag(uA)}ttislcf(){return this.checktag(aA)}ttisfulluserdata(){return this.checktag(pA)}ttisthread(){return this.checktag(fA)}ttisdeadkey(){return this.checktag(js)}l_isfalse(){return this.ttisnil()||this.ttisboolean()&&this.value===!1}setfltvalue(t){this.type=Bs,this.value=t}chgfltvalue(t){Mr(this.type==Bs),this.value=t}setivalue(t){this.type=qs,this.value=t}chgivalue(t){Mr(this.type==qs),this.value=t}setnilvalue(){this.type=Ml,this.value=null}setfvalue(t){this.type=aA,this.value=t}setpvalue(t){this.type=sA,this.value=t}setbvalue(t){this.type=oA,this.value=t}setsvalue(t){this.type=Ks,this.value=t}setuvalue(t){this.type=pA,this.value=t}setthvalue(t){this.type=fA,this.value=t}setclLvalue(t){this.type=uA,this.value=t}setclCvalue(t){this.type=lA,this.value=t}sethvalue(t){this.type=cA,this.value=t}setdeadvalue(){this.type=js,this.value=null}setfrom(t){this.type=t.type,this.value=t.value}tsvalue(){return Mr(this.ttisstring()),this.value}svalue(){return this.tsvalue().getstr()}vslen(){return this.tsvalue().tsslen()}jsstring(t,n){return UA(this.svalue(),t,n,!0)}},zy=function(e,t){e.stack[e.top++]=new Wn(t.type,t.value)},Ly=function(e,t){e.stack[e.top++]=new Wn(Ks,t)},Jy=function(e,t,n){e.stack[t].setfrom(e.stack[n])},Zy=function(e,t,n){e.stack[t].setfrom(n)},DA=function(e,t,n){e.stack[t].setsvalue(n)},IA=new Wn(Ml,null);Object.freeze(IA);_e.exports.luaO_nilobject=IA;var aa=class{constructor(t,n){this.id=t.l_G.id_counter++,this.p=null,this.nupvalues=n,this.upvals=new Array(n)}},ua=class{constructor(t,n,r){for(this.id=t.l_G.id_counter++,this.f=n,this.nupvalues=r,this.upvalue=new Array(r);r--;)this.upvalue[r]=new Wn(Ml,null)}},sa=class{constructor(t,n){this.id=t.l_G.id_counter++,this.metatable=null,this.uservalue=new Wn(Ml,null),this.len=n,this.data=Object.create(null)}},Xs=class{constructor(){this.varname=null,this.startpc=NaN,this.endpc=NaN}},mo=et("..."),Vs=et('[string "'),Gs=et('"]'),$y=function(e,t){let n=e.length,r;if(e[0]===61)n<t?(r=new Uint8Array(n-1),r.set(e.subarray(1))):(r=new Uint8Array(t),r.set(e.subarray(1,t+1)));else if(e[0]===64)n<=t?(r=new Uint8Array(n-1),r.set(e.subarray(1))):(r=new Uint8Array(t),r.set(mo),t-=mo.length,r.set(e.subarray(n-t),mo.length));else{r=new Uint8Array(t);let o=Hs(e,10);r.set(Vs);let l=Vs.length;t-=Vs.length+mo.length+Gs.length,n<t&&o===-1?(r.set(e,l),l+=e.length):(o!==-1&&(n=o),n>t&&(n=t),r.set(e.subarray(0,n),l),l+=n,r.set(mo,l),l+=mo.length),r.set(Gs,l),l+=Gs.length,r=r.subarray(0,l)}return r},Zs=function(e){return la(e)?e-48:(e&223)-55},vo=8,MA=function(e,t){let n=1;if(Mr(t<=1114111),t<128)e[vo-1]=t;else{let r=63;do e[vo-n++]=128|t&63,t>>=6,r>>=1;while(t>r);e[vo-n]=~r<<1|t}return n},Yy=30,Wy=function(e){let t=0,n=0,r=0,o=0,l=0,i,a=!1;for(;ia(e[t]);)t++;if(((i=e[t]===45)||e[t]===43)&&t++,!(e[t]===48&&(e[t+1]===120||e[t+1]===88)))return null;for(t+=2;;t++)if(e[t]===46){if(a)break;a=!0}else if(CA(e[t]))r===0&&e[t]===48?o++:++r<=Yy?n=n*16+Zs(e[t]):l++,a&&l--;else break;if(o+r===0)return null;if(l*=4,e[t]===112||e[t]===80){let u=0,c;if(t++,((c=e[t]===45)||e[t]===43)&&t++,!la(e[t]))return null;for(;la(e[t]);)u=u*10+e[t++]-48;c&&(u=-u),l+=u}return i&&(n=-n),{n:Gy(n,l),i:t}},Qy=function(e){try{e=UA(e)}catch(r){return null}let t=/^[\\t\\v\\f \\n\\r]*[+-]?(?:[0-9]+\\.?[0-9]*|\\.[0-9]*)(?:[eE][+-]?[0-9]+)?/.exec(e);if(!t)return null;let n=parseFloat(t[0]);return isNaN(n)?null:{n,i:t[0].length}},eR=function(e,t){let n=t==="x"?Wy(e):Qy(e);if(n===null)return null;for(;ia(e[n.i]);)n.i++;return n.i===e.length||e[n.i]===0?n:null},tR=[46,120,88,110,78],nR={[46]:".",[120]:"x",[88]:"x",[110]:"n",[78]:"n"},rR=function(e){let t=e.length,n=0;for(let l=0;l<t;l++){let i=e[l];if(tR.indexOf(i)!==-1){n=i;break}}let r=nR[n];return r==="n"?null:eR(e,r)},hA=Math.floor(NA/10),oR=NA%10,lR=function(e){let t=0,n=0,r=!0,o;for(;ia(e[t]);)t++;if(((o=e[t]===45)||e[t]===43)&&t++,e[t]===48&&(e[t+1]===120||e[t+1]===88))for(t+=2;t<e.length&&CA(e[t]);t++)n=n*16+Zs(e[t])|0,r=!1;else for(;t<e.length&&la(e[t]);t++){let l=e[t]-48;if(n>=hA&&(n>hA||l>oR+o))return null;n=n*10+l|0,r=!1}for(;t<e.length&&ia(e[t]);)t++;return r||t!==e.length&&e[t]!==0?null:{n:(o?-n:n)|0,i:t}},iR=function(e,t){let n=lR(e);return n!==null?(t.setivalue(n.n),n.i+1):(n=rR(e),n!==null?(t.setfltvalue(n.n),n.i+1):0)},zs=function(e,t){let n;if(t.ttisinteger())n=et(Ky(t.value));else{let r=Hy(t.value);!Vy&&/^[-0123456789]+$/.test(r)&&(r+=".0"),n=et(r)}t.setsvalue(Py(e,n))},At=function(e,t){oa.luaD_inctop(e),DA(e,e.top-1,By(e,t))},FA=function(e,t,n){let r=0,o=0,l=0,i;for(;i=Hs(t,37,o),i!=-1;){switch(At(e,t.subarray(o,i)),t[i+1]){case 115:{let a=n[l++];if(a===null)a=et("(null)",!0);else{a=Ny(a);let u=Hs(a,0);u!==-1&&(a=a.subarray(0,u))}At(e,a);break}case 99:{let a=n[l++];Iy(a)?At(e,Dy(a)):PA(e,et("<\\\\%d>",!0),a);break}case 100:case 73:oa.luaD_inctop(e),e.stack[e.top-1].setivalue(n[l++]),zs(e,e.stack[e.top-1]);break;case 102:oa.luaD_inctop(e),e.stack[e.top-1].setfltvalue(n[l++]),zs(e,e.stack[e.top-1]);break;case 112:{let a=n[l++];if(a instanceof Fy.lua_State||a instanceof qy.Table||a instanceof sa||a instanceof aa||a instanceof ua)At(e,et("0x"+a.id.toString(16)));else switch(typeof a){case"undefined":At(e,et("undefined"));break;case"number":At(e,et("Number("+a+")"));break;case"string":At(e,et("String("+JSON.stringify(a)+")"));break;case"boolean":At(e,et(a?"Boolean(true)":"Boolean(false)"));break;case"object":if(a===null){At(e,et("null"));break}case"function":{let u=e.l_G.ids.get(a);u||(u=e.l_G.id_counter++,e.l_G.ids.set(a,u)),At(e,et("0x"+u.toString(16)));break}default:At(e,et("<id NYI>"))}break}case 85:{let a=new Uint8Array(vo),u=MA(a,n[l++]);At(e,a.subarray(vo-u));break}case 37:At(e,et("%",!0));break;default:My.luaG_runerror(e,et("invalid option '%%%c' to 'lua_pushfstring'"),t[i+1])}r+=2,o=i+2}return oa.luaD_checkstack(e,1),At(e,t.subarray(o)),r>0&&Mt.luaV_concat(e,r+1),e.stack[e.top-1].svalue()},PA=function(e,t,...n){return FA(e,t,n)},aR=function(e){let t=0;if(e<8)return e;for(;e>=8<<4;)e=e+15>>4,t+=4;for(;e>=8<<1;)e=e+1>>1,t++;return t+1<<3|e-8},dA=function(e,t,n,r){switch(t){case Js:return n+r|0;case wA:return n-r|0;case TA:return Mt.luaV_imul(n,r);case vA:return Mt.luaV_mod(e,n,r);case mA:return Mt.luaV_div(e,n,r);case gA:return n&r;case xA:return n|r;case kA:return n^r;case OA:return Mt.luaV_shiftl(n,r);case SA:return Mt.luaV_shiftl(n,-r);case yA:return 0-n|0;case AA:return-1^n;default:Mr(0)}},Ls=function(e,t,n,r){switch(t){case Js:return n+r;case wA:return n-r;case TA:return n*r;case bA:return n/r;case EA:return Math.pow(n,r);case mA:return Math.floor(n/r);case yA:return-n;case vA:return jy(e,n,r);default:Mr(0)}},uR=function(e,t,n,r,o){let l=typeof o=="number"?e.stack[o]:o;switch(t){case gA:case xA:case kA:case OA:case SA:case AA:{let i,a;if((i=Mt.tointeger(n))!==!1&&(a=Mt.tointeger(r))!==!1){l.setivalue(dA(e,t,i,a));return}else break}case bA:case EA:{let i,a;if((i=Mt.tonumber(n))!==!1&&(a=Mt.tonumber(r))!==!1){l.setfltvalue(Ls(e,t,i,a));return}else break}default:{let i,a;if(n.ttisinteger()&&r.ttisinteger()){l.setivalue(dA(e,t,n.value,r.value));return}else if((i=Mt.tonumber(n))!==!1&&(a=Mt.tonumber(r))!==!1){l.setfltvalue(Ls(e,t,i,a));return}else break}}Mr(e!==null),_A.luaT_trybinTM(e,n,r,o,t-Js+_A.TMS.TM_ADD)};_e.exports.CClosure=ua;_e.exports.LClosure=aa;_e.exports.LUA_TDEADKEY=js;_e.exports.LUA_TPROTO=Xy;_e.exports.LocVar=Xs;_e.exports.TValue=Wn;_e.exports.Udata=sa;_e.exports.UTF8BUFFSZ=vo;_e.exports.luaO_arith=uR;_e.exports.luaO_chunkid=$y;_e.exports.luaO_hexavalue=Zs;_e.exports.luaO_int2fb=aR;_e.exports.luaO_pushfstring=PA;_e.exports.luaO_pushvfstring=FA;_e.exports.luaO_str2num=iR;_e.exports.luaO_tostring=zs;_e.exports.luaO_utf8esc=MA;_e.exports.numarith=Ls;_e.exports.pushobj2s=zy;_e.exports.pushsvalue2s=Ly;_e.exports.setobjs2s=Jy;_e.exports.setobj2s=Zy;_e.exports.setsvalue2s=DA});var Ir=w((Y6,Qn)=>{var{constant_types:{LUA_TNIL:sR}}=Ne(),Ys=Tt(),$s=class{constructor(t){this.id=t.l_G.id_counter++,this.k=[],this.p=[],this.code=[],this.cache=null,this.lineinfo=[],this.upvalues=[],this.numparams=0,this.is_vararg=!1,this.maxstacksize=0,this.locvars=[],this.linedefined=0,this.lastlinedefined=0,this.source=null}},cR=function(e,t){return new Ys.LClosure(e,t)},fR=function(e,t){return e.stack[t]},pR=function(e,t){for(let n=t;n<e.top;n++){let r=e.stack[n];e.stack[n]=new Ys.TValue(r.type,r.value)}},_R=function(e,t){for(let n=0;n<t.nupvalues;n++)t.upvals[n]=new Ys.TValue(sR,null)},hR=function(e,t,n){for(let r=0;r<e.locvars.length&&e.locvars[r].startpc<=n;r++)if(n<e.locvars[r].endpc&&(t--,t===0))return e.locvars[r].varname.getstr();return null};Qn.exports.MAXUPVAL=255;Qn.exports.Proto=$s;Qn.exports.luaF_findupval=fR;Qn.exports.luaF_close=pR;Qn.exports.luaF_getlocalname=hR;Qn.exports.luaF_initupvals=_R;Qn.exports.luaF_newLclosure=cR});var Fl=w((W6,an)=>{var{lua_assert:BA}=gt(),Ws=class{constructor(){this.buffer=null,this.n=0}},dR=function(e){return e.buffer.subarray(0,e.n)},gR=function(e,t){e.n-=t},AR=function(e){e.n=0},xR=function(e,t,n){let r=new Uint8Array(n);t.buffer&&r.set(t.buffer),t.buffer=r},Qs=class{constructor(t,n,r){this.L=t,BA(typeof n=="function","ZIO requires a reader"),this.reader=n,this.data=r,this.n=0,this.buffer=null,this.off=0}zgetc(){return this.n-- >0?this.buffer[this.off++]:ec(this)}},ca=-1,ec=function(e){let t=e.reader(e.L,e.data);if(t===null)return ca;BA(t instanceof Uint8Array,"Should only load binary of array of bytes");let n=t.length;return n===0?ca:(e.buffer=t,e.off=0,e.n=n-1,e.buffer[e.off++])},kR=function(e,t,n,r){for(;r;){if(e.n===0){if(ec(e)===ca)return r;e.n++,e.off--}let o=r<=e.n?r:e.n;for(let l=0;l<o;l++)t[n++]=e.buffer[e.off++];e.n-=o,e.n===0&&(e.buffer=null),r-=o}return 0};an.exports.EOZ=ca;an.exports.luaZ_buffer=dR;an.exports.luaZ_buffremove=gR;an.exports.luaZ_fill=ec;an.exports.luaZ_read=kR;an.exports.luaZ_resetbuffer=AR;an.exports.luaZ_resizebuffer=xR;an.exports.MBuffer=Ws;an.exports.ZIO=Qs});var Aa=w((Q6,St)=>{var{constant_types:{LUA_TBOOLEAN:bR,LUA_TLNGSTR:mR},thread_status:{LUA_ERRSYNTAX:vR},to_luastring:Ve}=Ne(),{LUA_MINBUFFER:TR,MAX_INT:GA,lua_assert:Eo}=gt(),ER=mn(),OR=zt(),{lisdigit:ha,lislalnum:SR,lislalpha:wR,lisspace:yR,lisxdigit:lc}=gs(),Ot=Tt(),{luaS_bless:RR,luaS_hash:UR,luaS_hashlongstr:ic,luaS_new:CR}=nn(),NR=rn(),{EOZ:Oo,luaZ_buffer:ac,luaZ_buffremove:Pl,luaZ_resetbuffer:fa,luaZ_resizebuffer:KA}=Fl(),$=257,HA=Ve("_ENV",!0),DR=$,IR=$+1,MR=$+2,FR=$+3,PR=$+4,BR=$+5,qR=$+6,VR=$+7,GR=$+8,KR=$+9,HR=$+10,jR=$+11,XR=$+12,zR=$+13,LR=$+14,JR=$+15,ZR=$+16,$R=$+17,YR=$+18,WR=$+19,QR=$+20,eU=$+21,jA=$+22,XA=$+23,zA=$+24,LA=$+25,JA=$+26,ZA=$+27,$A=$+28,YA=$+29,WA=$+30,QA=$+31,vn=$+32,pa=$+33,uc=$+34,sc=$+35,Fr=$+36,tU={TK_AND:DR,TK_BREAK:IR,TK_DO:MR,TK_ELSE:FR,TK_ELSEIF:PR,TK_END:BR,TK_FALSE:qR,TK_FOR:VR,TK_FUNCTION:GR,TK_GOTO:KR,TK_IF:HR,TK_IN:jR,TK_LOCAL:XR,TK_NIL:zR,TK_NOT:LR,TK_OR:JR,TK_REPEAT:ZR,TK_RETURN:$R,TK_THEN:YR,TK_TRUE:WR,TK_UNTIL:QR,TK_WHILE:eU,TK_IDIV:jA,TK_CONCAT:XA,TK_DOTS:zA,TK_EQ:LA,TK_GE:JA,TK_LE:ZA,TK_NE:$A,TK_SHL:YA,TK_SHR:WA,TK_DBCOLON:QA,TK_EOS:vn,TK_FLT:pa,TK_INT:uc,TK_NAME:sc,TK_STRING:Fr},cc=["and","break","do","else","elseif","end","false","for","function","goto","if","in","local","nil","not","or","repeat","return","then","true","until","while","//","..","...","==",">=","<=","~=","<<",">>","::","<eof>","<number>","<integer>","<name>","<string>"].map((e,t)=>Ve(e)),Bl=class{constructor(){this.r=NaN,this.i=NaN,this.ts=null}},_a=class{constructor(){this.token=NaN,this.seminfo=new Bl}},nc=class{constructor(){this.current=NaN,this.linenumber=NaN,this.lastline=NaN,this.t=new _a,this.lookahead=new _a,this.fs=null,this.L=null,this.z=null,this.buff=null,this.h=null,this.dyd=null,this.source=null,this.envn=null}},da=function(e,t){let n=e.buff;if(n.n+1>n.buffer.length){n.buffer.length>=GA/2&&Tn(e,Ve("lexical element too long",!0),0);let r=n.buffer.length*2;KA(e.L,n,r)}n.buffer[n.n++]=t<0?255+t+1:t},ex=function(e,t){if(t<$)return Ot.luaO_pushfstring(e.L,Ve("'%c'",!0),t);{let n=cc[t-$];return t<vn?Ot.luaO_pushfstring(e.L,Ve("'%s'",!0),n):n}},ql=function(e){return e.current===10||e.current===13},Fe=function(e){e.current=e.z.zgetc()},we=function(e){da(e,e.current),Fe(e)},nU=new Ot.TValue(bR,!0),ga=function(e,t){let n=e.L,r=CR(n,t),o=e.h.strong.get(ic(r));if(o)r=o.key.tsvalue();else{let l=new Ot.TValue(mR,r);NR.luaH_setfrom(n,e.h,l,nU)}return r},Vl=function(e){let t=e.current;Eo(ql(e)),Fe(e),ql(e)&&e.current!==t&&Fe(e),++e.linenumber>=GA&&Tn(e,Ve("chunk has too many lines",!0),0)},rU=function(e,t,n,r,o){t.t={token:0,seminfo:new Bl},t.L=e,t.current=o,t.lookahead={token:vn,seminfo:new Bl},t.z=n,t.fs=null,t.linenumber=1,t.lastline=1,t.source=r,t.envn=RR(e,HA),KA(e,t.buff,TR)},un=function(e,t){return e.current===t?(Fe(e),!0):!1},tc=function(e,t){return e.current===t[0].charCodeAt(0)||e.current===t[1].charCodeAt(0)?(we(e),!0):!1},qA=function(e,t){let n="Ee",r=e.current;for(Eo(ha(e.current)),we(e),r===48&&tc(e,"xX")&&(n="Pp");;)if(tc(e,n)&&tc(e,"-+"),lc(e.current))we(e);else if(e.current===46)we(e);else break;let o=new Ot.TValue;return Ot.luaO_str2num(ac(e.buff),o)===0&&Tn(e,Ve("malformed number",!0),pa),o.ttisinteger()?(t.i=o.value,uc):(Eo(o.ttisfloat()),t.r=o.value,pa)},oU=function(e,t){switch(t){case sc:case Fr:case pa:case uc:return Ot.luaO_pushfstring(e.L,Ve("'%s'",!0),ac(e.buff));default:return ex(e,t)}},Tn=function(e,t,n){t=ER.luaG_addinfo(e.L,t,e.source,e.linenumber),n&&Ot.luaO_pushfstring(e.L,Ve("%s near %s"),t,oU(e,n)),OR.luaD_throw(e.L,vR)},lU=function(e,t){Tn(e,t,e.t.token)},rc=function(e){let t=0,n=e.current;for(Eo(n===91||n===93),we(e);e.current===61;)we(e),t++;return e.current===n?t:-t-1},VA=function(e,t,n){let r=e.linenumber;we(e),ql(e)&&Vl(e);let o=!1;for(;!o;)switch(e.current){case Oo:{let i=\`unfinished long \${t?"string":"comment"} (starting at line \${r})\`;Tn(e,Ve(i),vn);break}case 93:{rc(e)===n&&(we(e),o=!0);break}case 10:case 13:{da(e,10),Vl(e),t||fa(e.buff);break}default:t?we(e):Fe(e)}t&&(t.ts=ga(e,e.buff.buffer.subarray(2+n,e.buff.n-(2+n))))},To=function(e,t,n){t||(e.current!==Oo&&we(e),Tn(e,n,Fr))},oc=function(e){return we(e),To(e,lc(e.current),Ve("hexadecimal digit expected",!0)),Ot.luaO_hexavalue(e.current)},iU=function(e){let t=oc(e);return t=(t<<4)+oc(e),Pl(e.buff,2),t},aU=function(e){let t=4;we(e),To(e,e.current===123,Ve("missing '{'",!0));let n=oc(e);for(we(e);lc(e.current);)t++,n=(n<<4)+Ot.luaO_hexavalue(e.current),To(e,n<=1114111,Ve("UTF-8 value too large",!0)),we(e);return To(e,e.current===125,Ve("missing '}'",!0)),Fe(e),Pl(e.buff,t),n},uU=function(e){let t=new Uint8Array(Ot.UTF8BUFFSZ),n=Ot.luaO_utf8esc(t,aU(e));for(;n>0;n--)da(e,t[Ot.UTF8BUFFSZ-n])},sU=function(e){let t=0,n;for(n=0;n<3&&ha(e.current);n++)t=10*t+e.current-48,we(e);return To(e,t<=255,Ve("decimal escape too large",!0)),Pl(e.buff,n),t},cU=function(e,t,n){for(we(e);e.current!==t;)switch(e.current){case Oo:Tn(e,Ve("unfinished string",!0),vn);break;case 10:case 13:Tn(e,Ve("unfinished string",!0),Fr);break;case 92:{we(e);let r,o;switch(e.current){case 97:o=7,r="read_save";break;case 98:o=8,r="read_save";break;case 102:o=12,r="read_save";break;case 110:o=10,r="read_save";break;case 114:o=13,r="read_save";break;case 116:o=9,r="read_save";break;case 118:o=11,r="read_save";break;case 120:o=iU(e),r="read_save";break;case 117:uU(e),r="no_save";break;case 10:case 13:Vl(e),o=10,r="only_save";break;case 92:case 34:case 39:o=e.current,r="read_save";break;case Oo:r="no_save";break;case 122:{for(Pl(e.buff,1),Fe(e);yR(e.current);)ql(e)?Vl(e):Fe(e);r="no_save";break}default:{To(e,ha(e.current),Ve("invalid escape sequence",!0)),o=sU(e),r="only_save";break}}r==="read_save"&&Fe(e),(r==="read_save"||r==="only_save")&&(Pl(e.buff,1),da(e,o));break}default:we(e)}we(e),n.ts=ga(e,e.buff.buffer.subarray(1,e.buff.n-1))},fc=Object.create(null);cc.forEach((e,t)=>fc[UR(e)]=t);var fU=function(e){let t=fc[ic(e)];return t!==void 0&&t<=22},tx=function(e,t){for(fa(e.buff);;)switch(Eo(typeof e.current=="number"),e.current){case 10:case 13:{Vl(e);break}case 32:case 12:case 9:case 11:{Fe(e);break}case 45:{if(Fe(e),e.current!==45)return 45;if(Fe(e),e.current===91){let n=rc(e);if(fa(e.buff),n>=0){VA(e,null,n),fa(e.buff);break}}for(;!ql(e)&&e.current!==Oo;)Fe(e);break}case 91:{let n=rc(e);return n>=0?(VA(e,t,n),Fr):(n!==-1&&Tn(e,Ve("invalid long string delimiter",!0),Fr),91)}case 61:return Fe(e),un(e,61)?LA:61;case 60:return Fe(e),un(e,61)?ZA:un(e,60)?YA:60;case 62:return Fe(e),un(e,61)?JA:un(e,62)?WA:62;case 47:return Fe(e),un(e,47)?jA:47;case 126:return Fe(e),un(e,61)?$A:126;case 58:return Fe(e),un(e,58)?QA:58;case 34:case 39:return cU(e,e.current,t),Fr;case 46:return we(e),un(e,46)?un(e,46)?zA:XA:ha(e.current)?qA(e,t):46;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return qA(e,t);case Oo:return vn;default:if(wR(e.current)){do we(e);while(SR(e.current));let n=ga(e,ac(e.buff));t.ts=n;let r=fc[ic(n)];return r!==void 0&&r<=22?r+$:sc}else{let n=e.current;return Fe(e),n}}},pU=function(e){e.lastline=e.linenumber,e.lookahead.token!==vn?(e.t.token=e.lookahead.token,e.t.seminfo.i=e.lookahead.seminfo.i,e.t.seminfo.r=e.lookahead.seminfo.r,e.t.seminfo.ts=e.lookahead.seminfo.ts,e.lookahead.token=vn):e.t.token=tx(e,e.t.seminfo)},_U=function(e){return Eo(e.lookahead.token===vn),e.lookahead.token=tx(e,e.lookahead.seminfo),e.lookahead.token};St.exports.FIRST_RESERVED=$;St.exports.LUA_ENV=HA;St.exports.LexState=nc;St.exports.RESERVED=tU;St.exports.isreserved=fU;St.exports.luaX_lookahead=_U;St.exports.luaX_newstring=ga;St.exports.luaX_next=pU;St.exports.luaX_setinput=rU;St.exports.luaX_syntaxerror=lU;St.exports.luaX_token2str=ex;St.exports.luaX_tokens=cc});var yx=w((e5,J)=>{var{LUA_MULTRET:hc,LUA_OPADD:hU,LUA_OPBAND:dU,LUA_OPBNOT:gU,LUA_OPBOR:AU,LUA_OPBXOR:xU,LUA_OPDIV:kU,LUA_OPIDIV:bU,LUA_OPMOD:mU,LUA_OPSHL:vU,LUA_OPSHR:TU,LUA_OPUNM:EU,constant_types:{LUA_TBOOLEAN:OU,LUA_TLIGHTUSERDATA:SU,LUA_TLNGSTR:wU,LUA_TNIL:yU,LUA_TNUMFLT:sx,LUA_TNUMINT:dc,LUA_TTABLE:RU},to_luastring:gc}=Ne(),{lua_assert:me}=gt(),Ac=Aa(),xc=Tt(),G=Ur(),ae=Ec(),nx=rn(),rx=Nr(),te=G.OpCodesI,sn=xc.TValue,UU=255,fe=-1,Z={OPR_ADD:0,OPR_SUB:1,OPR_MUL:2,OPR_MOD:3,OPR_POW:4,OPR_DIV:5,OPR_IDIV:6,OPR_BAND:7,OPR_BOR:8,OPR_BXOR:9,OPR_SHL:10,OPR_SHR:11,OPR_CONCAT:12,OPR_EQ:13,OPR_LT:14,OPR_LE:15,OPR_NE:16,OPR_GT:17,OPR_GE:18,OPR_AND:19,OPR_OR:20,OPR_NOBINOPR:21},Gl={OPR_MINUS:0,OPR_BNOT:1,OPR_NOT:2,OPR_LEN:3,OPR_NOUNOPR:4},wo=function(e){return e.t!==e.f},pc=function(e,t){let n=ae.expkind;if(wo(e))return!1;switch(e.k){case n.VKINT:return t?new sn(dc,e.u.ival):!0;case n.VKFLT:return t?new sn(sx,e.u.nval):!0;default:return!1}},cx=function(e,t,n){let r,o=t+n-1;if(e.pc>e.lasttarget&&(r=e.f.code[e.pc-1],r.opcode===te.OP_LOADNIL)){let l=r.A,i=l+r.B;if(l<=t&&t<=i+1||t<=l&&l<=o+1){l<t&&(t=l),i>o&&(o=i),G.SETARG_A(r,t),G.SETARG_B(r,o-t);return}}tt(e,te.OP_LOADNIL,t,n-1,0)},En=function(e,t){return e.f.code[t.u.info]},So=function(e,t){let n=e.f.code[t].sBx;return n===fe?fe:t+1+n},_c=function(e,t,n){let r=e.f.code[t],o=n-(t+1);me(n!==fe),Math.abs(o)>G.MAXARG_sBx&&Ac.luaX_syntaxerror(e.ls,gc("control structure too long",!0)),G.SETARG_sBx(r,o)},er=function(e,t,n){if(n===fe)return t;if(t===fe)t=n;else{let r=t,o=So(e,r);for(;o!==fe;)r=o,o=So(e,r);_c(e,r,n)}return t},ma=function(e){let t=e.jpc;e.jpc=fe;let n=dx(e,te.OP_JMP,0,fe);return n=er(e,n,t),n},CU=function(e,t){return hx(e,ma(e),t)},NU=function(e,t,n){tt(e,te.OP_RETURN,t,n+1,0)},Kl=function(e,t,n,r,o){return tt(e,t,n,r,o),ma(e)},va=function(e){return e.lasttarget=e.pc,e.pc},fx=function(e,t){return t>=1&&G.testTMode(e.f.code[t-1].opcode)?t-1:t},px=function(e,t){return e.f.code[fx(e,t)]},_x=function(e,t,n){let r=fx(e,t),o=e.f.code[r];return o.opcode!==te.OP_TESTSET?!1:(n!==G.NO_REG&&n!==o.B?G.SETARG_A(o,n):e.f.code[r]=G.CREATE_ABC(te.OP_TEST,o.B,0,o.C),!0)},ox=function(e,t){for(;t!==fe;t=So(e,t))_x(e,t,G.NO_REG)},ka=function(e,t,n,r,o){for(;t!==fe;){let l=So(e,t);_x(e,t,r)?_c(e,t,n):_c(e,t,o),t=l}},DU=function(e){ka(e,e.jpc,e.pc,G.NO_REG,e.pc),e.jpc=fe},Hl=function(e,t){va(e),e.jpc=er(e,e.jpc,t)},hx=function(e,t,n){n===e.pc?Hl(e,t):(me(n<e.pc),ka(e,t,n,G.NO_REG,n))},IU=function(e,t,n){for(n++;t!==fe;t=So(e,t)){let r=e.f.code[t];me(r.opcode===te.OP_JMP&&(r.A===0||r.A>=n)),G.SETARG_A(r,n)}},Ta=function(e,t){let n=e.f;return DU(e),n.code[e.pc]=t,n.lineinfo[e.pc]=e.ls.lastline,e.pc++},tt=function(e,t,n,r,o){return me(G.getOpMode(t)===G.iABC),me(G.getBMode(t)!==G.OpArgN||r===0),me(G.getCMode(t)!==G.OpArgN||o===0),me(n<=G.MAXARG_A&&r<=G.MAXARG_B&&o<=G.MAXARG_C),Ta(e,G.CREATE_ABC(t,n,r,o))},ba=function(e,t,n,r){return me(G.getOpMode(t)===G.iABx||G.getOpMode(t)===G.iAsBx),me(G.getCMode(t)===G.OpArgN),me(n<=G.MAXARG_A&&r<=G.MAXARG_Bx),Ta(e,G.CREATE_ABx(t,n,r))},dx=function(e,t,n,r){return ba(e,t,n,r+G.MAXARG_sBx)},gx=function(e,t){return me(t<=G.MAXARG_Ax),Ta(e,G.CREATE_Ax(te.OP_EXTRAARG,t))},xa=function(e,t,n){if(n<=G.MAXARG_Bx)return ba(e,te.OP_LOADK,t,n);{let r=ba(e,te.OP_LOADKX,t,0);return gx(e,n),r}},Ax=function(e,t){let n=e.freereg+t;n>e.f.maxstacksize&&(n>=UU&&Ac.luaX_syntaxerror(e.ls,gc("function or expression needs too many registers",!0)),e.f.maxstacksize=n)},jl=function(e,t){Ax(e,t),e.freereg+=t},Pr=function(e,t){!G.ISK(t)&&t>=e.nactvar&&(e.freereg--,me(t===e.freereg))},On=function(e,t){t.k===ae.expkind.VNONRELOC&&Pr(e,t.u.info)},xx=function(e,t,n){let r=t.k===ae.expkind.VNONRELOC?t.u.info:-1,o=n.k===ae.expkind.VNONRELOC?n.u.info:-1;r>o?(Pr(e,r),Pr(e,o)):(Pr(e,o),Pr(e,r))},Xl=function(e,t,n){let r=e.f,o=nx.luaH_get(e.L,e.ls.h,t);if(o.ttisinteger()){let i=o.value;if(i<e.nk&&r.k[i].ttype()===n.ttype()&&r.k[i].value===n.value)return i}let l=e.nk;return nx.luaH_setfrom(e.L,e.ls.h,t,new xc.TValue(dc,l)),r.k[l]=n,e.nk++,l},MU=function(e,t){let n=new sn(wU,t);return Xl(e,n,n)},kc=function(e,t){let n=new sn(SU,t),r=new sn(dc,t);return Xl(e,n,r)},bc=function(e,t){let n=new sn(sx,t);return Xl(e,n,n)},lx=function(e,t){let n=new sn(OU,t);return Xl(e,n,n)},FU=function(e){let t=new sn(yU,null),n=new sn(RU,e.ls.h);return Xl(e,n,t)},kx=function(e,t,n){let r=ae.expkind;if(t.k===r.VCALL)G.SETARG_C(En(e,t),n+1);else if(t.k===r.VVARARG){let o=En(e,t);G.SETARG_B(o,n+1),G.SETARG_A(o,e.freereg),jl(e,1)}else me(n===hc)},PU=function(e,t){kx(e,t,hc)},bx=function(e,t){let n=ae.expkind;t.k===n.VCALL?(me(En(e,t).C===2),t.k=n.VNONRELOC,t.u.info=En(e,t).A):t.k===n.VVARARG&&(G.SETARG_B(En(e,t),2),t.k=n.VRELOCABLE)},cn=function(e,t){let n=ae.expkind;switch(t.k){case n.VLOCAL:{t.k=n.VNONRELOC;break}case n.VUPVAL:{t.u.info=tt(e,te.OP_GETUPVAL,0,t.u.info,0),t.k=n.VRELOCABLE;break}case n.VINDEXED:{let r;Pr(e,t.u.ind.idx),t.u.ind.vt===n.VLOCAL?(Pr(e,t.u.ind.t),r=te.OP_GETTABLE):(me(t.u.ind.vt===n.VUPVAL),r=te.OP_GETTABUP),t.u.info=tt(e,r,0,t.u.ind.t,t.u.ind.idx),t.k=n.VRELOCABLE;break}case n.VVARARG:case n.VCALL:{bx(e,t);break}default:break}},ix=function(e,t,n,r){return va(e),tt(e,te.OP_LOADBOOL,t,n,r)},mx=function(e,t,n){let r=ae.expkind;switch(cn(e,t),t.k){case r.VNIL:{cx(e,n,1);break}case r.VFALSE:case r.VTRUE:{tt(e,te.OP_LOADBOOL,n,t.k===r.VTRUE,0);break}case r.VK:{xa(e,n,t.u.info);break}case r.VKFLT:{xa(e,n,bc(e,t.u.nval));break}case r.VKINT:{xa(e,n,kc(e,t.u.ival));break}case r.VRELOCABLE:{let o=En(e,t);G.SETARG_A(o,n);break}case r.VNONRELOC:{n!==t.u.info&&tt(e,te.OP_MOVE,n,t.u.info,0);break}default:{me(t.k===r.VJMP);return}}t.u.info=n,t.k=r.VNONRELOC},vx=function(e,t){t.k!==ae.expkind.VNONRELOC&&(jl(e,1),mx(e,t,e.freereg-1))},ax=function(e,t){for(;t!==fe;t=So(e,t))if(px(e,t).opcode!==te.OP_TESTSET)return!0;return!1},mc=function(e,t,n){let r=ae.expkind;if(mx(e,t,n),t.k===r.VJMP&&(t.t=er(e,t.t,t.u.info)),wo(t)){let o,l=fe,i=fe;if(ax(e,t.t)||ax(e,t.f)){let a=t.k===r.VJMP?fe:ma(e);l=ix(e,n,0,1),i=ix(e,n,1,0),Hl(e,a)}o=va(e),ka(e,t.f,o,n,l),ka(e,t.t,o,n,i)}t.f=t.t=fe,t.u.info=n,t.k=r.VNONRELOC},Ea=function(e,t){cn(e,t),On(e,t),jl(e,1),mc(e,t,e.freereg-1)},Br=function(e,t){if(cn(e,t),t.k===ae.expkind.VNONRELOC){if(!wo(t))return t.u.info;if(t.u.info>=e.nactvar)return mc(e,t,t.u.info),t.u.info}return Ea(e,t),t.u.info},BU=function(e,t){(t.k!==ae.expkind.VUPVAL||wo(t))&&Br(e,t)},vc=function(e,t){wo(t)?Br(e,t):cn(e,t)},Sn=function(e,t){let n=ae.expkind,r=!1;switch(vc(e,t),t.k){case n.VTRUE:t.u.info=lx(e,!0),r=!0;break;case n.VFALSE:t.u.info=lx(e,!1),r=!0;break;case n.VNIL:t.u.info=FU(e),r=!0;break;case n.VKINT:t.u.info=kc(e,t.u.ival),r=!0;break;case n.VKFLT:t.u.info=bc(e,t.u.nval),r=!0;break;case n.VK:r=!0;break;default:break}return r&&(t.k=n.VK,t.u.info<=G.MAXINDEXRK)?G.RKASK(t.u.info):Br(e,t)},qU=function(e,t,n){let r=ae.expkind;switch(t.k){case r.VLOCAL:{On(e,n),mc(e,n,t.u.info);return}case r.VUPVAL:{let o=Br(e,n);tt(e,te.OP_SETUPVAL,o,t.u.info,0);break}case r.VINDEXED:{let o=t.u.ind.vt===r.VLOCAL?te.OP_SETTABLE:te.OP_SETTABUP,l=Sn(e,n);tt(e,o,t.u.ind.t,t.u.ind.idx,l);break}}On(e,n)},VU=function(e,t,n){Br(e,t);let r=t.u.info;On(e,t),t.u.info=e.freereg,t.k=ae.expkind.VNONRELOC,jl(e,2),tt(e,te.OP_SELF,t.u.info,r,Sn(e,n)),On(e,n)},Tx=function(e,t){let n=px(e,t.u.info);me(G.testTMode(n.opcode)&&n.opcode!==te.OP_TESTSET&&n.opcode!==te.OP_TEST),G.SETARG_A(n,!n.A)},Ex=function(e,t,n){if(t.k===ae.expkind.VRELOCABLE){let r=En(e,t);if(r.opcode===te.OP_NOT)return e.pc--,Kl(e,te.OP_TEST,r.B,0,!n)}return vx(e,t),On(e,t),Kl(e,te.OP_TESTSET,G.NO_REG,t.u.info,n)},Ox=function(e,t){let n=ae.expkind,r;switch(cn(e,t),t.k){case n.VJMP:{Tx(e,t),r=t.u.info;break}case n.VK:case n.VKFLT:case n.VKINT:case n.VTRUE:{r=fe;break}default:{r=Ex(e,t,0);break}}t.f=er(e,t.f,r),Hl(e,t.t),t.t=fe},Sx=function(e,t){let n=ae.expkind,r;switch(cn(e,t),t.k){case n.VJMP:{r=t.u.info;break}case n.VNIL:case n.VFALSE:{r=fe;break}default:{r=Ex(e,t,1);break}}t.t=er(e,t.t,r),Hl(e,t.f),t.f=fe},GU=function(e,t){let n=ae.expkind;switch(cn(e,t),t.k){case n.VNIL:case n.VFALSE:{t.k=n.VTRUE;break}case n.VK:case n.VKFLT:case n.VKINT:case n.VTRUE:{t.k=n.VFALSE;break}case n.VJMP:{Tx(e,t);break}case n.VRELOCABLE:case n.VNONRELOC:{vx(e,t),On(e,t),t.u.info=tt(e,te.OP_NOT,0,t.u.info,0),t.k=n.VRELOCABLE;break}}{let r=t.f;t.f=t.t,t.t=r}ox(e,t.f),ox(e,t.t)},KU=function(e,t,n){let r=ae.expkind;me(!wo(t)&&(ae.vkisinreg(t.k)||t.k===r.VUPVAL)),t.u.ind.t=t.u.info,t.u.ind.idx=Sn(e,n),t.u.ind.vt=t.k===r.VUPVAL?r.VUPVAL:r.VLOCAL,t.k=r.VINDEXED},HU=function(e,t,n){switch(e){case dU:case AU:case xU:case vU:case TU:case gU:return rx.tointeger(t)!==!1&&rx.tointeger(n)!==!1;case kU:case bU:case mU:return n.value!==0;default:return 1}},wx=function(e,t,n){let r=ae.expkind,o,l;if(!(o=pc(t,!0))||!(l=pc(n,!0))||!HU(e,o,l))return 0;let i=new sn;if(xc.luaO_arith(null,e,o,l,i),i.ttisinteger())t.k=r.VKINT,t.u.ival=i.value;else{let a=i.value;if(isNaN(a)||a===0)return!1;t.k=r.VKFLT,t.u.nval=a}return!0},jU=function(e,t,n,r){let o=Br(e,n);On(e,n),n.u.info=tt(e,t,0,o,0),n.k=ae.expkind.VRELOCABLE,Tc(e,r)},ux=function(e,t,n,r,o){let l=Sn(e,r),i=Sn(e,n);xx(e,n,r),n.u.info=tt(e,t,0,i,l),n.k=ae.expkind.VRELOCABLE,Tc(e,o)},XU=function(e,t,n,r){let o=ae.expkind,l;n.k===o.VK?l=G.RKASK(n.u.info):(me(n.k===o.VNONRELOC),l=n.u.info);let i=Sn(e,r);switch(xx(e,n,r),t){case Z.OPR_NE:{n.u.info=Kl(e,te.OP_EQ,0,l,i);break}case Z.OPR_GT:case Z.OPR_GE:{let a=t-Z.OPR_NE+te.OP_EQ;n.u.info=Kl(e,a,1,i,l);break}default:{let a=t-Z.OPR_EQ+te.OP_EQ;n.u.info=Kl(e,a,1,l,i);break}}n.k=o.VJMP},zU=function(e,t,n,r){let o=new ae.expdesc;switch(o.k=ae.expkind.VKINT,o.u.ival=o.u.nval=o.u.info=0,o.t=fe,o.f=fe,t){case Gl.OPR_MINUS:case Gl.OPR_BNOT:if(wx(t+EU,n,o))break;case Gl.OPR_LEN:jU(e,t+te.OP_UNM,n,r);break;case Gl.OPR_NOT:GU(e,n);break}},LU=function(e,t,n){switch(t){case Z.OPR_AND:{Ox(e,n);break}case Z.OPR_OR:{Sx(e,n);break}case Z.OPR_CONCAT:{Ea(e,n);break}case Z.OPR_ADD:case Z.OPR_SUB:case Z.OPR_MUL:case Z.OPR_DIV:case Z.OPR_IDIV:case Z.OPR_MOD:case Z.OPR_POW:case Z.OPR_BAND:case Z.OPR_BOR:case Z.OPR_BXOR:case Z.OPR_SHL:case Z.OPR_SHR:{pc(n,!1)||Sn(e,n);break}default:{Sn(e,n);break}}},JU=function(e,t,n,r,o){let l=ae.expkind;switch(t){case Z.OPR_AND:{me(n.t===fe),cn(e,r),r.f=er(e,r.f,n.f),n.to(r);break}case Z.OPR_OR:{me(n.f===fe),cn(e,r),r.t=er(e,r.t,n.t),n.to(r);break}case Z.OPR_CONCAT:{vc(e,r);let i=En(e,r);r.k===l.VRELOCABLE&&i.opcode===te.OP_CONCAT?(me(n.u.info===i.B-1),On(e,n),G.SETARG_B(i,n.u.info),n.k=l.VRELOCABLE,n.u.info=r.u.info):(Ea(e,r),ux(e,te.OP_CONCAT,n,r,o));break}case Z.OPR_ADD:case Z.OPR_SUB:case Z.OPR_MUL:case Z.OPR_DIV:case Z.OPR_IDIV:case Z.OPR_MOD:case Z.OPR_POW:case Z.OPR_BAND:case Z.OPR_BOR:case Z.OPR_BXOR:case Z.OPR_SHL:case Z.OPR_SHR:{wx(t+hU,n,r)||ux(e,t+te.OP_ADD,n,r,o);break}case Z.OPR_EQ:case Z.OPR_LT:case Z.OPR_LE:case Z.OPR_NE:case Z.OPR_GT:case Z.OPR_GE:{XU(e,t,n,r);break}}return n},Tc=function(e,t){e.f.lineinfo[e.pc-1]=t},ZU=function(e,t,n,r){let o=(n-1)/G.LFIELDS_PER_FLUSH+1,l=r===hc?0:r;me(r!==0&&r<=G.LFIELDS_PER_FLUSH),o<=G.MAXARG_C?tt(e,te.OP_SETLIST,t,l,o):o<=G.MAXARG_Ax?(tt(e,te.OP_SETLIST,t,l,0),gx(e,o)):Ac.luaX_syntaxerror(e.ls,gc("constructor too long",!0)),e.freereg=t+1};J.exports.BinOpr=Z;J.exports.NO_JUMP=fe;J.exports.UnOpr=Gl;J.exports.getinstruction=En;J.exports.luaK_checkstack=Ax;J.exports.luaK_code=Ta;J.exports.luaK_codeABC=tt;J.exports.luaK_codeABx=ba;J.exports.luaK_codeAsBx=dx;J.exports.luaK_codek=xa;J.exports.luaK_concat=er;J.exports.luaK_dischargevars=cn;J.exports.luaK_exp2RK=Sn;J.exports.luaK_exp2anyreg=Br;J.exports.luaK_exp2anyregup=BU;J.exports.luaK_exp2nextreg=Ea;J.exports.luaK_exp2val=vc;J.exports.luaK_fixline=Tc;J.exports.luaK_getlabel=va;J.exports.luaK_goiffalse=Sx;J.exports.luaK_goiftrue=Ox;J.exports.luaK_indexed=KU;J.exports.luaK_infix=LU;J.exports.luaK_intK=kc;J.exports.luaK_jump=ma;J.exports.luaK_jumpto=CU;J.exports.luaK_nil=cx;J.exports.luaK_numberK=bc;J.exports.luaK_patchclose=IU;J.exports.luaK_patchlist=hx;J.exports.luaK_patchtohere=Hl;J.exports.luaK_posfix=JU;J.exports.luaK_prefix=zU;J.exports.luaK_reserveregs=jl;J.exports.luaK_ret=NU;J.exports.luaK_self=VU;J.exports.luaK_setlist=ZU;J.exports.luaK_setmultret=PU;J.exports.luaK_setoneret=bx;J.exports.luaK_setreturns=kx;J.exports.luaK_storevar=qU;J.exports.luaK_stringK=MU});var Ec=w((t5,Io)=>{var{LUA_MULTRET:Bc,to_luastring:Te}=Ne(),{BinOpr:{OPR_ADD:$U,OPR_AND:YU,OPR_BAND:WU,OPR_BOR:QU,OPR_BXOR:eC,OPR_CONCAT:tC,OPR_DIV:nC,OPR_EQ:rC,OPR_GE:oC,OPR_GT:lC,OPR_IDIV:iC,OPR_LE:aC,OPR_LT:uC,OPR_MOD:sC,OPR_MUL:cC,OPR_NE:fC,OPR_NOBINOPR:Fx,OPR_OR:pC,OPR_POW:_C,OPR_SHL:hC,OPR_SHR:dC,OPR_SUB:gC},UnOpr:{OPR_BNOT:AC,OPR_LEN:xC,OPR_MINUS:kC,OPR_NOT:bC,OPR_NOUNOPR:Px},NO_JUMP:yo,getinstruction:wc,luaK_checkstack:mC,luaK_codeABC:Co,luaK_codeABx:vC,luaK_codeAsBx:Oc,luaK_codek:TC,luaK_concat:EC,luaK_dischargevars:OC,luaK_exp2RK:Rx,luaK_exp2anyreg:SC,luaK_exp2anyregup:Bx,luaK_exp2nextreg:pn,luaK_exp2val:wC,luaK_fixline:Oa,luaK_getlabel:qc,luaK_goiffalse:yC,luaK_goiftrue:qx,luaK_indexed:Vc,luaK_infix:RC,luaK_intK:UC,luaK_jump:zl,luaK_jumpto:CC,luaK_nil:NC,luaK_patchclose:Ra,luaK_patchlist:Gc,luaK_patchtohere:Ll,luaK_posfix:DC,luaK_prefix:IC,luaK_reserveregs:Ro,luaK_ret:Vx,luaK_self:MC,luaK_setlist:yc,luaK_setmultret:Kc,luaK_setoneret:FC,luaK_setreturns:PC,luaK_storevar:Rc,luaK_stringK:BC}=yx(),Ux=zt(),Hc=Ir(),L=Aa(),{LUAI_MAXCCALLS:Gx,MAX_INT:Kx,lua_assert:xt}=gt(),fn=Tt(),{OpCodesI:{OP_CALL:qC,OP_CLOSURE:VC,OP_FORLOOP:GC,OP_FORPREP:KC,OP_GETUPVAL:HC,OP_MOVE:jC,OP_NEWTABLE:XC,OP_SETTABLE:zC,OP_TAILCALL:LC,OP_TFORCALL:JC,OP_TFORLOOP:ZC,OP_VARARG:$C},LFIELDS_PER_FLUSH:YC,SETARG_B:WC,SETARG_C:Hx,SET_OPCODE:QC}=Ur(),{luaS_eqlngstr:eN,luaS_new:tN,luaS_newliteral:jx}=nn(),nN=rn(),Xx=Hc.Proto,C=L.RESERVED,rN=200,Ua=function(e){return e===j.VCALL||e===j.VVARARG},No=function(e,t){return eN(e,t)},Lt=class{constructor(){this.previous=null,this.firstlabel=NaN,this.firstgoto=NaN,this.nactvar=NaN,this.upval=NaN,this.isloop=NaN}},j={VVOID:0,VNIL:1,VTRUE:2,VFALSE:3,VK:4,VKFLT:5,VKINT:6,VNONRELOC:7,VLOCAL:8,VUPVAL:9,VINDEXED:10,VJMP:11,VRELOCABLE:12,VCALL:13,VVARARG:14},oN=function(e){return j.VLOCAL<=e&&e<=j.VINDEXED},lN=function(e){return e===j.VNONRELOC||e===j.VLOCAL},he=class{constructor(){this.k=NaN,this.u={ival:NaN,nval:NaN,info:NaN,ind:{idx:NaN,t:NaN,vt:NaN}},this.t=NaN,this.f=NaN}to(t){this.k=t.k,this.u=t.u,this.t=t.t,this.f=t.f}},Sa=class{constructor(){this.f=null,this.prev=null,this.ls=null,this.bl=null,this.pc=NaN,this.lasttarget=NaN,this.jpc=NaN,this.nk=NaN,this.np=NaN,this.firstlocal=NaN,this.nlocvars=NaN,this.nactvar=NaN,this.nups=NaN,this.freereg=NaN}},Uc=class{constructor(){this.idx=NaN}},Cc=class{constructor(){this.name=null,this.pc=NaN,this.line=NaN,this.nactvar=NaN}},wa=class{constructor(){this.arr=[],this.n=NaN,this.size=NaN}},Nc=class{constructor(){this.actvar={arr:[],n:NaN,size:NaN},this.gt=new wa,this.label=new wa}},jc=function(e,t){e.t.token=0,L.luaX_syntaxerror(e,t)},zx=function(e,t){L.luaX_syntaxerror(e,fn.luaO_pushfstring(e.L,Te("%s expected",!0),L.luaX_token2str(e,t)))},iN=function(e,t,n){let r=e.ls.L,o=e.f.linedefined,l=o===0?Te("main function",!0):fn.luaO_pushfstring(r,Te("function at line %d",!0),o),i=fn.luaO_pushfstring(r,Te("too many %s (limit is %d) in %s",!0),n,t,l);L.luaX_syntaxerror(e.ls,i)},Do=function(e,t,n,r){t>n&&iN(e,n,r)},ft=function(e,t){return e.t.token===t?(L.luaX_next(e),!0):!1},Xc=function(e,t){e.t.token!==t&&zx(e,t)},wt=function(e,t){Xc(e,t),L.luaX_next(e)},zc=function(e,t,n){t||L.luaX_syntaxerror(e,n)},Un=function(e,t,n,r){ft(e,t)||(r===e.linenumber?zx(e,t):L.luaX_syntaxerror(e,fn.luaO_pushfstring(e.L,Te("%s expected (to close %s at line %d)"),L.luaX_token2str(e,t),L.luaX_token2str(e,n),r)))},Cn=function(e){Xc(e,C.TK_NAME);let t=e.t.seminfo.ts;return L.luaX_next(e),t},ot=function(e,t,n){e.f=e.t=yo,e.k=t,e.u.info=n},Ca=function(e,t,n){ot(t,j.VK,BC(e.fs,n))},Lc=function(e,t){Ca(e,t,Cn(e))},aN=function(e,t){let n=e.fs,r=n.f;return r.locvars[n.nlocvars]=new fn.LocVar,r.locvars[n.nlocvars].varname=t,n.nlocvars++},Vr=function(e,t){let n=e.fs,r=e.dyd,o=aN(e,t);Do(n,r.actvar.n+1-n.firstlocal,rN,Te("local variables",!0)),r.actvar.arr[r.actvar.n]=new Uc,r.actvar.arr[r.actvar.n].idx=o,r.actvar.n++},qr=function(e,t){Vr(e,L.luaX_newstring(e,Te(t,!0)))},Jl=function(e,t){let n=e.ls.dyd.actvar.arr[e.firstlocal+t].idx;return xt(n<e.nlocvars),e.f.locvars[n]},Uo=function(e,t){let n=e.fs;for(n.nactvar=n.nactvar+t;t;t--)Jl(n,n.nactvar-t).startpc=n.pc},uN=function(e,t){for(e.ls.dyd.actvar.n-=e.nactvar-t;e.nactvar>t;)Jl(e,--e.nactvar).endpc=e.pc},sN=function(e,t){let n=e.f.upvalues;for(let r=0;r<e.nups;r++)if(No(n[r].name,t))return r;return-1},Lx=function(e,t,n){let r=e.f;return Do(e,e.nups+1,Hc.MAXUPVAL,Te("upvalues",!0)),r.upvalues[e.nups]={instack:n.k===j.VLOCAL,idx:n.u.info,name:t},e.nups++},cN=function(e,t){for(let n=e.nactvar-1;n>=0;n--)if(No(t,Jl(e,n).varname))return n;return-1},fN=function(e,t){let n=e.bl;for(;n.nactvar>t;)n=n.previous;n.upval=1},Dc=function(e,t,n,r){if(e===null)ot(n,j.VVOID,0);else{let o=cN(e,t);if(o>=0)ot(n,j.VLOCAL,o),r||fN(e,o);else{let l=sN(e,t);if(l<0){if(Dc(e.prev,t,n,0),n.k===j.VVOID)return;l=Lx(e,t,n)}ot(n,j.VUPVAL,l)}}},Jx=function(e,t){let n=Cn(e),r=e.fs;if(Dc(r,n,t,1),t.k===j.VVOID){let o=new he;Dc(r,e.envn,t,1),xt(t.k!==j.VVOID),Ca(e,o,n),Vc(r,t,o)}},Jc=function(e,t,n,r){let o=e.fs,l=t-n;if(Ua(r.k))l++,l<0&&(l=0),PC(o,r,l),l>1&&Ro(o,l-1);else if(r.k!==j.VVOID&&pn(o,r),l>0){let i=o.freereg;Ro(o,l),NC(o,i,l)}n>t&&(e.fs.freereg-=n-t)},Zx=function(e){let t=e.L;++t.nCcalls,Do(e.fs,t.nCcalls,Gx,Te("JS levels",!0))},$x=function(e){return e.L.nCcalls--},Yx=function(e,t,n){let r=e.fs,o=e.dyd.gt,l=o.arr[t];if(xt(No(l.name,n.name)),l.nactvar<n.nactvar){let i=Jl(r,l.nactvar).varname,a=fn.luaO_pushfstring(e.L,Te("<goto %s> at line %d jumps into the scope of local '%s'"),l.name.getstr(),l.line,i.getstr());jc(e,a)}Gc(r,l.pc,n.pc);for(let i=t;i<o.n-1;i++)o.arr[i]=o.arr[i+1];o.n--},Wx=function(e,t){let n=e.fs.bl,r=e.dyd,o=r.gt.arr[t];for(let l=n.firstlabel;l<r.label.n;l++){let i=r.label.arr[l];if(No(i.name,o.name))return o.nactvar>i.nactvar&&(n.upval||r.label.n>n.firstlabel)&&Ra(e.fs,o.pc,i.nactvar),Yx(e,t,i),!0}return!1},Zc=function(e,t,n,r,o){let l=t.n;return t.arr[l]=new Cc,t.arr[l].name=n,t.arr[l].line=r,t.arr[l].nactvar=e.fs.nactvar,t.arr[l].pc=o,t.n=l+1,l},Qx=function(e,t){let n=e.dyd.gt,r=e.fs.bl.firstgoto;for(;r<n.n;)No(n.arr[r].name,t.name)?Yx(e,r,t):r++},pN=function(e,t){let n=t.firstgoto,r=e.ls.dyd.gt;for(;n<r.n;){let o=r.arr[n];o.nactvar>t.nactvar&&(t.upval&&Ra(e,o.pc,t.nactvar),o.nactvar=t.nactvar),Wx(e.ls,n)||n++}},wn=function(e,t,n){t.isloop=n,t.nactvar=e.nactvar,t.firstlabel=e.ls.dyd.label.n,t.firstgoto=e.ls.dyd.gt.n,t.upval=0,t.previous=e.bl,e.bl=t,xt(e.freereg===e.nactvar)},_N=function(e){let t=jx(e.L,"break"),n=Zc(e,e.dyd.label,t,0,e.fs.pc);Qx(e,e.dyd.label.arr[n])},hN=function(e,t){let n=L.isreserved(t.name)?"<%s> at line %d not inside a loop":"no visible label '%s' for <goto> at line %d";n=fn.luaO_pushfstring(e.L,Te(n),t.name.getstr(),t.line),jc(e,n)},dN=function(e){let t=e.L,n=new Xx(t),r=e.fs,o=r.f;return o.p[r.np++]=n,n},gN=function(e,t){let n=e.fs.prev;ot(t,j.VRELOCABLE,vC(n,VC,0,n.np-1)),pn(n,t)},ek=function(e,t,n){t.prev=e.fs,t.ls=e,e.fs=t,t.pc=0,t.lasttarget=0,t.jpc=yo,t.freereg=0,t.nk=0,t.np=0,t.nups=0,t.nlocvars=0,t.nactvar=0,t.firstlocal=e.dyd.actvar.n,t.bl=null;let r=t.f;r.source=e.source,r.maxstacksize=2,wn(t,n,!1)},yn=function(e){let t=e.bl,n=e.ls;if(t.previous&&t.upval){let r=zl(e);Ra(e,r,t.nactvar),Ll(e,r)}t.isloop&&_N(n),e.bl=t.previous,uN(e,t.nactvar),xt(t.nactvar===e.nactvar),e.freereg=e.nactvar,n.dyd.label.n=t.firstlabel,t.previous?pN(e,t):t.firstgoto<n.dyd.gt.n&&hN(n,n.dyd.gt.arr[t.firstgoto])},tk=function(e){let t=e.fs;Vx(t,0,0),yn(t),xt(t.bl===null),e.fs=t.prev},Na=function(e,t){switch(e.t.token){case C.TK_ELSE:case C.TK_ELSEIF:case C.TK_END:case C.TK_EOS:return!0;case C.TK_UNTIL:return t;default:return!1}},Zl=function(e){for(;!Na(e,1);){if(e.t.token===C.TK_RETURN){Pc(e);return}Pc(e)}},Ic=function(e,t){let n=e.fs,r=new he;Bx(n,t),L.luaX_next(e),Lc(e,r),Vc(n,t,r)},nk=function(e,t){L.luaX_next(e),Rn(e,t),wC(e.fs,t),wt(e,93)},Mc=class{constructor(){this.v=new he,this.t=new he,this.nh=NaN,this.na=NaN,this.tostore=NaN}},Cx=function(e,t){let n=e.fs,r=e.fs.freereg,o=new he,l=new he;e.t.token===C.TK_NAME?(Do(n,t.nh,Kx,Te("items in a constructor",!0)),Lc(e,o)):nk(e,o),t.nh++,wt(e,61);let i=Rx(n,o);Rn(e,l),Co(n,zC,t.t.u.info,i,Rx(n,l)),n.freereg=r},AN=function(e,t){t.v.k!==j.VVOID&&(pn(e,t.v),t.v.k=j.VVOID,t.tostore===YC&&(yc(e,t.t.u.info,t.na,t.tostore),t.tostore=0))},xN=function(e,t){t.tostore!==0&&(Ua(t.v.k)?(Kc(e,t.v),yc(e,t.t.u.info,t.na,Bc),t.na--):(t.v.k!==j.VVOID&&pn(e,t.v),yc(e,t.t.u.info,t.na,t.tostore)))},Nx=function(e,t){Rn(e,t.v),Do(e.fs,t.na,Kx,Te("items in a constructor",!0)),t.na++,t.tostore++},kN=function(e,t){switch(e.t.token){case C.TK_NAME:{L.luaX_lookahead(e)!==61?Nx(e,t):Cx(e,t);break}case 91:{Cx(e,t);break}default:{Nx(e,t);break}}},rk=function(e,t){let n=e.fs,r=e.linenumber,o=Co(n,XC,0,0,0),l=new Mc;l.na=l.nh=l.tostore=0,l.t=t,ot(t,j.VRELOCABLE,o),ot(l.v,j.VVOID,0),pn(e.fs,t),wt(e,123);do{if(xt(l.v.k===j.VVOID||l.tostore>0),e.t.token===125)break;AN(n,l),kN(e,l)}while(ft(e,44)||ft(e,59));Un(e,125,123,r),xN(n,l),WC(n.f.code[o],fn.luaO_int2fb(l.na)),Hx(n.f.code[o],fn.luaO_int2fb(l.nh))},bN=function(e){let t=e.fs,n=t.f,r=0;if(n.is_vararg=!1,e.t.token!==41)do switch(e.t.token){case C.TK_NAME:{Vr(e,Cn(e)),r++;break}case C.TK_DOTS:{L.luaX_next(e),n.is_vararg=!0;break}default:L.luaX_syntaxerror(e,Te("<name> or '...' expected",!0))}while(!n.is_vararg&&ft(e,44));Uo(e,r),n.numparams=t.nactvar,Ro(t,t.nactvar)},$c=function(e,t,n,r){let o=new Sa,l=new Lt;o.f=dN(e),o.f.linedefined=r,ek(e,o,l),wt(e,40),n&&(qr(e,"self"),Uo(e,1)),bN(e),wt(e,41),Zl(e),o.f.lastlinedefined=e.linenumber,Un(e,C.TK_END,C.TK_FUNCTION,r),gN(e,t),tk(e)},$l=function(e,t){let n=1;for(Rn(e,t);ft(e,44);)pn(e.fs,t),Rn(e,t),n++;return n},Dx=function(e,t,n){let r=e.fs,o=new he;switch(e.t.token){case 40:{L.luaX_next(e),e.t.token===41?o.k=j.VVOID:($l(e,o),Kc(r,o)),Un(e,41,40,n);break}case 123:{rk(e,o);break}case C.TK_STRING:{Ca(e,o,e.t.seminfo.ts),L.luaX_next(e);break}default:L.luaX_syntaxerror(e,Te("function arguments expected",!0))}xt(t.k===j.VNONRELOC);let l,i=t.u.info;Ua(o.k)?l=Bc:(o.k!==j.VVOID&&pn(r,o),l=r.freereg-(i+1)),ot(t,j.VCALL,Co(r,qC,i,l+1,2)),Oa(r,n),r.freereg=i+1},mN=function(e,t){switch(e.t.token){case 40:{let n=e.linenumber;L.luaX_next(e),Rn(e,t),Un(e,41,40,n),OC(e.fs,t);return}case C.TK_NAME:{Jx(e,t);return}default:L.luaX_syntaxerror(e,Te("unexpected symbol",!0))}},Yc=function(e,t){let n=e.fs,r=e.linenumber;for(mN(e,t);;)switch(e.t.token){case 46:{Ic(e,t);break}case 91:{let o=new he;Bx(n,t),nk(e,o),Vc(n,t,o);break}case 58:{let o=new he;L.luaX_next(e),Lc(e,o),MC(n,t,o),Dx(e,t,r);break}case 40:case C.TK_STRING:case 123:{pn(n,t),Dx(e,t,r);break}default:return}},vN=function(e,t){switch(e.t.token){case C.TK_FLT:{ot(t,j.VKFLT,0),t.u.nval=e.t.seminfo.r;break}case C.TK_INT:{ot(t,j.VKINT,0),t.u.ival=e.t.seminfo.i;break}case C.TK_STRING:{Ca(e,t,e.t.seminfo.ts);break}case C.TK_NIL:{ot(t,j.VNIL,0);break}case C.TK_TRUE:{ot(t,j.VTRUE,0);break}case C.TK_FALSE:{ot(t,j.VFALSE,0);break}case C.TK_DOTS:{let n=e.fs;zc(e,n.f.is_vararg,Te("cannot use '...' outside a vararg function",!0)),ot(t,j.VVARARG,Co(n,$C,0,1,0));break}case 123:{rk(e,t);return}case C.TK_FUNCTION:{L.luaX_next(e),$c(e,t,0,e.linenumber);return}default:{Yc(e,t);return}}L.luaX_next(e)},TN=function(e){switch(e){case C.TK_NOT:return bC;case 45:return kC;case 126:return AC;case 35:return xC;default:return Px}},EN=function(e){switch(e){case 43:return $U;case 45:return gC;case 42:return cC;case 37:return sC;case 94:return _C;case 47:return nC;case C.TK_IDIV:return iC;case 38:return WU;case 124:return QU;case 126:return eC;case C.TK_SHL:return hC;case C.TK_SHR:return dC;case C.TK_CONCAT:return tC;case C.TK_NE:return fC;case C.TK_EQ:return rC;case 60:return uC;case C.TK_LE:return aC;case 62:return lC;case C.TK_GE:return oC;case C.TK_AND:return YU;case C.TK_OR:return pC;default:return Fx}},Ix=[{left:10,right:10},{left:10,right:10},{left:11,right:11},{left:11,right:11},{left:14,right:13},{left:11,right:11},{left:11,right:11},{left:6,right:6},{left:4,right:4},{left:5,right:5},{left:7,right:7},{left:7,right:7},{left:9,right:8},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:2,right:2},{left:1,right:1}],ON=12,Fc=function(e,t,n){Zx(e);let r=TN(e.t.token);if(r!==Px){let l=e.linenumber;L.luaX_next(e),Fc(e,t,ON),IC(e.fs,r,t,l)}else vN(e,t);let o=EN(e.t.token);for(;o!==Fx&&Ix[o].left>n;){let l=new he,i=e.linenumber;L.luaX_next(e),RC(e.fs,o,t);let a=Fc(e,l,Ix[o].right);DC(e.fs,o,t,l,i),o=a}return $x(e),o},Rn=function(e,t){Fc(e,t,0)},Da=function(e){let t=e.fs,n=new Lt;wn(t,n,0),Zl(e),yn(t)},ya=class{constructor(){this.prev=null,this.v=new he}},SN=function(e,t,n){let r=e.fs,o=r.freereg,l=!1;for(;t;t=t.prev)t.v.k===j.VINDEXED&&(t.v.u.ind.vt===n.k&&t.v.u.ind.t===n.u.info&&(l=!0,t.v.u.ind.vt=j.VLOCAL,t.v.u.ind.t=o),n.k===j.VLOCAL&&t.v.u.ind.idx===n.u.info&&(l=!0,t.v.u.ind.idx=o));if(l){let i=n.k===j.VLOCAL?jC:HC;Co(r,i,o,n.u.info,0),Ro(r,1)}},ok=function(e,t,n){let r=new he;if(zc(e,oN(t.v.k),Te("syntax error",!0)),ft(e,44)){let o=new ya;o.prev=t,Yc(e,o.v),o.v.k!==j.VINDEXED&&SN(e,t,o.v),Do(e.fs,n+e.L.nCcalls,Gx,Te("JS levels",!0)),ok(e,o,n+1)}else{wt(e,61);let o=$l(e,r);if(o!==n)Jc(e,n,o,r);else{FC(e.fs,r),Rc(e.fs,t.v,r);return}}ot(r,j.VNONRELOC,e.fs.freereg-1),Rc(e.fs,t.v,r)},lk=function(e){let t=new he;return Rn(e,t),t.k===j.VNIL&&(t.k=j.VFALSE),qx(e.fs,t),t.f},ik=function(e,t){let n=e.linenumber,r;ft(e,C.TK_GOTO)?r=Cn(e):(L.luaX_next(e),r=jx(e.L,"break"));let o=Zc(e,e.dyd.gt,r,n,t);Wx(e,o)},wN=function(e,t,n){for(let r=e.bl.firstlabel;r<t.n;r++)if(No(n,t.arr[r].name)){let o=fn.luaO_pushfstring(e.ls.L,Te("label '%s' already defined on line %d",!0),n.getstr(),t.arr[r].line);jc(e.ls,o)}},yN=function(e){for(;e.t.token===59||e.t.token===C.TK_DBCOLON;)Pc(e)},RN=function(e,t,n){let r=e.fs,o=e.dyd.label,l;wN(r,o,t),wt(e,C.TK_DBCOLON),l=Zc(e,o,t,n,qc(r)),yN(e),Na(e,0)&&(o.arr[l].nactvar=r.bl.nactvar),Qx(e,o.arr[l])},UN=function(e,t){let n=e.fs,r=new Lt;L.luaX_next(e);let o=qc(n),l=lk(e);wn(n,r,1),wt(e,C.TK_DO),Da(e),CC(n,o),Un(e,C.TK_END,C.TK_WHILE,t),yn(n),Ll(n,l)},CN=function(e,t){let n=e.fs,r=qc(n),o=new Lt,l=new Lt;wn(n,o,1),wn(n,l,0),L.luaX_next(e),Zl(e),Un(e,C.TK_UNTIL,C.TK_REPEAT,t);let i=lk(e);l.upval&&Ra(n,i,l.nactvar),yn(n),Gc(n,i,r),yn(n)},Sc=function(e){let t=new he;return Rn(e,t),pn(e.fs,t),xt(t.k===j.VNONRELOC),t.u.info},ak=function(e,t,n,r,o){let l=new Lt,i=e.fs,a;Uo(e,3),wt(e,C.TK_DO);let u=o?Oc(i,KC,t,yo):zl(i);wn(i,l,0),Uo(e,r),Ro(i,r),Da(e),yn(i),Ll(i,u),o?a=Oc(i,GC,t,yo):(Co(i,JC,t,0,r),Oa(i,n),a=Oc(i,ZC,t+2,yo)),Gc(i,a,u+1),Oa(i,n)},NN=function(e,t,n){let r=e.fs,o=r.freereg;qr(e,"(for index)"),qr(e,"(for limit)"),qr(e,"(for step)"),Vr(e,t),wt(e,61),Sc(e),wt(e,44),Sc(e),ft(e,44)?Sc(e):(TC(r,r.freereg,UC(r,1)),Ro(r,1)),ak(e,o,n,1,1)},DN=function(e,t){let n=e.fs,r=new he,o=4,l=n.freereg;for(qr(e,"(for generator)"),qr(e,"(for state)"),qr(e,"(for control)"),Vr(e,t);ft(e,44);)Vr(e,Cn(e)),o++;wt(e,C.TK_IN);let i=e.linenumber;Jc(e,3,$l(e,r),r),mC(n,3),ak(e,l,i,o-3,0)},IN=function(e,t){let n=e.fs,r=new Lt;wn(n,r,1),L.luaX_next(e);let o=Cn(e);switch(e.t.token){case 61:NN(e,o,t);break;case 44:case C.TK_IN:DN(e,o);break;default:L.luaX_syntaxerror(e,Te("'=' or 'in' expected",!0))}Un(e,C.TK_END,C.TK_FOR,t),yn(n)},Mx=function(e,t){let n=new Lt,r=e.fs,o=new he,l;if(L.luaX_next(e),Rn(e,o),wt(e,C.TK_THEN),e.t.token===C.TK_GOTO||e.t.token===C.TK_BREAK){for(yC(e.fs,o),wn(r,n,!1),ik(e,o.t);ft(e,59););if(Na(e,0))return yn(r),t;l=zl(r)}else qx(e.fs,o),wn(r,n,!1),l=o.f;return Zl(e),yn(r),(e.t.token===C.TK_ELSE||e.t.token===C.TK_ELSEIF)&&(t=EC(r,t,zl(r))),Ll(r,l),t},MN=function(e,t){let n=e.fs,r=yo;for(r=Mx(e,r);e.t.token===C.TK_ELSEIF;)r=Mx(e,r);ft(e,C.TK_ELSE)&&Da(e),Un(e,C.TK_END,C.TK_IF,t),Ll(n,r)},FN=function(e){let t=new he,n=e.fs;Vr(e,Cn(e)),Uo(e,1),$c(e,t,0,e.linenumber),Jl(n,t.u.info).startpc=n.pc},PN=function(e){let t=0,n,r=new he;do Vr(e,Cn(e)),t++;while(ft(e,44));ft(e,61)?n=$l(e,r):(r.k=j.VVOID,n=0),Jc(e,t,n,r),Uo(e,t)},BN=function(e,t){let n=0;for(Jx(e,t);e.t.token===46;)Ic(e,t);return e.t.token===58&&(n=1,Ic(e,t)),n},qN=function(e,t){let n=new he,r=new he;L.luaX_next(e);let o=BN(e,n);$c(e,r,o,t),Rc(e.fs,n,r),Oa(e.fs,t)},VN=function(e){let t=e.fs,n=new ya;Yc(e,n.v),e.t.token===61||e.t.token===44?(n.prev=null,ok(e,n,1)):(zc(e,n.v.k===j.VCALL,Te("syntax error",!0)),Hx(wc(t,n.v),1))},GN=function(e){let t=e.fs,n=new he,r,o;Na(e,1)||e.t.token===59?r=o=0:(o=$l(e,n),Ua(n.k)?(Kc(t,n),n.k===j.VCALL&&o===1&&(QC(wc(t,n),LC),xt(wc(t,n).A===t.nactvar)),r=t.nactvar,o=Bc):o===1?r=SC(t,n):(pn(t,n),r=t.nactvar,xt(o===t.freereg-r))),Vx(t,r,o),ft(e,59)},Pc=function(e){let t=e.linenumber;switch(Zx(e),e.t.token){case 59:{L.luaX_next(e);break}case C.TK_IF:{MN(e,t);break}case C.TK_WHILE:{UN(e,t);break}case C.TK_DO:{L.luaX_next(e),Da(e),Un(e,C.TK_END,C.TK_DO,t);break}case C.TK_FOR:{IN(e,t);break}case C.TK_REPEAT:{CN(e,t);break}case C.TK_FUNCTION:{qN(e,t);break}case C.TK_LOCAL:{L.luaX_next(e),ft(e,C.TK_FUNCTION)?FN(e):PN(e);break}case C.TK_DBCOLON:{L.luaX_next(e),RN(e,Cn(e),t);break}case C.TK_RETURN:{L.luaX_next(e),GN(e);break}case C.TK_BREAK:case C.TK_GOTO:{ik(e,zl(e.fs));break}default:{VN(e);break}}xt(e.fs.f.maxstacksize>=e.fs.freereg&&e.fs.freereg>=e.fs.nactvar),e.fs.freereg=e.fs.nactvar,$x(e)},KN=function(e,t){let n=new Lt,r=new he;ek(e,t,n),t.f.is_vararg=!0,ot(r,j.VLOCAL,0),Lx(t,e.envn,r),L.luaX_next(e),Zl(e),Xc(e,C.TK_EOS),tk(e)},HN=function(e,t,n,r,o,l){let i=new L.LexState,a=new Sa,u=Hc.luaF_newLclosure(e,1);return Ux.luaD_inctop(e),e.stack[e.top-1].setclLvalue(u),i.h=nN.luaH_new(e),Ux.luaD_inctop(e),e.stack[e.top-1].sethvalue(i.h),a.f=u.p=new Xx(e),a.f.source=tN(e,o),i.buff=n,i.dyd=r,r.actvar.n=r.gt.n=r.label.n=0,L.luaX_setinput(e,i,t,a.f.source,l),KN(i,a),xt(!a.prev&&a.nups===1&&!i.fs),xt(r.actvar.n===0&&r.gt.n===0&&r.label.n===0),delete e.stack[--e.top],u};Io.exports.Dyndata=Nc;Io.exports.expkind=j;Io.exports.expdesc=he;Io.exports.luaY_parser=HN;Io.exports.vkisinreg=lN});var xk=w((n5,Ak)=>{var{LUA_SIGNATURE:uk,constant_types:{LUA_TBOOLEAN:sk,LUA_TLNGSTR:ck,LUA_TNIL:fk,LUA_TNUMFLT:pk,LUA_TNUMINT:_k,LUA_TSHRSTR:jN},thread_status:{LUA_ERRSYNTAX:XN},is_luastring:zN,luastring_eq:LN,to_luastring:Wc}=Ne(),gk=zt(),Qc=Ir(),Mo=Tt(),{MAXARG_sBx:JN,POS_A:ZN,POS_Ax:$N,POS_B:YN,POS_Bx:hk,POS_C:WN,POS_OP:QN,SIZE_A:eD,SIZE_Ax:tD,SIZE_B:nD,SIZE_Bx:dk,SIZE_C:rD,SIZE_OP:oD}=Ur(),{lua_assert:ef}=gt(),{luaS_bless:lD}=nn(),{luaZ_read:Fo,ZIO:iD}=Fl(),aD=[25,147,13,10,26,10],Yl=class{constructor(t,n,r){this.intSize=4,this.size_tSize=4,this.instructionSize=4,this.integerSize=4,this.numberSize=8,ef(n instanceof iD,"BytecodeParser only operates on a ZIO"),ef(zN(r)),r[0]===64||r[0]===61?this.name=r.subarray(1):r[0]==uk[0]?this.name=Wc("binary string",!0):this.name=r,this.L=t,this.Z=n,this.arraybuffer=new ArrayBuffer(Math.max(this.intSize,this.size_tSize,this.instructionSize,this.integerSize,this.numberSize)),this.dv=new DataView(this.arraybuffer),this.u8=new Uint8Array(this.arraybuffer)}read(t){let n=new Uint8Array(t);return Fo(this.Z,n,0,t)!==0&&this.error("truncated"),n}LoadByte(){return Fo(this.Z,this.u8,0,1)!==0&&this.error("truncated"),this.u8[0]}LoadInt(){return Fo(this.Z,this.u8,0,this.intSize)!==0&&this.error("truncated"),this.dv.getInt32(0,!0)}LoadNumber(){return Fo(this.Z,this.u8,0,this.numberSize)!==0&&this.error("truncated"),this.dv.getFloat64(0,!0)}LoadInteger(){return Fo(this.Z,this.u8,0,this.integerSize)!==0&&this.error("truncated"),this.dv.getInt32(0,!0)}LoadSize_t(){return this.LoadInteger()}LoadString(){let t=this.LoadByte();return t===255&&(t=this.LoadSize_t()),t===0?null:lD(this.L,this.read(t-1))}static MASK1(t,n){return~(-1<<t)<<n}LoadCode(t){let n=this.LoadInt(),r=Yl;for(let o=0;o<n;o++){Fo(this.Z,this.u8,0,this.instructionSize)!==0&&this.error("truncated");let l=this.dv.getUint32(0,!0);t.code[o]={code:l,opcode:l>>QN&r.MASK1(oD,0),A:l>>ZN&r.MASK1(eD,0),B:l>>YN&r.MASK1(nD,0),C:l>>WN&r.MASK1(rD,0),Bx:l>>hk&r.MASK1(dk,0),Ax:l>>$N&r.MASK1(tD,0),sBx:(l>>hk&r.MASK1(dk,0))-JN}}}LoadConstants(t){let n=this.LoadInt();for(let r=0;r<n;r++){let o=this.LoadByte();switch(o){case fk:t.k.push(new Mo.TValue(fk,null));break;case sk:t.k.push(new Mo.TValue(sk,this.LoadByte()!==0));break;case pk:t.k.push(new Mo.TValue(pk,this.LoadNumber()));break;case _k:t.k.push(new Mo.TValue(_k,this.LoadInteger()));break;case jN:case ck:t.k.push(new Mo.TValue(ck,this.LoadString()));break;default:this.error(\`unrecognized constant '\${o}'\`)}}}LoadProtos(t){let n=this.LoadInt();for(let r=0;r<n;r++)t.p[r]=new Qc.Proto(this.L),this.LoadFunction(t.p[r],t.source)}LoadUpvalues(t){let n=this.LoadInt();for(let r=0;r<n;r++)t.upvalues[r]={name:null,instack:this.LoadByte(),idx:this.LoadByte()}}LoadDebug(t){let n=this.LoadInt();for(let r=0;r<n;r++)t.lineinfo[r]=this.LoadInt();n=this.LoadInt();for(let r=0;r<n;r++)t.locvars[r]={varname:this.LoadString(),startpc:this.LoadInt(),endpc:this.LoadInt()};n=this.LoadInt();for(let r=0;r<n;r++)t.upvalues[r].name=this.LoadString()}LoadFunction(t,n){t.source=this.LoadString(),t.source===null&&(t.source=n),t.linedefined=this.LoadInt(),t.lastlinedefined=this.LoadInt(),t.numparams=this.LoadByte(),t.is_vararg=this.LoadByte()!==0,t.maxstacksize=this.LoadByte(),this.LoadCode(t),this.LoadConstants(t),this.LoadUpvalues(t),this.LoadProtos(t),this.LoadDebug(t)}checkliteral(t,n){let r=this.read(t.length);LN(r,t)||this.error(n)}checkHeader(){this.checkliteral(uk.subarray(1),"not a"),this.LoadByte()!==83&&this.error("version mismatch in"),this.LoadByte()!==0&&this.error("format mismatch in"),this.checkliteral(aD,"corrupted"),this.intSize=this.LoadByte(),this.size_tSize=this.LoadByte(),this.instructionSize=this.LoadByte(),this.integerSize=this.LoadByte(),this.numberSize=this.LoadByte(),this.checksize(this.intSize,4,"int"),this.checksize(this.size_tSize,4,"size_t"),this.checksize(this.instructionSize,4,"instruction"),this.checksize(this.integerSize,4,"integer"),this.checksize(this.numberSize,8,"number"),this.LoadInteger()!==22136&&this.error("endianness mismatch in"),this.LoadNumber()!==370.5&&this.error("float format mismatch in")}error(t){Mo.luaO_pushfstring(this.L,Wc("%s: %s precompiled chunk"),this.name,Wc(t)),gk.luaD_throw(this.L,XN)}checksize(t,n,r){t!==n&&this.error(\`\${r} size mismatch in\`)}},uD=function(e,t,n){let r=new Yl(e,t,n);r.checkHeader();let o=Qc.luaF_newLclosure(e,r.LoadByte());return gk.luaD_inctop(e),e.stack[e.top-1].setclLvalue(o),o.p=new Qc.Proto(e),r.LoadFunction(o.p,null),ef(o.nupvalues===o.p.upvalues.length),o};Ak.exports.luaU_undump=uD});var zt=w((r5,Ge)=>{var{LUA_HOOKCALL:Ok,LUA_HOOKRET:sD,LUA_HOOKTAILCALL:cD,LUA_MASKCALL:kk,LUA_MASKLINE:fD,LUA_MASKRET:bk,LUA_MINSTACK:Ia,LUA_MULTRET:lf,LUA_SIGNATURE:pD,constant_types:{LUA_TCCL:mk,LUA_TLCF:_D,LUA_TLCL:hD,LUA_TNIL:Bo},thread_status:{LUA_ERRMEM:dD,LUA_ERRERR:af,LUA_ERRRUN:uf,LUA_ERRSYNTAX:gD,LUA_OK:Nn,LUA_YIELD:Dn},lua_Debug:AD,luastring_indexOf:xD,to_luastring:tr}=Ne(),Gr=Il(),Ql=mn(),sf=Ir(),{api_check:Sk,lua_assert:yt,LUAI_MAXCCALLS:Wl}=gt(),Ee=Tt(),kD=Ur(),wk=Ec(),Oe=bn(),{luaS_newliteral:nf}=nn(),vk=Dr(),{LUAI_MAXSTACK:_n}=dt(),bD=xk(),ei=Nr(),{MBuffer:mD}=Fl(),cf=function(e,t){if(e.top<t)for(;e.top<t;)e.stack[e.top++]=new Ee.TValue(Bo,null);else for(;e.top>t;)delete e.stack[--e.top]},Pa=function(e,t,n){let r=e.top;for(;e.top<n+1;)e.stack[e.top++]=new Ee.TValue(Bo,null);switch(t){case dD:{Ee.setsvalue2s(e,n,nf(e,"not enough memory"));break}case af:{Ee.setsvalue2s(e,n,nf(e,"error in error handling"));break}default:Ee.setobjs2s(e,n,r-1)}for(;e.top>n+1;)delete e.stack[--e.top]},yk=_n+200,Ma=function(e,t){yt(t<=_n||t==yk),yt(e.stack_last==e.stack.length-Oe.EXTRA_STACK),e.stack.length=t,e.stack_last=t-Oe.EXTRA_STACK},Rk=function(e,t){let n=e.stack.length;if(n>_n)qo(e,af);else{let r=e.top+t+Oe.EXTRA_STACK,o=2*n;o>_n&&(o=_n),o<r&&(o=r),o>_n?(Ma(e,yk),Ql.luaG_runerror(e,tr("stack overflow",!0))):Ma(e,o)}},Po=function(e,t){e.stack_last-e.top<=t&&Rk(e,t)},vD=function(e){let t=e.top;for(let n=e.ci;n!==null;n=n.previous)t<n.top&&(t=n.top);return yt(t<=e.stack_last),t+1},Uk=function(e){let t=vD(e),n=t+Math.floor(t/8)+2*Oe.EXTRA_STACK;n>_n&&(n=_n),e.stack.length>_n&&Oe.luaE_freeCI(e),t<=_n-Oe.EXTRA_STACK&&n<e.stack.length&&Ma(e,n)},TD=function(e){Po(e,1),e.stack[e.top++]=new Ee.TValue(Bo,null)},Ba=function(e,t,n){let r=e.stack[t];switch(r.type){case mk:case _D:{let o=r.type===mk?r.value.f:r.value;Po(e,Ia);let l=Oe.luaE_extendCI(e);l.funcOff=t,l.nresults=n,l.func=r,l.top=e.top+Ia,yt(l.top<=e.stack_last),l.callstatus=0,e.hookmask&kk&&Va(e,Ok,-1);let i=o(e);if(typeof i!="number"||i<0||(i|0)!==i)throw Error("invalid return value from JS function (expected integer)");return Gr.api_checknelems(e,i),qa(e,l,e.top-i,i),!0}case hD:{let o,l=r.value.p,i=e.top-t-1,a=l.maxstacksize;if(Po(e,a),l.is_vararg)o=SD(e,l,i);else{for(;i<l.numparams;i++)e.stack[e.top++]=new Ee.TValue(Bo,null);o=t+1}let u=Oe.luaE_extendCI(e);return u.funcOff=t,u.nresults=n,u.func=r,u.l_base=o,u.top=o+a,cf(e,u.top),u.l_code=l.code,u.l_savedpc=0,u.callstatus=Oe.CIST_LUA,e.hookmask&kk&&OD(e,u),!1}default:return Po(e,1),wD(e,t,r),Ba(e,t,n)}},qa=function(e,t,n,r){let o=t.nresults;e.hookmask&(bk|fD)&&(e.hookmask&bk&&Va(e,sD,-1),e.oldpc=t.previous.l_savedpc);let l=t.funcOff;return e.ci=t.previous,e.ci.next=null,ED(e,n,l,r,o)},ED=function(e,t,n,r,o){switch(o){case 0:break;case 1:{r===0?e.stack[n].setnilvalue():Ee.setobjs2s(e,n,t);break}case lf:{for(let i=0;i<r;i++)Ee.setobjs2s(e,n+i,t+i);for(let i=e.top;i>=n+r;i--)delete e.stack[i];return e.top=n+r,!1}default:{let i;if(o<=r)for(i=0;i<o;i++)Ee.setobjs2s(e,n+i,t+i);else{for(i=0;i<r;i++)Ee.setobjs2s(e,n+i,t+i);for(;i<o;i++)n+i>=e.top?e.stack[n+i]=new Ee.TValue(Bo,null):e.stack[n+i].setnilvalue()}break}}let l=n+o;for(let i=e.top;i>=l;i--)delete e.stack[i];return e.top=l,!0},Va=function(e,t,n){let r=e.hook;if(r&&e.allowhook){let o=e.ci,l=e.top,i=o.top,a=new AD;a.event=t,a.currentline=n,a.i_ci=o,Po(e,Ia),o.top=e.top+Ia,yt(o.top<=e.stack_last),e.allowhook=0,o.callstatus|=Oe.CIST_HOOKED,r(e,a),yt(!e.allowhook),e.allowhook=1,o.top=i,cf(e,l),o.callstatus&=~Oe.CIST_HOOKED}},OD=function(e,t){let n=Ok;t.l_savedpc++,t.previous.callstatus&Oe.CIST_LUA&&t.previous.l_code[t.previous.l_savedpc-1].opcode==kD.OpCodesI.OP_TAILCALL&&(t.callstatus|=Oe.CIST_TAIL,n=cD),Va(e,n,-1),t.l_savedpc--},SD=function(e,t,n){let r=t.numparams,o=e.top-n,l=e.top,i;for(i=0;i<r&&i<n;i++)Ee.pushobj2s(e,e.stack[o+i]),e.stack[o+i].setnilvalue();for(;i<r;i++)e.stack[e.top++]=new Ee.TValue(Bo,null);return l},wD=function(e,t,n){let r=vk.luaT_gettmbyobj(e,n,vk.TMS.TM_CALL);r.ttisfunction(r)||Ql.luaG_typeerror(e,n,tr("call",!0)),Ee.pushobj2s(e,e.stack[e.top-1]);for(let o=e.top-2;o>t;o--)Ee.setobjs2s(e,o,o-1);Ee.setobj2s(e,t,r)},yD=function(e){e.nCcalls===Wl?Ql.luaG_runerror(e,tr("JS stack overflow",!0)):e.nCcalls>=Wl+(Wl>>3)&&qo(e,af)},Ck=function(e,t,n){++e.nCcalls>=Wl&&yD(e),Ba(e,t,n)||ei.luaV_execute(e),e.nCcalls--},qo=function(e,t){if(e.errorJmp)throw e.errorJmp.status=t,e.errorJmp;{let n=e.l_G;if(e.status=t,n.mainthread.errorJmp)n.mainthread.stack[n.mainthread.top++]=e.stack[e.top-1],qo(n.mainthread,t);else{let r=n.panic;throw r&&(Pa(e,t,e.top),e.ci.top<e.top&&(e.ci.top=e.top),r(e)),new Error(\`Aborted \${t}\`)}}},Fa=function(e,t,n){let r=e.nCcalls,o={status:Nn,previous:e.errorJmp};e.errorJmp=o;try{t(e,n)}catch(l){if(o.status===Nn){let i=e.l_G.atnativeerror;if(i)try{if(o.status=Nn,Gr.lua_pushcfunction(e,i),Gr.lua_pushlightuserdata(e,l),rf(e,e.top-2,1),e.errfunc!==0){let a=e.errfunc;Ee.pushobj2s(e,e.stack[e.top-1]),Ee.setobjs2s(e,e.top-2,a),rf(e,e.top-2,1)}o.status=uf}catch(a){o.status===Nn&&(o.status=-1)}else o.status=-1}}return e.errorJmp=o.previous,e.nCcalls=r,o.status},Tk=function(e,t){let n=e.ci;yt(n.c_k!==null&&e.nny===0),yt(n.callstatus&Oe.CIST_YPCALL||t===Dn),n.callstatus&Oe.CIST_YPCALL&&(n.callstatus&=~Oe.CIST_YPCALL,e.errfunc=n.c_old_errfunc),n.nresults===lf&&e.ci.top<e.top&&(e.ci.top=e.top);let r=n.c_k,o=r(e,t,n.c_ctx);Gr.api_checknelems(e,o),qa(e,n,e.top-o,o)},Nk=function(e,t){for(t!==null&&Tk(e,t);e.ci!==e.base_ci;)e.ci.callstatus&Oe.CIST_LUA?(ei.luaV_finishOp(e),ei.luaV_execute(e)):Tk(e,Dn)},RD=function(e){for(let t=e.ci;t!==null;t=t.previous)if(t.callstatus&Oe.CIST_YPCALL)return t;return null},UD=function(e,t){let n=RD(e);if(n===null)return 0;let r=n.extra;return sf.luaF_close(e,r),Pa(e,t,r),e.ci=n,e.allowhook=n.callstatus&Oe.CIST_OAH,e.nny=0,Uk(e),e.errfunc=n.c_old_errfunc,1},tf=function(e,t,n){let r=nf(e,t);if(n===0)Ee.pushsvalue2s(e,r),Sk(e,e.top<=e.ci.top,"stack overflow");else{for(let o=1;o<n;o++)delete e.stack[--e.top];Ee.setsvalue2s(e,e.top-1,r)}return uf},CD=function(e,t){let n=e.top-t,r=e.ci;e.status===Nn?Ba(e,n-1,lf)||ei.luaV_execute(e):(yt(e.status===Dn),e.status=Nn,r.funcOff=r.extra,r.func=e.stack[r.funcOff],r.callstatus&Oe.CIST_LUA?ei.luaV_execute(e):(r.c_k!==null&&(t=r.c_k(e,Dn,r.c_ctx),Gr.api_checknelems(e,t),n=e.top-t),qa(e,r,n,t)),Nk(e,null))},ND=function(e,t,n){let r=e.nny;if(e.status===Nn){if(e.ci!==e.base_ci)return tf(e,"cannot resume non-suspended coroutine",n)}else if(e.status!==Dn)return tf(e,"cannot resume dead coroutine",n);if(e.nCcalls=t?t.nCcalls+1:1,e.nCcalls>=Wl)return tf(e,"JS stack overflow",n);e.nny=0,Gr.api_checknelems(e,e.status===Nn?n+1:n);let o=Fa(e,CD,n);if(o===-1)o=uf;else{for(;o>Dn&&UD(e,o);)o=Fa(e,Nk,o);o>Dn?(e.status=o,Pa(e,o,e.top),e.ci.top=e.top):yt(o===e.status)}return e.nny=r,e.nCcalls--,yt(e.nCcalls===(t?t.nCcalls:0)),o},DD=function(e){return e.nny===0},Dk=function(e,t,n,r){let o=e.ci;return Gr.api_checknelems(e,t),e.nny>0&&(e!==e.l_G.mainthread?Ql.luaG_runerror(e,tr("attempt to yield across a JS-call boundary",!0)):Ql.luaG_runerror(e,tr("attempt to yield from outside a coroutine",!0))),e.status=Dn,o.extra=o.funcOff,o.callstatus&Oe.CIST_LUA?Sk(e,r===null,"hooks cannot continue after yielding"):(o.c_k=r,r!==null&&(o.c_ctx=n),o.funcOff=e.top-t-1,o.func=e.stack[o.funcOff],qo(e,Dn)),yt(o.callstatus&Oe.CIST_HOOKED),0},ID=function(e,t){Dk(e,t,0,null)},Ik=function(e,t,n,r,o){let l=e.ci,i=e.allowhook,a=e.nny,u=e.errfunc;e.errfunc=o;let c=Fa(e,t,n);return c!==Nn&&(sf.luaF_close(e,r),Pa(e,c,r),e.ci=l,e.allowhook=i,e.nny=a,Uk(e)),e.errfunc=u,c},rf=function(e,t,n){e.nny++,Ck(e,t,n),e.nny--},of=class{constructor(t,n,r){this.z=t,this.buff=new mD,this.dyd=new wk.Dyndata,this.mode=r,this.name=n}},Ek=function(e,t,n){t&&xD(t,n[0])===-1&&(Ee.luaO_pushfstring(e,tr("attempt to load a %s chunk (mode is '%s')"),n,t),qo(e,gD))},MD=function(e,t){let n,r=t.z.zgetc();r===pD[0]?(Ek(e,t.mode,tr("binary",!0)),n=bD.luaU_undump(e,t.z,t.name)):(Ek(e,t.mode,tr("text",!0)),n=wk.luaY_parser(e,t.z,t.buff,t.dyd,t.name,r)),yt(n.nupvalues===n.p.upvalues.length),sf.luaF_initupvals(e,n)},FD=function(e,t,n,r){let o=new of(t,n,r);e.nny++;let l=Ik(e,MD,o,e.top,e.errfunc);return e.nny--,l};Ge.exports.adjust_top=cf;Ge.exports.luaD_call=Ck;Ge.exports.luaD_callnoyield=rf;Ge.exports.luaD_checkstack=Po;Ge.exports.luaD_growstack=Rk;Ge.exports.luaD_hook=Va;Ge.exports.luaD_inctop=TD;Ge.exports.luaD_pcall=Ik;Ge.exports.luaD_poscall=qa;Ge.exports.luaD_precall=Ba;Ge.exports.luaD_protectedparser=FD;Ge.exports.luaD_rawrunprotected=Fa;Ge.exports.luaD_reallocstack=Ma;Ge.exports.luaD_throw=qo;Ge.exports.lua_isyieldable=DD;Ge.exports.lua_resume=ND;Ge.exports.lua_yield=ID;Ge.exports.lua_yieldk=Dk});var mn=w((o5,Je)=>{var{LUA_HOOKCOUNT:PD,LUA_HOOKLINE:BD,LUA_MASKCOUNT:qD,LUA_MASKLINE:Mk,constant_types:{LUA_TBOOLEAN:VD,LUA_TNIL:GD,LUA_TTABLE:KD},thread_status:{LUA_ERRRUN:HD,LUA_YIELD:ff},from_userstring:jD,luastring_eq:Vk,luastring_indexOf:Fk,to_luastring:re}=Ne(),{api_check:pf,lua_assert:hf}=gt(),{LUA_IDSIZE:Gk}=dt(),Pk=Il(),ti=zt(),Ka=Ir(),XD=Aa(),lt=Tt(),Vo=Ur(),kt=bn(),Bk=rn(),xe=Dr(),df=Nr(),Ha=function(e){return hf(e.callstatus&kt.CIST_LUA),e.l_savedpc-1},Kk=function(e){return e.func.value.p.lineinfo.length!==0?e.func.value.p.lineinfo[Ha(e)]:-1},Go=function(e){if(e.status===ff){let t=e.ci,n=t.funcOff;t.func=e.stack[t.extra],t.funcOff=t.extra,t.extra=n}},zD=function(e,t,n,r){(t===null||n===0)&&(n=0,t=null),e.ci.callstatus&kt.CIST_LUA&&(e.oldpc=e.ci.l_savedpc),e.hook=t,e.basehookcount=r,e.hookcount=e.basehookcount,e.hookmask=n},LD=function(e){return e.hook},JD=function(e){return e.hookmask},ZD=function(e){return e.basehookcount},$D=function(e,t,n){let r,o;if(t<0)return 0;for(r=e.ci;t>0&&r!==e.base_ci;r=r.previous)t--;return t===0&&r!==e.base_ci?(o=1,n.i_ci=r):o=0,o},_f=function(e,t){hf(t<e.upvalues.length);let n=e.upvalues[t].name;return n===null?re("?",!0):n.getstr()},YD=function(e,t){let n=e.func.value.p.numparams;return t>=e.l_base-e.funcOff-n?null:{pos:e.funcOff+n+t,name:re("(*vararg)",!0)}},Hk=function(e,t,n){let r,o=null;if(t.callstatus&kt.CIST_LUA){if(n<0)return YD(t,-n);r=t.l_base,o=Ka.luaF_getlocalname(t.func.value.p,n,Ha(t))}else r=t.funcOff+1;if(o===null)if((t===e.ci?e.top:t.next.funcOff)-r>=n&&n>0)o=re("(*temporary)",!0);else return null;return{pos:r+(n-1),name:o}},WD=function(e,t,n){let r;if(Go(e),t===null)e.stack[e.top-1].ttisLclosure()?r=Ka.luaF_getlocalname(e.stack[e.top-1].value.p,n,0):r=null;else{let o=Hk(e,t.i_ci,n);o?(r=o.name,lt.pushobj2s(e,e.stack[o.pos]),pf(e,e.top<=e.ci.top,"stack overflow")):r=null}return Go(e),r},QD=function(e,t,n){let r;Go(e);let o=Hk(e,t.i_ci,n);return o?(r=o.name,lt.setobjs2s(e,o.pos,e.top-1),delete e.stack[--e.top]):r=null,Go(e),r},eI=function(e,t){if(t===null||t instanceof lt.CClosure)e.source=re("=[JS]",!0),e.linedefined=-1,e.lastlinedefined=-1,e.what=re("J",!0);else{let n=t.p;e.source=n.source?n.source.getstr():re("=?",!0),e.linedefined=n.linedefined,e.lastlinedefined=n.lastlinedefined,e.what=e.linedefined===0?re("main",!0):re("Lua",!0)}e.short_src=lt.luaO_chunkid(e.source,Gk)},tI=function(e,t){if(t===null||t instanceof lt.CClosure)e.stack[e.top]=new lt.TValue(GD,null),Pk.api_incr_top(e);else{let n=t.p.lineinfo,r=Bk.luaH_new(e);e.stack[e.top]=new lt.TValue(KD,r),Pk.api_incr_top(e);let o=new lt.TValue(VD,!0);for(let l=0;l<n.length;l++)Bk.luaH_setint(r,n[l],o)}},nI=function(e,t){let n={name:null,funcname:null};return t===null?null:t.callstatus&kt.CIST_FIN?(n.name=re("__gc",!0),n.funcname=re("metamethod",!0),n):!(t.callstatus&kt.CIST_TAIL)&&t.previous.callstatus&kt.CIST_LUA?iI(e,t.previous):null},rI=function(e,t,n,r,o){let l=1;for(;t.length>0;t=t.subarray(1))switch(t[0]){case 83:{eI(n,r);break}case 108:{n.currentline=o&&o.callstatus&kt.CIST_LUA?Kk(o):-1;break}case 117:{n.nups=r===null?0:r.nupvalues,r===null||r instanceof lt.CClosure?(n.isvararg=!0,n.nparams=0):(n.isvararg=r.p.is_vararg,n.nparams=r.p.numparams);break}case 116:{n.istailcall=o?o.callstatus&kt.CIST_TAIL:0;break}case 110:{let i=nI(e,o);i===null?(n.namewhat=re("",!0),n.name=null):(n.namewhat=i.funcname,n.name=i.name);break}case 76:case 102:break;default:l=0}return l},oI=function(e,t,n){t=jD(t);let r,o,l,i;return Go(e),t[0]===62?(l=null,i=e.stack[e.top-1],pf(e,i.ttisfunction(),"function expected"),t=t.subarray(1),e.top--):(l=n.i_ci,i=l.func,hf(l.func.ttisfunction())),o=i.ttisclosure()?i.value:null,r=rI(e,t,n,o,l),Fk(t,102)>=0&&(lt.pushobj2s(e,i),pf(e,e.top<=e.ci.top,"stack overflow")),Go(e),Fk(t,76)>=0&&tI(e,o),r},qk=function(e,t,n){let r={name:null,funcname:null};if(Vo.ISK(n)){let o=e.k[Vo.INDEXK(n)];if(o.ttisstring())return r.name=o.svalue(),r}else{let o=ja(e,t,n);if(o&&o.funcname[0]===99)return o}return r.name=re("?",!0),r},Ga=function(e,t){return e<t?-1:e},lI=function(e,t,n){let r=-1,o=0,l=Vo.OpCodesI;for(let i=0;i<t;i++){let a=e.code[i],u=a.A;switch(a.opcode){case l.OP_LOADNIL:{let c=a.B;u<=n&&n<=u+c&&(r=Ga(i,o));break}case l.OP_TFORCALL:{n>=u+2&&(r=Ga(i,o));break}case l.OP_CALL:case l.OP_TAILCALL:{n>=u&&(r=Ga(i,o));break}case l.OP_JMP:{let c=a.sBx,s=i+1+c;i<s&&s<=t&&s>o&&(o=s);break}default:Vo.testAMode(a.opcode)&&n===u&&(r=Ga(i,o));break}}return r},ja=function(e,t,n){let r={name:Ka.luaF_getlocalname(e,n+1,t),funcname:null};if(r.name)return r.funcname=re("local",!0),r;let o=lI(e,t,n),l=Vo.OpCodesI;if(o!==-1){let i=e.code[o];switch(i.opcode){case l.OP_MOVE:{let a=i.B;if(a<i.A)return ja(e,o,a);break}case l.OP_GETTABUP:case l.OP_GETTABLE:{let a=i.C,u=i.B,c=i.opcode===l.OP_GETTABLE?Ka.luaF_getlocalname(e,u+1,o):_f(e,u);return r.name=qk(e,o,a).name,r.funcname=c&&Vk(c,XD.LUA_ENV)?re("global",!0):re("field",!0),r}case l.OP_GETUPVAL:return r.name=_f(e,i.B),r.funcname=re("upvalue",!0),r;case l.OP_LOADK:case l.OP_LOADKX:{let a=i.opcode===l.OP_LOADK?i.Bx:e.code[o+1].Ax;if(e.k[a].ttisstring())return r.name=e.k[a].svalue(),r.funcname=re("constant",!0),r;break}case l.OP_SELF:{let a=i.C;return r.name=qk(e,o,a).name,r.funcname=re("method",!0),r}default:break}}return null},iI=function(e,t){let n={name:null,funcname:null},r=0,o=t.func.value.p,l=Ha(t),i=o.code[l],a=Vo.OpCodesI;if(t.callstatus&kt.CIST_HOOKED)return n.name=re("?",!0),n.funcname=re("hook",!0),n;switch(i.opcode){case a.OP_CALL:case a.OP_TAILCALL:return ja(o,l,i.A);case a.OP_TFORCALL:return n.name=re("for iterator",!0),n.funcname=re("for iterator",!0),n;case a.OP_SELF:case a.OP_GETTABUP:case a.OP_GETTABLE:r=xe.TMS.TM_INDEX;break;case a.OP_SETTABUP:case a.OP_SETTABLE:r=xe.TMS.TM_NEWINDEX;break;case a.OP_ADD:r=xe.TMS.TM_ADD;break;case a.OP_SUB:r=xe.TMS.TM_SUB;break;case a.OP_MUL:r=xe.TMS.TM_MUL;break;case a.OP_MOD:r=xe.TMS.TM_MOD;break;case a.OP_POW:r=xe.TMS.TM_POW;break;case a.OP_DIV:r=xe.TMS.TM_DIV;break;case a.OP_IDIV:r=xe.TMS.TM_IDIV;break;case a.OP_BAND:r=xe.TMS.TM_BAND;break;case a.OP_BOR:r=xe.TMS.TM_BOR;break;case a.OP_BXOR:r=xe.TMS.TM_BXOR;break;case a.OP_SHL:r=xe.TMS.TM_SHL;break;case a.OP_SHR:r=xe.TMS.TM_SHR;break;case a.OP_UNM:r=xe.TMS.TM_UNM;break;case a.OP_BNOT:r=xe.TMS.TM_BNOT;break;case a.OP_LEN:r=xe.TMS.TM_LEN;break;case a.OP_CONCAT:r=xe.TMS.TM_CONCAT;break;case a.OP_EQ:r=xe.TMS.TM_EQ;break;case a.OP_LT:r=xe.TMS.TM_LT;break;case a.OP_LE:r=xe.TMS.TM_LE;break;default:return null}return n.name=e.l_G.tmname[r].getstr(),n.funcname=re("metamethod",!0),n},aI=function(e,t,n){for(let r=t.l_base;r<t.top;r++)if(e.stack[r]===n)return r;return!1},uI=function(e,t,n){let r=t.func.value;for(let o=0;o<r.nupvalues;o++)if(r.upvals[o]===n)return{name:_f(r.p,o),funcname:re("upvalue",!0)};return null},jk=function(e,t){let n=e.ci,r=null;if(n.callstatus&kt.CIST_LUA){r=uI(e,n,t);let o=aI(e,n,t);!r&&o&&(r=ja(n.func.value.p,Ha(n),o-n.l_base))}return r?lt.luaO_pushfstring(e,re(" (%s '%s')",!0),r.funcname,r.name):re("",!0)},gf=function(e,t,n){let r=xe.luaT_objtypename(e,t);ni(e,re("attempt to %s a %s value%s",!0),n,r,jk(e,t))},sI=function(e,t,n){(t.ttisstring()||df.cvt2str(t))&&(t=n),gf(e,t,re("concatenate",!0))},cI=function(e,t,n,r){df.tonumber(t)===!1&&(n=t),gf(e,n,r)},fI=function(e,t,n){let r=xe.luaT_objtypename(e,t),o=xe.luaT_objtypename(e,n);Vk(r,o)?ni(e,re("attempt to compare two %s values",!0),r):ni(e,re("attempt to compare %s with %s",!0),r,o)},Xk=function(e,t,n,r){let o;return n?o=lt.luaO_chunkid(n.getstr(),Gk):o=re("?",!0),lt.luaO_pushfstring(e,re("%s:%d: %s",!0),o,r,t)},ni=function(e,t,...n){let r=e.ci,o=lt.luaO_pushvfstring(e,t,n);r.callstatus&kt.CIST_LUA&&Xk(e,o,r.func.value.p.source,Kk(r)),zk(e)},zk=function(e){if(e.errfunc!==0){let t=e.errfunc;lt.pushobj2s(e,e.stack[e.top-1]),lt.setobjs2s(e,e.top-2,t),ti.luaD_callnoyield(e,e.top-2,1)}ti.luaD_throw(e,HD)},pI=function(e,t,n){df.tointeger(t)===!1&&(n=t),ni(e,re("number%s has no integer representation",!0),jk(e,n))},_I=function(e){let t=e.ci,n=e.hookmask,r=--e.hookcount===0&&n&qD;if(r)e.hookcount=e.basehookcount;else if(!(n&Mk))return;if(t.callstatus&kt.CIST_HOOKYIELD){t.callstatus&=~kt.CIST_HOOKYIELD;return}if(r&&ti.luaD_hook(e,PD,-1),n&Mk){let o=t.func.value.p,l=t.l_savedpc-1,i=o.lineinfo.length!==0?o.lineinfo[l]:-1;(l===0||t.l_savedpc<=e.oldpc||i!==(o.lineinfo.length!==0?o.lineinfo[e.oldpc-1]:-1))&&ti.luaD_hook(e,BD,i)}e.oldpc=t.l_savedpc,e.status===ff&&(r&&(e.hookcount=1),t.l_savedpc--,t.callstatus|=kt.CIST_HOOKYIELD,t.funcOff=e.top-1,t.func=e.stack[t.funcOff],ti.luaD_throw(e,ff))};Je.exports.luaG_addinfo=Xk;Je.exports.luaG_concaterror=sI;Je.exports.luaG_errormsg=zk;Je.exports.luaG_opinterror=cI;Je.exports.luaG_ordererror=fI;Je.exports.luaG_runerror=ni;Je.exports.luaG_tointerror=pI;Je.exports.luaG_traceexec=_I;Je.exports.luaG_typeerror=gf;Je.exports.lua_gethook=LD;Je.exports.lua_gethookcount=ZD;Je.exports.lua_gethookmask=JD;Je.exports.lua_getinfo=oI;Je.exports.lua_getlocal=WD;Je.exports.lua_getstack=$D;Je.exports.lua_sethook=zD;Je.exports.lua_setlocal=QD});var Qk=w((l5,Wk)=>{var{LUA_SIGNATURE:Lk,LUA_VERSION_MAJOR:hI,LUA_VERSION_MINOR:dI,constant_types:{LUA_TBOOLEAN:gI,LUA_TLNGSTR:AI,LUA_TNIL:xI,LUA_TNUMFLT:kI,LUA_TNUMINT:bI,LUA_TSHRSTR:mI},luastring_of:Zk}=Ne(),Jk=Zk(25,147,13,10,26,10),vI=22136,TI=370.5,EI=Number(hI)*16+Number(dI),OI=0,Af=class{constructor(){this.L=null,this.write=null,this.data=null,this.strip=NaN,this.status=NaN}},Kr=function(e,t,n){n.status===0&&t>0&&(n.status=n.writer(n.L,e,t,n.data))},Ze=function(e,t){Kr(Zk(e),1,t)},Rt=function(e,t){let n=new ArrayBuffer(4);new DataView(n).setInt32(0,e,!0);let o=new Uint8Array(n);Kr(o,4,t)},xf=function(e,t){let n=new ArrayBuffer(4);new DataView(n).setInt32(0,e,!0);let o=new Uint8Array(n);Kr(o,4,t)},$k=function(e,t){let n=new ArrayBuffer(8);new DataView(n).setFloat64(0,e,!0);let o=new Uint8Array(n);Kr(o,8,t)},ri=function(e,t){if(e===null)Ze(0,t);else{let n=e.tsslen()+1,r=e.getstr();n<255?Ze(n,t):(Ze(255,t),xf(n,t)),Kr(r,n-1,t)}},SI=function(e,t){let n=e.code.map(r=>r.code);Rt(n.length,t);for(let r=0;r<n.length;r++)Rt(n[r],t)},wI=function(e,t){let n=e.k.length;Rt(n,t);for(let r=0;r<n;r++){let o=e.k[r];switch(Ze(o.ttype(),t),o.ttype()){case xI:break;case gI:Ze(o.value?1:0,t);break;case kI:$k(o.value,t);break;case bI:xf(o.value,t);break;case mI:case AI:ri(o.tsvalue(),t);break}}},yI=function(e,t){let n=e.p.length;Rt(n,t);for(let r=0;r<n;r++)Yk(e.p[r],e.source,t)},RI=function(e,t){let n=e.upvalues.length;Rt(n,t);for(let r=0;r<n;r++)Ze(e.upvalues[r].instack?1:0,t),Ze(e.upvalues[r].idx,t)},UI=function(e,t){let n=t.strip?0:e.lineinfo.length;Rt(n,t);for(let r=0;r<n;r++)Rt(e.lineinfo[r],t);n=t.strip?0:e.locvars.length,Rt(n,t);for(let r=0;r<n;r++)ri(e.locvars[r].varname,t),Rt(e.locvars[r].startpc,t),Rt(e.locvars[r].endpc,t);n=t.strip?0:e.upvalues.length,Rt(n,t);for(let r=0;r<n;r++)ri(e.upvalues[r].name,t)},Yk=function(e,t,n){n.strip||e.source===t?ri(null,n):ri(e.source,n),Rt(e.linedefined,n),Rt(e.lastlinedefined,n),Ze(e.numparams,n),Ze(e.is_vararg?1:0,n),Ze(e.maxstacksize,n),SI(e,n),wI(e,n),RI(e,n),yI(e,n),UI(e,n)},CI=function(e){Kr(Lk,Lk.length,e),Ze(EI,e),Ze(OI,e),Kr(Jk,Jk.length,e),Ze(4,e),Ze(4,e),Ze(4,e),Ze(4,e),Ze(8,e),xf(vI,e),$k(TI,e)},NI=function(e,t,n,r,o){let l=new Af;return l.L=e,l.writer=n,l.data=r,l.strip=o,l.status=0,CI(l),Ze(t.upvalues.length,l),Yk(t,null,l),l.status};Wk.exports.luaU_dump=NI});var Il=w((i5,m)=>{var{LUA_MULTRET:mf,LUA_OPBNOT:DI,LUA_OPEQ:II,LUA_OPLE:MI,LUA_OPLT:FI,LUA_OPUNM:PI,LUA_REGISTRYINDEX:jr,LUA_RIDX_GLOBALS:za,LUA_VERSION_NUM:BI,constant_types:{LUA_NUMTAGS:qI,LUA_TBOOLEAN:eb,LUA_TCCL:vf,LUA_TFUNCTION:VI,LUA_TLCF:tb,LUA_TLCL:Tf,LUA_TLIGHTUSERDATA:jo,LUA_TLNGSTR:GI,LUA_TNIL:La,LUA_TNONE:Ef,LUA_TNUMFLT:KI,LUA_TNUMINT:Of,LUA_TSHRSTR:HI,LUA_TTABLE:Ko,LUA_TTHREAD:Sf,LUA_TUSERDATA:Xo},thread_status:{LUA_OK:Xa},from_userstring:nr,to_luastring:oi}=Ne(),{api_check:K}=gt(),jI=mn(),rr=zt(),{luaU_dump:XI}=Qk(),nb=Ir(),oe=Tt(),Hr=bn(),{luaS_bless:rb,luaS_new:Ja,luaS_newliteral:zI}=nn(),LI=Dr(),{LUAI_MAXSTACK:JI}=dt(),$e=Nr(),Ut=rn(),{ZIO:ZI}=Fl(),Pe=oe.TValue,$I=oe.CClosure,Ye=function(e){e.top++,K(e,e.top<=e.ci.top,"stack overflow")},Ke=function(e,t){K(e,t<e.top-e.ci.funcOff,"not enough elements in the stack")},Za=function(e){if(!e)throw TypeError("invalid argument")},In=function(e){Za(typeof e=="number"&&(e|0)===e)},Ho=function(e){return e!==oe.luaO_nilobject},YI=function(e){return e===null?BI:e.l_G.version},WI=function(e,t){let n=e.l_G.panic;return e.l_G.panic=t,n},QI=function(e,t){let n=e.l_G.atnativeerror;return e.l_G.atnativeerror=t,n},H=function(e,t){let n=e.ci;if(t>0){let r=n.funcOff+t;return K(e,t<=n.top-(n.funcOff+1),"unacceptable index"),r>=e.top?oe.luaO_nilobject:e.stack[r]}else return t>jr?(K(e,t!==0&&-t<=e.top,"invalid index"),e.stack[e.top+t]):t===jr?e.l_G.l_registry:(t=jr-t,K(e,t<=nb.MAXUPVAL+1,"upvalue index too large"),n.func.ttislcf()?oe.luaO_nilobject:t<=n.func.value.nupvalues?n.func.value.upvalue[t-1]:oe.luaO_nilobject)},ob=function(e,t){let n=e.ci;if(t>0){let r=n.funcOff+t;return K(e,t<=n.top-(n.funcOff+1),"unacceptable index"),r>=e.top?null:r}else{if(t>jr)return K(e,t!==0&&-t<=e.top,"invalid index"),e.top+t;throw Error("attempt to use pseudo-index")}},e2=function(e,t){let n,r=e.ci;return K(e,t>=0,"negative 'n'"),e.stack_last-e.top>t?n=!0:e.top+Hr.EXTRA_STACK>JI-t?n=!1:(rr.luaD_growstack(e,t),n=!0),n&&r.top<e.top+t&&(r.top=e.top+t),n},t2=function(e,t,n){if(e!==t){Ke(e,n),K(e,e.l_G===t.l_G,"moving among independent states"),K(e,t.ci.top-t.top>=n,"stack overflow"),e.top-=n;for(let r=0;r<n;r++)t.stack[t.top]=new oe.TValue,oe.setobj2s(t,t.top,e.stack[e.top+r]),delete e.stack[e.top+r],t.top++}},n2=function(e,t){return t>0||t<=jr?t:e.top-e.ci.funcOff+t},r2=function(e){return e.top-(e.ci.funcOff+1)},o2=function(e,t){oe.pushobj2s(e,H(e,t)),K(e,e.top<=e.ci.top,"stack overflow")},lb=function(e,t){let n=e.ci.funcOff,r;t>=0?(K(e,t<=e.stack_last-(n+1),"new top too large"),r=n+1+t):(K(e,-(t+1)<=e.top-(n+1),"invalid new top"),r=e.top+t+1),rr.adjust_top(e,r)},wf=function(e,t){lb(e,-t-1)},kf=function(e,t,n){for(;t<n;t++,n--){let r=e.stack[t],o=new Pe(r.type,r.value);oe.setobjs2s(e,t,n),oe.setobj2s(e,n,o)}},yf=function(e,t,n){let r=e.top-1,o=ob(e,t),l=e.stack[o];K(e,Ho(l)&&t>jr,"index not in the stack"),K(e,(n>=0?n:-n)<=r-o+1,"invalid 'n'");let i=n>=0?r-n:o-n-1;kf(e,o,i),kf(e,i+1,e.top-1),kf(e,o,e.top-1)},ib=function(e,t,n){let r=H(e,t);H(e,n).setfrom(r)},l2=function(e,t){yf(e,t,-1),wf(e,1)},i2=function(e,t){yf(e,t,1)},a2=function(e,t){ib(e,-1,t),wf(e,1)},u2=function(e){e.stack[e.top]=new Pe(La,null),Ye(e)},s2=function(e,t){Za(typeof t=="number"),e.stack[e.top]=new Pe(KI,t),Ye(e)},c2=function(e,t){In(t),e.stack[e.top]=new Pe(Of,t),Ye(e)},f2=function(e,t,n){In(n);let r;return n===0?(t=oi("",!0),r=rb(e,t)):(t=nr(t),K(e,t.length>=n,"invalid length to lua_pushlstring"),r=Ja(e,t.subarray(0,n))),oe.pushsvalue2s(e,r),K(e,e.top<=e.ci.top,"stack overflow"),r.value},p2=function(e,t){if(t==null)e.stack[e.top]=new Pe(La,null),e.top++;else{let n=Ja(e,nr(t));oe.pushsvalue2s(e,n),t=n.getstr()}return K(e,e.top<=e.ci.top,"stack overflow"),t},_2=function(e,t,n){return t=nr(t),oe.luaO_pushvfstring(e,t,n)},h2=function(e,t,...n){return t=nr(t),oe.luaO_pushvfstring(e,t,n)},d2=function(e,t){if(t==null)e.stack[e.top]=new Pe(La,null),e.top++;else{Za(typeof t=="string");let n=zI(e,t);oe.pushsvalue2s(e,n),t=n.getstr()}return K(e,e.top<=e.ci.top,"stack overflow"),t},Rf=function(e,t,n){if(Za(typeof t=="function"),In(n),n===0)e.stack[e.top]=new Pe(tb,t);else{Ke(e,n),K(e,n<=nb.MAXUPVAL,"upvalue index too large");let r=new $I(e,t,n);for(let o=0;o<n;o++)r.upvalue[o].setfrom(e.stack[e.top-n+o]);for(let o=1;o<n;o++)delete e.stack[--e.top];n>0&&--e.top,e.stack[e.top].setclCvalue(r)}Ye(e)},g2=Rf,Uf=function(e,t){Rf(e,t,0)},A2=Uf,x2=function(e,t){e.stack[e.top]=new Pe(eb,!!t),Ye(e)},k2=function(e,t){e.stack[e.top]=new Pe(jo,t),Ye(e)},b2=function(e){return e.stack[e.top]=new Pe(Sf,e),Ye(e),e.l_G.mainthread===e},m2=function(e){cb(e,jr,za)},ab=function(e,t,n){let r=Ja(e,nr(n));Ke(e,1),oe.pushsvalue2s(e,r),K(e,e.top<=e.ci.top,"stack overflow"),$e.settable(e,t,e.stack[e.top-1],e.stack[e.top-2]),delete e.stack[--e.top],delete e.stack[--e.top]},ub=function(e,t){ab(e,Ut.luaH_getint(e.l_G.l_registry.value,za),t)},v2=function(e,t){Ke(e,1);let n,r=H(e,t);switch(e.stack[e.top-1].ttisnil()?n=null:(K(e,e.stack[e.top-1].ttistable(),"table expected"),n=e.stack[e.top-1].value),r.ttnov()){case Xo:case Ko:{r.value.metatable=n;break}default:{e.l_G.mt[r.ttnov()]=n;break}}return delete e.stack[--e.top],!0},T2=function(e,t){Ke(e,2);let n=H(e,t);$e.settable(e,n,e.stack[e.top-2],e.stack[e.top-1]),delete e.stack[--e.top],delete e.stack[--e.top]},E2=function(e,t,n){ab(e,H(e,t),n)},O2=function(e,t,n){In(n),Ke(e,1);let r=H(e,t);e.stack[e.top]=new Pe(Of,n),Ye(e),$e.settable(e,r,e.stack[e.top-1],e.stack[e.top-2]),delete e.stack[--e.top],delete e.stack[--e.top]},S2=function(e,t){Ke(e,2);let n=H(e,t);K(e,n.ttistable(),"table expected");let r=e.stack[e.top-2],o=e.stack[e.top-1];Ut.luaH_setfrom(e,n.value,r,o),Ut.invalidateTMcache(n.value),delete e.stack[--e.top],delete e.stack[--e.top]},w2=function(e,t,n){In(n),Ke(e,1);let r=H(e,t);K(e,r.ttistable(),"table expected"),Ut.luaH_setint(r.value,n,e.stack[e.top-1]),delete e.stack[--e.top]},y2=function(e,t,n){Ke(e,1);let r=H(e,t);K(e,r.ttistable(),"table expected");let o=new Pe(jo,n),l=e.stack[e.top-1];Ut.luaH_setfrom(e,r.value,o,l),delete e.stack[--e.top]},sb=function(e,t,n){let r=Ja(e,nr(n));return oe.pushsvalue2s(e,r),K(e,e.top<=e.ci.top,"stack overflow"),$e.luaV_gettable(e,t,e.stack[e.top-1],e.top-1),e.stack[e.top-1].ttnov()},cb=function(e,t,n){let r=H(e,t);return In(n),K(e,r.ttistable(),"table expected"),oe.pushobj2s(e,Ut.luaH_getint(r.value,n)),K(e,e.top<=e.ci.top,"stack overflow"),e.stack[e.top-1].ttnov()},R2=function(e,t,n){let r=H(e,t);K(e,r.ttistable(),"table expected");let o=new Pe(jo,n);return oe.pushobj2s(e,Ut.luaH_get(e,r.value,o)),K(e,e.top<=e.ci.top,"stack overflow"),e.stack[e.top-1].ttnov()},U2=function(e,t){let n=H(e,t);return K(e,n.ttistable(n),"table expected"),oe.setobj2s(e,e.top-1,Ut.luaH_get(e,n.value,e.stack[e.top-1])),e.stack[e.top-1].ttnov()},fb=function(e,t,n){let r=new oe.TValue(Ko,Ut.luaH_new(e));e.stack[e.top]=r,Ye(e)},C2=function(e,t){return new oe.Udata(e,t)},N2=function(e,t){let n=C2(e,t);return e.stack[e.top]=new oe.TValue(Xo,n),Ye(e),n.data},pb=function(e,t,n){switch(In(n),t.ttype()){case vf:{let r=t.value;return 1<=n&&n<=r.nupvalues?{name:oi("",!0),val:r.upvalue[n-1]}:null}case Tf:{let r=t.value,o=r.p;if(!(1<=n&&n<=o.upvalues.length))return null;let l=o.upvalues[n-1].name;return{name:l?l.getstr():oi("(*no name)",!0),val:r.upvals[n-1]}}default:return null}},D2=function(e,t,n){let r=pb(e,H(e,t),n);if(r){let o=r.name,l=r.val;return oe.pushobj2s(e,l),K(e,e.top<=e.ci.top,"stack overflow"),o}return null},I2=function(e,t,n){let r=H(e,t);Ke(e,1);let o=pb(e,r,n);if(o){let l=o.name;return o.val.setfrom(e.stack[e.top-1]),delete e.stack[--e.top],l}return null},M2=function(e){fb(e,0,0)},F2=function(e,t,n){Uf(e,n),ub(e,t)},P2=function(e,t){let n=H(e,t),r,o=!1;switch(n.ttnov()){case Ko:case Xo:r=n.value.metatable;break;default:r=e.l_G.mt[n.ttnov()];break}return r!=null&&(e.stack[e.top]=new Pe(Ko,r),Ye(e),o=!0),o},B2=function(e,t){let n=H(e,t);K(e,n.ttisfulluserdata(),"full userdata expected");let r=n.value.uservalue;return e.stack[e.top]=new Pe(r.type,r.value),Ye(e),e.stack[e.top-1].ttnov()},q2=function(e,t){let n=H(e,t);return $e.luaV_gettable(e,n,e.stack[e.top-1],e.top-1),e.stack[e.top-1].ttnov()},V2=function(e,t,n){return sb(e,H(e,t),n)},G2=function(e,t,n){let r=H(e,t);return In(n),e.stack[e.top]=new Pe(Of,n),Ye(e),$e.luaV_gettable(e,r,e.stack[e.top-1],e.top-1),e.stack[e.top-1].ttnov()},K2=function(e,t){return sb(e,Ut.luaH_getint(e.l_G.l_registry.value,za),t)},H2=function(e,t){return!H(e,t).l_isfalse()},Cf=function(e,t){let n=H(e,t);if(!n.ttisstring()){if(!$e.cvt2str(n))return null;oe.luaO_tostring(e,n)}return n.svalue()},j2=Cf,X2=function(e,t){let n=H(e,t);if(!n.ttisstring()){if(!$e.cvt2str(n))return null;oe.luaO_tostring(e,n)}return n.jsstring()},z2=function(e,t){let n=Cf(e,t);return new DataView(n.buffer,n.byteOffset,n.byteLength)},L2=function(e,t){let n=H(e,t);switch(n.ttype()){case HI:case GI:return n.vslen();case Xo:return n.value.len;case Ko:return Ut.luaH_getn(n.value);default:return 0}},J2=function(e,t){let n=H(e,t);return n.ttislcf()||n.ttisCclosure()?n.value:null},Z2=function(e,t){let n=_b(e,t);return n===!1?0:n},_b=function(e,t){return $e.tointeger(H(e,t))},$2=function(e,t){let n=hb(e,t);return n===!1?0:n},hb=function(e,t){return $e.tonumber(H(e,t))},Y2=function(e,t){let n=H(e,t);switch(n.ttnov()){case Xo:return n.value.data;case jo:return n.value;default:return null}},W2=function(e,t){let n=H(e,t);return n.ttisthread()?n.value:null},Q2=function(e,t){let n=H(e,t);switch(n.ttype()){case Ko:case Tf:case vf:case tb:case Sf:case Xo:case jo:return n.value;default:return null}},db=new WeakMap,eM=function(e,t){let n=db.get(e);return n?t===null||t.l_G===n:!1},tM=function(e,t,n){let r=function(o){K(o,o instanceof Hr.lua_State&&e===o.l_G,"must be from same global state"),o.stack[o.top]=new Pe(t,n),Ye(o)};return db.set(r,e),r},nM=function(e,t){let n=H(e,t);return tM(e.l_G,n.type,n.value)},rM=function(e,t,n,r){let o=H(e,t),l=H(e,n),i=0;if(Ho(o)&&Ho(l))switch(r){case II:i=$e.luaV_equalobj(e,o,l);break;case FI:i=$e.luaV_lessthan(e,o,l);break;case MI:i=$e.luaV_lessequal(e,o,l);break;default:K(e,!1,"invalid option")}return i},oM=function(e,t){let n=new Pe,r=oe.luaO_str2num(t,n);return r!==0&&(e.stack[e.top]=n,Ye(e)),r},lM=function(e,t){rr.luaD_callnoyield(e,t.funcOff,t.nresults)},or=function(e,t){let n=H(e,t);return Ho(n)?n.ttnov():Ef},iM=function(e,t){return K(e,Ef<=t&&t<qI,"invalid tag"),LI.ttypename(t)},aM=function(e,t){let n=H(e,t);return n.ttislcf(n)||n.ttisCclosure()},uM=function(e,t){return or(e,t)===La},sM=function(e,t){return or(e,t)===eb},cM=function(e,t){return or(e,t)===Ef},fM=function(e,t){return or(e,t)<=0},pM=function(e,t){return H(e,t).ttistable()},_M=function(e,t){return H(e,t).ttisinteger()},hM=function(e,t){return $e.tonumber(H(e,t))!==!1},dM=function(e,t){let n=H(e,t);return n.ttisstring()||$e.cvt2str(n)},gM=function(e,t){let n=H(e,t);return n.ttisfulluserdata(n)||n.ttislightuserdata()},AM=function(e,t){return or(e,t)===Sf},xM=function(e,t){return or(e,t)===VI},kM=function(e,t){return or(e,t)===jo},bM=function(e,t,n){let r=H(e,t),o=H(e,n);return Ho(r)&&Ho(o)?$e.luaV_equalobj(null,r,o):0},mM=function(e,t){t!==PI&&t!==DI?Ke(e,2):(Ke(e,1),oe.pushobj2s(e,e.stack[e.top-1]),K(e,e.top<=e.ci.top,"stack overflow")),oe.luaO_arith(e,t,e.stack[e.top-2],e.stack[e.top-1],e.stack[e.top-2]),delete e.stack[--e.top]},vM=oi("?"),TM=function(e,t,n,r,o){r?r=nr(r):r=vM,o!==null&&(o=nr(o));let l=new ZI(e,t,n),i=rr.luaD_protectedparser(e,l,r,o);if(i===Xa){let a=e.stack[e.top-1].value;if(a.nupvalues>=1){let u=Ut.luaH_getint(e.l_G.l_registry.value,za);a.upvals[0].setfrom(u)}}return i},EM=function(e,t,n,r){Ke(e,1);let o=e.stack[e.top-1];return o.ttisLclosure()?XI(e,o.value.p,t,n,r):1},OM=function(e){return e.status},SM=function(e,t){Ke(e,1);let n=H(e,t);K(e,n.ttisfulluserdata(),"full userdata expected"),n.value.uservalue.setfrom(e.stack[e.top-1]),delete e.stack[--e.top]},gb=function(e,t,n){K(e,n===mf||e.ci.top-e.top>=n-t,"results from function overflow current stack size")},Ab=function(e,t,n,r,o){K(e,o===null||!(e.ci.callstatus&Hr.CIST_LUA),"cannot use continuations inside hooks"),Ke(e,t+1),K(e,e.status===Xa,"cannot do calls on non-normal thread"),gb(e,t,n);let l=e.top-(t+1);o!==null&&e.nny===0?(e.ci.c_k=o,e.ci.c_ctx=r,rr.luaD_call(e,l,n)):rr.luaD_callnoyield(e,l,n),n===mf&&e.ci.top<e.top&&(e.ci.top=e.top)},wM=function(e,t,n){Ab(e,t,n,0,null)},xb=function(e,t,n,r,o,l){K(e,l===null||!(e.ci.callstatus&Hr.CIST_LUA),"cannot use continuations inside hooks"),Ke(e,t+1),K(e,e.status===Xa,"cannot do calls on non-normal thread"),gb(e,t,n);let i,a;r===0?a=0:a=ob(e,r);let u=e.top-(t+1);if(l===null||e.nny>0){let c={funcOff:u,nresults:n};i=rr.luaD_pcall(e,lM,c,u,a)}else{let c=e.ci;c.c_k=l,c.c_ctx=o,c.extra=u,c.c_old_errfunc=e.errfunc,e.errfunc=a,c.callstatus&=~Hr.CIST_OAH|e.allowhook,c.callstatus|=Hr.CIST_YPCALL,rr.luaD_call(e,u,n),c.callstatus&=~Hr.CIST_YPCALL,e.errfunc=c.c_old_errfunc,i=Xa}return n===mf&&e.ci.top<e.top&&(e.ci.top=e.top),i},yM=function(e,t,n,r){return xb(e,t,n,r,0,null)},RM=function(e){Ke(e,1),jI.luaG_errormsg(e)},UM=function(e,t){let n=H(e,t);return K(e,n.ttistable(),"table expected"),e.stack[e.top]=new Pe,Ut.luaH_next(e,n.value,e.top-1)?(Ye(e),1):(delete e.stack[e.top],delete e.stack[--e.top],0)},CM=function(e,t){Ke(e,t),t>=2?$e.luaV_concat(e,t):t===0&&(oe.pushsvalue2s(e,rb(e,oi("",!0))),K(e,e.top<=e.ci.top,"stack overflow"))},NM=function(e,t){let n=H(e,t),r=new Pe;$e.luaV_objlen(e,r,n),e.stack[e.top]=r,Ye(e)},bf=function(e,t,n){let r=H(e,t);K(e,r.ttisLclosure(),"Lua function expected");let o=r.value;return In(n),K(e,1<=n&&n<=o.p.upvalues.length,"invalid upvalue index"),{f:o,i:n-1}},DM=function(e,t,n){let r=H(e,t);switch(r.ttype()){case Tf:{let o=bf(e,t,n);return o.f.upvals[o.i]}case vf:{let o=r.value;return K(e,(n|0)===n&&n>0&&n<=o.nupvalues,"invalid upvalue index"),o.upvalue[n-1]}default:return K(e,!1,"closure expected"),null}},IM=function(e,t,n,r,o){let l=bf(e,t,n),i=bf(e,r,o),a=i.f.upvals[i.i];l.f.upvals[l.i]=a},MM=function(){},FM=function(){return console.warn("lua_getallocf is not available"),0},PM=function(){return console.warn("lua_setallocf is not available"),0},BM=function(){return console.warn("lua_getextraspace is not available"),0};m.exports.api_incr_top=Ye;m.exports.api_checknelems=Ke;m.exports.lua_absindex=n2;m.exports.lua_arith=mM;m.exports.lua_atpanic=WI;m.exports.lua_atnativeerror=QI;m.exports.lua_call=wM;m.exports.lua_callk=Ab;m.exports.lua_checkstack=e2;m.exports.lua_compare=rM;m.exports.lua_concat=CM;m.exports.lua_copy=ib;m.exports.lua_createtable=fb;m.exports.lua_dump=EM;m.exports.lua_error=RM;m.exports.lua_gc=MM;m.exports.lua_getallocf=FM;m.exports.lua_getextraspace=BM;m.exports.lua_getfield=V2;m.exports.lua_getglobal=K2;m.exports.lua_geti=G2;m.exports.lua_getmetatable=P2;m.exports.lua_gettable=q2;m.exports.lua_gettop=r2;m.exports.lua_getupvalue=D2;m.exports.lua_getuservalue=B2;m.exports.lua_insert=i2;m.exports.lua_isboolean=sM;m.exports.lua_iscfunction=aM;m.exports.lua_isfunction=xM;m.exports.lua_isinteger=_M;m.exports.lua_islightuserdata=kM;m.exports.lua_isnil=uM;m.exports.lua_isnone=cM;m.exports.lua_isnoneornil=fM;m.exports.lua_isnumber=hM;m.exports.lua_isproxy=eM;m.exports.lua_isstring=dM;m.exports.lua_istable=pM;m.exports.lua_isthread=AM;m.exports.lua_isuserdata=gM;m.exports.lua_len=NM;m.exports.lua_load=TM;m.exports.lua_newtable=M2;m.exports.lua_newuserdata=N2;m.exports.lua_next=UM;m.exports.lua_pcall=yM;m.exports.lua_pcallk=xb;m.exports.lua_pop=wf;m.exports.lua_pushboolean=x2;m.exports.lua_pushcclosure=Rf;m.exports.lua_pushcfunction=Uf;m.exports.lua_pushfstring=h2;m.exports.lua_pushglobaltable=m2;m.exports.lua_pushinteger=c2;m.exports.lua_pushjsclosure=g2;m.exports.lua_pushjsfunction=A2;m.exports.lua_pushlightuserdata=k2;m.exports.lua_pushliteral=d2;m.exports.lua_pushlstring=f2;m.exports.lua_pushnil=u2;m.exports.lua_pushnumber=s2;m.exports.lua_pushstring=p2;m.exports.lua_pushthread=b2;m.exports.lua_pushvalue=o2;m.exports.lua_pushvfstring=_2;m.exports.lua_rawequal=bM;m.exports.lua_rawget=U2;m.exports.lua_rawgeti=cb;m.exports.lua_rawgetp=R2;m.exports.lua_rawlen=L2;m.exports.lua_rawset=S2;m.exports.lua_rawseti=w2;m.exports.lua_rawsetp=y2;m.exports.lua_register=F2;m.exports.lua_remove=l2;m.exports.lua_replace=a2;m.exports.lua_rotate=yf;m.exports.lua_setallocf=PM;m.exports.lua_setfield=E2;m.exports.lua_setglobal=ub;m.exports.lua_seti=O2;m.exports.lua_setmetatable=v2;m.exports.lua_settable=T2;m.exports.lua_settop=lb;m.exports.lua_setupvalue=I2;m.exports.lua_setuservalue=SM;m.exports.lua_status=OM;m.exports.lua_stringtonumber=oM;m.exports.lua_toboolean=H2;m.exports.lua_tocfunction=J2;m.exports.lua_todataview=z2;m.exports.lua_tointeger=Z2;m.exports.lua_tointegerx=_b;m.exports.lua_tojsstring=X2;m.exports.lua_tolstring=Cf;m.exports.lua_tonumber=$2;m.exports.lua_tonumberx=hb;m.exports.lua_topointer=Q2;m.exports.lua_toproxy=nM;m.exports.lua_tostring=j2;m.exports.lua_tothread=W2;m.exports.lua_touserdata=Y2;m.exports.lua_type=or;m.exports.lua_typename=iM;m.exports.lua_upvalueid=DM;m.exports.lua_upvaluejoin=IM;m.exports.lua_version=YI;m.exports.lua_xmove=t2});var pt=w((a5,g)=>{var M=Ne(),v=Il(),lr=mn(),li=zt(),Nf=bn();g.exports.LUA_AUTHORS=M.LUA_AUTHORS;g.exports.LUA_COPYRIGHT=M.LUA_COPYRIGHT;g.exports.LUA_ERRERR=M.thread_status.LUA_ERRERR;g.exports.LUA_ERRGCMM=M.thread_status.LUA_ERRGCMM;g.exports.LUA_ERRMEM=M.thread_status.LUA_ERRMEM;g.exports.LUA_ERRRUN=M.thread_status.LUA_ERRRUN;g.exports.LUA_ERRSYNTAX=M.thread_status.LUA_ERRSYNTAX;g.exports.LUA_HOOKCALL=M.LUA_HOOKCALL;g.exports.LUA_HOOKCOUNT=M.LUA_HOOKCOUNT;g.exports.LUA_HOOKLINE=M.LUA_HOOKLINE;g.exports.LUA_HOOKRET=M.LUA_HOOKRET;g.exports.LUA_HOOKTAILCALL=M.LUA_HOOKTAILCALL;g.exports.LUA_MASKCALL=M.LUA_MASKCALL;g.exports.LUA_MASKCOUNT=M.LUA_MASKCOUNT;g.exports.LUA_MASKLINE=M.LUA_MASKLINE;g.exports.LUA_MASKRET=M.LUA_MASKRET;g.exports.LUA_MINSTACK=M.LUA_MINSTACK;g.exports.LUA_MULTRET=M.LUA_MULTRET;g.exports.LUA_NUMTAGS=M.constant_types.LUA_NUMTAGS;g.exports.LUA_OK=M.thread_status.LUA_OK;g.exports.LUA_OPADD=M.LUA_OPADD;g.exports.LUA_OPBAND=M.LUA_OPBAND;g.exports.LUA_OPBNOT=M.LUA_OPBNOT;g.exports.LUA_OPBOR=M.LUA_OPBOR;g.exports.LUA_OPBXOR=M.LUA_OPBXOR;g.exports.LUA_OPDIV=M.LUA_OPDIV;g.exports.LUA_OPEQ=M.LUA_OPEQ;g.exports.LUA_OPIDIV=M.LUA_OPIDIV;g.exports.LUA_OPLE=M.LUA_OPLE;g.exports.LUA_OPLT=M.LUA_OPLT;g.exports.LUA_OPMOD=M.LUA_OPMOD;g.exports.LUA_OPMUL=M.LUA_OPMUL;g.exports.LUA_OPPOW=M.LUA_OPPOW;g.exports.LUA_OPSHL=M.LUA_OPSHL;g.exports.LUA_OPSHR=M.LUA_OPSHR;g.exports.LUA_OPSUB=M.LUA_OPSUB;g.exports.LUA_OPUNM=M.LUA_OPUNM;g.exports.LUA_REGISTRYINDEX=M.LUA_REGISTRYINDEX;g.exports.LUA_RELEASE=M.LUA_RELEASE;g.exports.LUA_RIDX_GLOBALS=M.LUA_RIDX_GLOBALS;g.exports.LUA_RIDX_LAST=M.LUA_RIDX_LAST;g.exports.LUA_RIDX_MAINTHREAD=M.LUA_RIDX_MAINTHREAD;g.exports.LUA_SIGNATURE=M.LUA_SIGNATURE;g.exports.LUA_TNONE=M.constant_types.LUA_TNONE;g.exports.LUA_TNIL=M.constant_types.LUA_TNIL;g.exports.LUA_TBOOLEAN=M.constant_types.LUA_TBOOLEAN;g.exports.LUA_TLIGHTUSERDATA=M.constant_types.LUA_TLIGHTUSERDATA;g.exports.LUA_TNUMBER=M.constant_types.LUA_TNUMBER;g.exports.LUA_TSTRING=M.constant_types.LUA_TSTRING;g.exports.LUA_TTABLE=M.constant_types.LUA_TTABLE;g.exports.LUA_TFUNCTION=M.constant_types.LUA_TFUNCTION;g.exports.LUA_TUSERDATA=M.constant_types.LUA_TUSERDATA;g.exports.LUA_TTHREAD=M.constant_types.LUA_TTHREAD;g.exports.LUA_VERSION=M.LUA_VERSION;g.exports.LUA_VERSION_MAJOR=M.LUA_VERSION_MAJOR;g.exports.LUA_VERSION_MINOR=M.LUA_VERSION_MINOR;g.exports.LUA_VERSION_NUM=M.LUA_VERSION_NUM;g.exports.LUA_VERSION_RELEASE=M.LUA_VERSION_RELEASE;g.exports.LUA_YIELD=M.thread_status.LUA_YIELD;g.exports.lua_Debug=M.lua_Debug;g.exports.lua_upvalueindex=M.lua_upvalueindex;g.exports.lua_absindex=v.lua_absindex;g.exports.lua_arith=v.lua_arith;g.exports.lua_atpanic=v.lua_atpanic;g.exports.lua_atnativeerror=v.lua_atnativeerror;g.exports.lua_call=v.lua_call;g.exports.lua_callk=v.lua_callk;g.exports.lua_checkstack=v.lua_checkstack;g.exports.lua_close=Nf.lua_close;g.exports.lua_compare=v.lua_compare;g.exports.lua_concat=v.lua_concat;g.exports.lua_copy=v.lua_copy;g.exports.lua_createtable=v.lua_createtable;g.exports.lua_dump=v.lua_dump;g.exports.lua_error=v.lua_error;g.exports.lua_gc=v.lua_gc;g.exports.lua_getallocf=v.lua_getallocf;g.exports.lua_getextraspace=v.lua_getextraspace;g.exports.lua_getfield=v.lua_getfield;g.exports.lua_getglobal=v.lua_getglobal;g.exports.lua_gethook=lr.lua_gethook;g.exports.lua_gethookcount=lr.lua_gethookcount;g.exports.lua_gethookmask=lr.lua_gethookmask;g.exports.lua_geti=v.lua_geti;g.exports.lua_getinfo=lr.lua_getinfo;g.exports.lua_getlocal=lr.lua_getlocal;g.exports.lua_getmetatable=v.lua_getmetatable;g.exports.lua_getstack=lr.lua_getstack;g.exports.lua_gettable=v.lua_gettable;g.exports.lua_gettop=v.lua_gettop;g.exports.lua_getupvalue=v.lua_getupvalue;g.exports.lua_getuservalue=v.lua_getuservalue;g.exports.lua_insert=v.lua_insert;g.exports.lua_isboolean=v.lua_isboolean;g.exports.lua_iscfunction=v.lua_iscfunction;g.exports.lua_isfunction=v.lua_isfunction;g.exports.lua_isinteger=v.lua_isinteger;g.exports.lua_islightuserdata=v.lua_islightuserdata;g.exports.lua_isnil=v.lua_isnil;g.exports.lua_isnone=v.lua_isnone;g.exports.lua_isnoneornil=v.lua_isnoneornil;g.exports.lua_isnumber=v.lua_isnumber;g.exports.lua_isproxy=v.lua_isproxy;g.exports.lua_isstring=v.lua_isstring;g.exports.lua_istable=v.lua_istable;g.exports.lua_isthread=v.lua_isthread;g.exports.lua_isuserdata=v.lua_isuserdata;g.exports.lua_isyieldable=li.lua_isyieldable;g.exports.lua_len=v.lua_len;g.exports.lua_load=v.lua_load;g.exports.lua_newstate=Nf.lua_newstate;g.exports.lua_newtable=v.lua_newtable;g.exports.lua_newthread=Nf.lua_newthread;g.exports.lua_newuserdata=v.lua_newuserdata;g.exports.lua_next=v.lua_next;g.exports.lua_pcall=v.lua_pcall;g.exports.lua_pcallk=v.lua_pcallk;g.exports.lua_pop=v.lua_pop;g.exports.lua_pushboolean=v.lua_pushboolean;g.exports.lua_pushcclosure=v.lua_pushcclosure;g.exports.lua_pushcfunction=v.lua_pushcfunction;g.exports.lua_pushfstring=v.lua_pushfstring;g.exports.lua_pushglobaltable=v.lua_pushglobaltable;g.exports.lua_pushinteger=v.lua_pushinteger;g.exports.lua_pushjsclosure=v.lua_pushjsclosure;g.exports.lua_pushjsfunction=v.lua_pushjsfunction;g.exports.lua_pushlightuserdata=v.lua_pushlightuserdata;g.exports.lua_pushliteral=v.lua_pushliteral;g.exports.lua_pushlstring=v.lua_pushlstring;g.exports.lua_pushnil=v.lua_pushnil;g.exports.lua_pushnumber=v.lua_pushnumber;g.exports.lua_pushstring=v.lua_pushstring;g.exports.lua_pushthread=v.lua_pushthread;g.exports.lua_pushvalue=v.lua_pushvalue;g.exports.lua_pushvfstring=v.lua_pushvfstring;g.exports.lua_rawequal=v.lua_rawequal;g.exports.lua_rawget=v.lua_rawget;g.exports.lua_rawgeti=v.lua_rawgeti;g.exports.lua_rawgetp=v.lua_rawgetp;g.exports.lua_rawlen=v.lua_rawlen;g.exports.lua_rawset=v.lua_rawset;g.exports.lua_rawseti=v.lua_rawseti;g.exports.lua_rawsetp=v.lua_rawsetp;g.exports.lua_register=v.lua_register;g.exports.lua_remove=v.lua_remove;g.exports.lua_replace=v.lua_replace;g.exports.lua_resume=li.lua_resume;g.exports.lua_rotate=v.lua_rotate;g.exports.lua_setallof=li.lua_setallof;g.exports.lua_setfield=v.lua_setfield;g.exports.lua_setglobal=v.lua_setglobal;g.exports.lua_sethook=lr.lua_sethook;g.exports.lua_seti=v.lua_seti;g.exports.lua_setlocal=lr.lua_setlocal;g.exports.lua_setmetatable=v.lua_setmetatable;g.exports.lua_settable=v.lua_settable;g.exports.lua_settop=v.lua_settop;g.exports.lua_setupvalue=v.lua_setupvalue;g.exports.lua_setuservalue=v.lua_setuservalue;g.exports.lua_status=v.lua_status;g.exports.lua_stringtonumber=v.lua_stringtonumber;g.exports.lua_toboolean=v.lua_toboolean;g.exports.lua_todataview=v.lua_todataview;g.exports.lua_tointeger=v.lua_tointeger;g.exports.lua_tointegerx=v.lua_tointegerx;g.exports.lua_tojsstring=v.lua_tojsstring;g.exports.lua_tolstring=v.lua_tolstring;g.exports.lua_tonumber=v.lua_tonumber;g.exports.lua_tonumberx=v.lua_tonumberx;g.exports.lua_topointer=v.lua_topointer;g.exports.lua_toproxy=v.lua_toproxy;g.exports.lua_tostring=v.lua_tostring;g.exports.lua_tothread=v.lua_tothread;g.exports.lua_touserdata=v.lua_touserdata;g.exports.lua_type=v.lua_type;g.exports.lua_typename=v.lua_typename;g.exports.lua_upvalueid=v.lua_upvalueid;g.exports.lua_upvaluejoin=v.lua_upvaluejoin;g.exports.lua_version=v.lua_version;g.exports.lua_xmove=v.lua_xmove;g.exports.lua_yield=li.lua_yield;g.exports.lua_yieldk=li.lua_yieldk;g.exports.lua_tocfunction=v.lua_tocfunction});var Nt=w((u5,N)=>{var{LUAL_BUFFERSIZE:qM}=dt(),{LUA_ERRERR:VM,LUA_MULTRET:Eb,LUA_REGISTRYINDEX:eu,LUA_SIGNATURE:GM,LUA_TBOOLEAN:KM,LUA_TLIGHTUSERDATA:HM,LUA_TNIL:zo,LUA_TNONE:jM,LUA_TNUMBER:Mf,LUA_TSTRING:ai,LUA_TTABLE:XM,LUA_VERSION_NUM:zM,lua_Debug:tu,lua_absindex:nu,lua_atpanic:LM,lua_call:Ob,lua_checkstack:JM,lua_concat:$a,lua_copy:ZM,lua_createtable:Ff,lua_error:$M,lua_getfield:ru,lua_getinfo:ou,lua_getmetatable:Sb,lua_getstack:ui,lua_gettop:ii,lua_insert:YM,lua_isinteger:WM,lua_isnil:QM,lua_isnumber:eF,lua_isstring:tF,lua_istable:nF,lua_len:rF,lua_load:wb,lua_newstate:oF,lua_newtable:lF,lua_next:iF,lua_pcall:yb,lua_pop:Ct,lua_pushboolean:Rb,lua_pushcclosure:aF,lua_pushcfunction:uF,lua_pushfstring:bt,lua_pushinteger:Ya,lua_pushliteral:Ft,lua_pushlstring:sF,lua_pushnil:Pf,lua_pushstring:Lo,lua_pushvalue:Xr,lua_pushvfstring:cF,lua_rawequal:Ub,lua_rawget:fF,lua_rawgeti:Df,lua_rawlen:pF,lua_rawseti:Wa,lua_remove:ir,lua_setfield:si,lua_setglobal:_F,lua_setmetatable:hF,lua_settop:Cb,lua_toboolean:Nb,lua_tointeger:Db,lua_tointegerx:Ib,lua_tojsstring:dF,lua_tolstring:Mb,lua_tonumber:gF,lua_tonumberx:AF,lua_topointer:xF,lua_tostring:Mn,lua_touserdata:kF,lua_type:ar,lua_typename:Fb,lua_version:kb}=pt(),{from_userstring:Bf,luastring_eq:Pb,to_luastring:X,to_uristring:bF}=vt(),Bb=VM+1,qf=X("_LOADED"),mF=X("_PRELOAD"),vF=X("FILE*"),qb=4*16+8,Vf=X("__name"),TF=X("__tostring"),Gf=new Uint8Array(0),Qa=class{constructor(){this.L=null,this.b=Gf,this.n=0}},bb=10,mb=11,Vb=function(e,t,n){if(n===0||!nF(e,-1))return 0;for(Pf(e);iF(e,-2);){if(ar(e,-2)===ai){if(Ub(e,t,-1))return Ct(e,1),1;if(Vb(e,t,n-1))return ir(e,-2),Ft(e,"."),YM(e,-2),$a(e,3),1}Ct(e,1)}return 0},Gb=function(e,t){let n=ii(e);if(ou(e,X("f"),t),ru(e,eu,qf),Vb(e,n+1,2)){let r=Mn(e,-1);return r[0]===95&&r[1]===71&&r[2]===46&&(Lo(e,r.subarray(3)),ir(e,-2)),ZM(e,-1,n+1),Ct(e,2),1}else return Cb(e,n),0},EF=function(e,t){Gb(e,t)?(bt(e,X("function '%s'"),Mn(e,-1)),ir(e,-2)):t.namewhat.length!==0?bt(e,X("%s '%s'"),t.namewhat,t.name):t.what&&t.what[0]===109?Ft(e,"main chunk"):t.what&&t.what[0]===76?bt(e,X("function <%s:%d>"),t.short_src,t.linedefined):Ft(e,"?")},OF=function(e){let t=new tu,n=1,r=1;for(;ui(e,r,t);)n=r,r*=2;for(;n<r;){let o=Math.floor((n+r)/2);ui(e,o,t)?n=o+1:r=o}return r-1},SF=function(e,t,n,r){let o=new tu,l=ii(e),i=OF(t),a=i-r>bb+mb?bb:-1;for(n&&bt(e,X(\`%s
\`),n),Jf(e,10,null),Ft(e,"stack traceback:");ui(t,r++,o);)a--===0?(Ft(e,\`
	...\`),r=i-mb+1):(ou(t,X("Slnt",!0),o),bt(e,X(\`
	%s:\`),o.short_src),o.currentline>0&&Ft(e,\`\${o.currentline}:\`),Ft(e," in "),EF(e,o),o.istailcall&&Ft(e,\`
	(...tail calls..)\`),$a(e,ii(e)-l));$a(e,ii(e)-l)},wF=function(e){let t="PANIC: unprotected error in call to Lua API ("+dF(e,-1)+")";throw new Error(t)},Jo=function(e,t,n){let r=new tu;return ui(e,0,r)?(ou(e,X("n"),r),Pb(r.namewhat,X("method"))&&(t--,t===0)?Jt(e,X("calling '%s' on bad self (%s)"),r.name,n):(r.name===null&&(r.name=Gb(e,r)?Mn(e,-1):X("?")),Jt(e,X("bad argument #%d to '%s' (%s)"),t,r.name,n))):Jt(e,X("bad argument #%d (%s)"),t,n)},Kb=function(e,t,n){let r;uu(e,t,Vf)===ai?r=Mn(e,-1):ar(e,t)===HM?r=X("light userdata",!0):r=Kf(e,t);let o=bt(e,X("%s expected, got %s"),n,r);return Jo(e,t,o)},Hb=function(e,t){let n=new tu;if(ui(e,t,n)&&(ou(e,X("Sl",!0),n),n.currentline>0)){bt(e,X("%s:%d: "),n.short_src,n.currentline);return}Lo(e,X(""))},Jt=function(e,t,...n){return Hb(e,1),cF(e,t,n),$a(e,2),$M(e)},jb=function(e,t,n,r){if(t)return Rb(e,1),1;{Pf(e);let o,l;return r?(o=r.message,l=-r.errno):(o="Success",l=0),n?bt(e,X("%s: %s"),n,X(o)):Lo(e,X(o)),Ya(e,l),3}},yF=function(e,t){let n,r;if(t===null)return Rb(e,1),Ft(e,"exit"),Ya(e,0),3;if(t.status)n="exit",r=t.status;else if(t.signal)n="signal",r=t.signal;else return jb(e,0,null,t);return Pf(e),Ft(e,n),Ya(e,r),3},lu=function(e,t){return ru(e,eu,t)},RF=function(e,t){return lu(e,t)!==zo?0:(Ct(e,1),Ff(e,0,2),Lo(e,t),si(e,-2,Vf),Xr(e,-1),si(e,eu,t),1)},UF=function(e,t){lu(e,t),hF(e,-2)},Xb=function(e,t,n){let r=kF(e,t);return r!==null&&Sb(e,t)?(lu(e,n),Ub(e,-1,-2)||(r=null),Ct(e,2),r):null},CF=function(e,t,n){let r=Xb(e,t,n);return r===null&&Kb(e,t,n),r},NF=function(e,t,n,r){let o=n!==null?Jb(e,t,n):zb(e,t);for(let l=0;r[l];l++)if(Pb(r[l],o))return l;return Jo(e,t,bt(e,X("invalid option '%s'"),o))},iu=function(e,t,n){Kb(e,t,Fb(e,n))},DF=function(){let e=oF();return e&&LM(e,wF),e},Kf=function(e,t){return Fb(e,ar(e,t))},IF=function(e,t,n,r){t||Jo(e,n,r)},MF=function(e,t){ar(e,t)===jM&&Jo(e,t,X("value expected",!0))},FF=function(e,t,n){ar(e,t)!==n&&iu(e,t,n)},Hf=function(e,t){let n=Mb(e,t);return n==null&&iu(e,t,ai),n},zb=Hf,Lb=function(e,t,n){return ar(e,t)<=0?n===null?null:Bf(n):Hf(e,t)},Jb=Lb,PF=function(e,t){eF(e,t)?Jo(e,t,X("number has no integer representation",!0)):iu(e,t,Mf)},Zb=function(e,t){let n=AF(e,t);return n===!1&&iu(e,t,Mf),n},BF=function(e,t,n){return Lf(e,Zb,t,n)},$b=function(e,t){let n=Ib(e,t);return n===!1&&PF(e,t),n},qF=function(e,t,n){return Lf(e,$b,t,n)},fi=function(e,t){let n=e.n+t;if(e.b.length<n){let r=Math.max(e.b.length*2,n),o=new Uint8Array(r);o.set(e.b),e.b=o}return e.b.subarray(e.n,n)},jf=function(e,t){t.L=e,t.b=Gf},VF=function(e,t,n){return jf(e,t),fi(t,n)},GF=function(e){return fi(e,qM)},au=function(e,t,n){n>0&&(t=Bf(t),fi(e,n).set(t.subarray(0,n)),zf(e,n))},If=function(e,t){t=Bf(t),au(e,t,t.length)},Xf=function(e){sF(e.L,e.b,e.n),e.n=0,e.b=Gf},KF=function(e,t){fi(e,1),e.b[e.n++]=t},zf=function(e,t){e.n+=t},HF=function(e,t){zf(e,t),Xf(e)},jF=function(e){let t=e.L,n=Mn(t,-1);au(e,n,n.length),Ct(t,1)},Lf=function(e,t,n,r){return ar(e,n)<=0?r:t(e,n)},XF=function(e,t){let n=t.string;return t.string=null,n},Yb=function(e,t,n,r,o){return wb(e,XF,{string:t},r,o)},Wb=function(e,t,n,r){return Yb(e,t,n,r,null)},Qb=function(e,t){return Wb(e,t,t.length,t)},zF=function(e,t){return Qb(e,t)||yb(e,0,Eb,0)},uu=function(e,t,n){if(Sb(e,t)){Lo(e,n);let r=fF(e,-2);return r===zo?Ct(e,2):ir(e,-2),r}else return zo},em=function(e,t,n){return t=nu(e,t),uu(e,t,n)===zo?!1:(Xr(e,t),Ob(e,1,1),!0)},LF=function(e,t){rF(e,t);let n=Ib(e,-1);return n===!1&&Jt(e,X("object length is not an integer",!0)),Ct(e,1),n},JF=X("%I"),ZF=X("%f"),$F=function(e,t){if(em(e,t,TF))tF(e,-1)||Jt(e,X("'__tostring' must return a string"));else switch(ar(e,t)){case Mf:{WM(e,t)?bt(e,JF,Db(e,t)):bt(e,ZF,gF(e,t));break}case ai:Xr(e,t);break;case KM:Ft(e,Nb(e,t)?"true":"false");break;case zo:Ft(e,"nil");break;default:{let r=uu(e,t,Vf),o=r===ai?Mn(e,-1):Kf(e,t);bt(e,X("%s: %p"),o,xF(e,t)),r!==zo&&ir(e,-2);break}}return Mb(e,-1)},YF=function(e,t,n,r){tm(e,eu,qf),ru(e,-1,t),Nb(e,-1)||(Ct(e,1),uF(e,n),Lo(e,t),Ob(e,1,1),Xr(e,-1),si(e,-3,t)),ir(e,-2),r&&(Xr(e,-1),_F(e,t))},WF=function(e,t,n){var r=n>>>0,o=t.length,l=e.length+1-o;e:for(;r<l;r++){for(let i=0;i<o;i++)if(e[r+i]!==t[i])continue e;return r}return-1},QF=function(e,t,n,r){let o,l=new Qa;for(jf(e,l);(o=WF(t,n))>=0;)au(l,t,o),If(l,r),t=t.subarray(o+n.length);return If(l,t),Xf(l),Mn(e,-1)},tm=function(e,t,n){return ru(e,t,n)===XM?!0:(Ct(e,1),t=nu(e,t),lF(e),Xr(e,-1),si(e,t,n),!1)},nm=function(e,t,n){Jf(e,n,X("too many upvalues",!0));for(let r in t){for(let o=0;o<n;o++)Xr(e,-n);aF(e,t[r],n),si(e,-(n+2),X(r))}Ct(e,n)},Jf=function(e,t,n){JM(e,t)||(n?Jt(e,X("stack overflow (%s)"),n):Jt(e,X("stack overflow",!0)))},eP=function(e){Ff(e)},tP=function(e,t){Ff(e),nm(e,t,0)},nP=-2,rm=-1,rP=function(e,t){let n;return QM(e,-1)?(Ct(e,1),rm):(t=nu(e,t),Df(e,t,0),n=Db(e,-1),Ct(e,1),n!==0?(Df(e,t,n),Wa(e,t,0)):n=pF(e,t)+1,Wa(e,t,n),n)},oP=function(e,t,n){n>=0&&(t=nu(e,t),Df(e,t,0),Wa(e,t,n),Ya(e,n),Wa(e,t,0))},vb=function(e,t,n,r){let o=r.message,l=Mn(e,n).subarray(1);return bt(e,X("cannot %s %s: %s"),X(t),l,X(o)),ir(e,n),Bb},ci,Tb=[239,187,191],lP=function(e){e.n=0;let t,n=0;do{if(t=ci(e),t===null||t!==Tb[n])return t;n++,e.buff[e.n++]=t}while(n<Tb.length);return e.n=0,ci(e)},iP=function(e){let t=lP(e);if(t===35){do t=ci(e);while(t&&t!==10);return{skipped:!0,c:ci(e)}}else return{skipped:!1,c:t}},Zf;{class e{constructor(){this.n=NaN,this.f=null,this.buff=new Uint8Array(1024),this.pos=0,this.err=void 0}}let t=function(n,r){let o=r;if(o.f!==null&&o.n>0){let i=o.n;return o.n=0,o.f=o.f.subarray(o.pos),o.buff.subarray(0,i)}let l=o.f;return o.f=null,l};ci=function(n){return n.pos<n.f.length?n.f[n.pos++]:null},Zf=function(n,r,o){let l=new e,i=ii(n)+1;if(r===null)throw new Error("Can't read stdin in the browser");{bt(n,X("@%s"),r);let s=bF(r),p=new XMLHttpRequest;if(p.open("GET",s,!1),typeof window=="undefined"&&(p.responseType="arraybuffer"),p.send(),p.status>=200&&p.status<=299)typeof p.response=="string"?l.f=X(p.response):l.f=new Uint8Array(p.response);else return l.err=p.status,vb(n,"open",i,{message:\`\${p.status}: \${p.statusText}\`})}let a=iP(l);a.c===GM[0]&&r||a.skipped&&(l.buff[l.n++]=10),a.c!==null&&(l.buff[l.n++]=a.c);let u=wb(n,t,l,Mn(n,-1),o),c=l.err;return c?(Cb(n,i),vb(n,"read",i,c)):(ir(n,i),u)}}var om=function(e,t){return Zf(e,t,null)},aP=function(e,t){return om(e,t)||yb(e,0,Eb,0)},uP=function(){for(let e=0;e<arguments.length;e++){let t=arguments[e];do{let n=/([^\\n]*)\\n?([\\d\\D]*)/.exec(t);console.error(n[1]),t=n[2]}while(t!=="")}},lm=function(e,t,n){let r=kb(e);n!=qb&&Jt(e,X("core and library have incompatible numeric types")),r!=kb(null)?Jt(e,X("multiple Lua VMs detected")):r!==t&&Jt(e,X("version mismatch: app. needs %f, Lua core provides %f"),t,r)},sP=function(e){lm(e,zM,qb)};N.exports.LUA_ERRFILE=Bb;N.exports.LUA_FILEHANDLE=vF;N.exports.LUA_LOADED_TABLE=qf;N.exports.LUA_NOREF=nP;N.exports.LUA_PRELOAD_TABLE=mF;N.exports.LUA_REFNIL=rm;N.exports.luaL_Buffer=Qa;N.exports.luaL_addchar=KF;N.exports.luaL_addlstring=au;N.exports.luaL_addsize=zf;N.exports.luaL_addstring=If;N.exports.luaL_addvalue=jF;N.exports.luaL_argcheck=IF;N.exports.luaL_argerror=Jo;N.exports.luaL_buffinit=jf;N.exports.luaL_buffinitsize=VF;N.exports.luaL_callmeta=em;N.exports.luaL_checkany=MF;N.exports.luaL_checkinteger=$b;N.exports.luaL_checklstring=Hf;N.exports.luaL_checknumber=Zb;N.exports.luaL_checkoption=NF;N.exports.luaL_checkstack=Jf;N.exports.luaL_checkstring=zb;N.exports.luaL_checktype=FF;N.exports.luaL_checkudata=CF;N.exports.luaL_checkversion=sP;N.exports.luaL_checkversion_=lm;N.exports.luaL_dofile=aP;N.exports.luaL_dostring=zF;N.exports.luaL_error=Jt;N.exports.luaL_execresult=yF;N.exports.luaL_fileresult=jb;N.exports.luaL_getmetafield=uu;N.exports.luaL_getmetatable=lu;N.exports.luaL_getsubtable=tm;N.exports.luaL_gsub=QF;N.exports.luaL_len=LF;N.exports.luaL_loadbuffer=Wb;N.exports.luaL_loadbufferx=Yb;N.exports.luaL_loadfile=om;N.exports.luaL_loadfilex=Zf;N.exports.luaL_loadstring=Qb;N.exports.luaL_newlib=tP;N.exports.luaL_newlibtable=eP;N.exports.luaL_newmetatable=RF;N.exports.luaL_newstate=DF;N.exports.luaL_opt=Lf;N.exports.luaL_optinteger=qF;N.exports.luaL_optlstring=Lb;N.exports.luaL_optnumber=BF;N.exports.luaL_optstring=Jb;N.exports.luaL_prepbuffer=GF;N.exports.luaL_prepbuffsize=fi;N.exports.luaL_pushresult=Xf;N.exports.luaL_pushresultsize=HF;N.exports.luaL_ref=rP;N.exports.luaL_requiref=YF;N.exports.luaL_setfuncs=nm;N.exports.luaL_setmetatable=UF;N.exports.luaL_testudata=Xb;N.exports.luaL_tolstring=$F;N.exports.luaL_traceback=SF;N.exports.luaL_typename=Kf;N.exports.luaL_unref=oP;N.exports.luaL_where=Hb;N.exports.lua_writestringerror=uP});var op=w((s5,bm)=>{var{LUA_MULTRET:Wf,LUA_OK:Qf,LUA_TFUNCTION:um,LUA_TNIL:su,LUA_TNONE:cP,LUA_TNUMBER:fP,LUA_TSTRING:pu,LUA_TTABLE:$o,LUA_VERSION:pP,LUA_YIELD:_P,lua_call:ep,lua_callk:hP,lua_concat:dP,lua_error:sm,lua_getglobal:gP,lua_geti:AP,lua_getmetatable:xP,lua_gettop:Lr,lua_insert:cm,lua_isnil:kP,lua_isnone:fm,lua_isstring:bP,lua_load:mP,lua_next:vP,lua_pcallk:pm,lua_pop:tp,lua_pushboolean:_u,lua_pushcfunction:_m,lua_pushglobaltable:TP,lua_pushinteger:Yo,lua_pushliteral:hm,lua_pushnil:_i,lua_pushstring:EP,lua_pushvalue:Zt,lua_rawequal:OP,lua_rawget:SP,lua_rawlen:wP,lua_rawset:yP,lua_remove:RP,lua_replace:UP,lua_rotate:CP,lua_setfield:im,lua_setmetatable:NP,lua_settop:Fn,lua_setupvalue:DP,lua_stringtonumber:IP,lua_toboolean:MP,lua_tolstring:FP,lua_tostring:pi,lua_type:zr,lua_typename:PP}=pt(),{luaL_argcheck:hi,luaL_checkany:Bt,luaL_checkinteger:np,luaL_checkoption:BP,luaL_checkstack:qP,luaL_checktype:Jr,luaL_error:hu,luaL_getmetafield:rp,luaL_loadbufferx:VP,luaL_loadfile:GP,luaL_loadfilex:KP,luaL_optinteger:dm,luaL_optstring:Zo,luaL_setfuncs:HP,luaL_tolstring:jP,luaL_where:XP}=Nt(),{to_jsstring:gm,to_luastring:Pt}=vt(),cu,$f;if(typeof TextDecoder=="function"){let e="",t=new TextDecoder("utf-8");cu=function(r){e+=t.decode(r,{stream:!0})};let n=new Uint8Array(0);$f=function(){e+=t.decode(n),console.log(e),e=""}}else{let e=[];cu=function(t){try{t=gm(t)}catch(n){let r=new Uint8Array(t.length);r.set(t),t=r}e.push(t)},$f=function(){console.log.apply(console.log,e),e=[]}}var zP=function(e){let t=Lr(e);gP(e,Pt("tostring",!0));for(let n=1;n<=t;n++){Zt(e,-1),Zt(e,n),ep(e,1,1);let r=FP(e,-1);if(r===null)return hu(e,Pt("'tostring' must return a string to 'print'"));n>1&&cu(Pt("	")),cu(r),tp(e,1)}return $f(),0},LP=function(e){return Bt(e,1),jP(e,1),1},JP=function(e){return Bt(e,1),xP(e,1)?(rp(e,1,Pt("__metatable",!0)),1):(_i(e),1)},ZP=function(e){let t=zr(e,2);return Jr(e,1,$o),hi(e,t===su||t===$o,2,"nil or table expected"),rp(e,1,Pt("__metatable",!0))!==su?hu(e,Pt("cannot change a protected metatable")):(Fn(e,2),NP(e,1),1)},$P=function(e){return Bt(e,1),Bt(e,2),_u(e,OP(e,1,2)),1},YP=function(e){let t=zr(e,1);return hi(e,t===$o||t===pu,1,"table or string expected"),Yo(e,wP(e,1)),1},WP=function(e){return Jr(e,1,$o),Bt(e,2),Fn(e,2),SP(e,1),1},QP=function(e){return Jr(e,1,$o),Bt(e,2),Bt(e,3),Fn(e,3),yP(e,1),1},eB=["stop","restart","collect","count","step","setpause","setstepmul","isrunning"].map(e=>Pt(e)),tB=function(e){BP(e,1,"collect",eB),dm(e,2,0),hu(e,Pt("lua_gc not implemented"))},nB=function(e){let t=zr(e,1);return hi(e,t!==cP,1,"value expected"),EP(e,PP(e,t)),1},rB=function(e,t,n,r){return Bt(e,1),rp(e,1,t)===su?(_m(e,r),Zt(e,1),n?Yo(e,0):_i(e)):(Zt(e,1),ep(e,1,3)),3},Am=function(e){return Jr(e,1,$o),Fn(e,2),vP(e,1)?2:(_i(e),1)},oB=function(e){return rB(e,Pt("__pairs",!0),0,Am)},lB=function(e){let t=np(e,2)+1;return Yo(e,t),AP(e,1,t)===su?1:2},iB=function(e){return Bt(e,1),_m(e,lB),Zt(e,1),Yo(e,0),3},aB=function(e,t){try{e=gm(e)}catch(o){return null}let n=/^[\\t\\v\\f \\n\\r]*([+-]?)0*([0-9A-Za-z]+)[\\t\\v\\f \\n\\r]*$/.exec(e);if(!n)return null;let r=parseInt(n[1]+n[2],t);return isNaN(r)?null:r|0},uB=function(e){if(zr(e,2)<=0){if(Bt(e,1),zr(e,1)===fP)return Fn(e,1),1;{let t=pi(e,1);if(t!==null&&IP(e,t)===t.length+1)return 1}}else{let t=np(e,2);Jr(e,1,pu);let n=pi(e,1);hi(e,2<=t&&t<=36,2,"base out of range");let r=aB(n,t);if(r!==null)return Yo(e,r),1}return _i(e),1},xm=function(e){let t=dm(e,2,1);return Fn(e,1),zr(e,1)===pu&&t>0&&(XP(e,t),Zt(e,1),dP(e,2)),sm(e)},sB=function(e){return MP(e,1)?Lr(e):(Bt(e,1),RP(e,1),hm(e,"assertion failed!"),Fn(e,1),xm(e))},cB=function(e){let t=Lr(e);if(zr(e,1)===pu&&pi(e,1)[0]===35)return Yo(e,t-1),1;{let n=np(e,1);return n<0?n=t+n:n>t&&(n=t),hi(e,1<=n,1,"index out of range"),t-n}},fu=function(e,t,n){return t!==Qf&&t!==_P?(_u(e,0),Zt(e,-2),2):Lr(e)-n},fB=function(e){Bt(e,1),_u(e,1),cm(e,1);let t=pm(e,Lr(e)-2,Wf,0,0,fu);return fu(e,t,0)},pB=function(e){let t=Lr(e);Jr(e,2,um),_u(e,1),Zt(e,1),CP(e,3,2);let n=pm(e,t-2,Wf,2,2,fu);return fu(e,n,2)},km=function(e,t,n){return t===Qf?(n!==0&&(Zt(e,n),DP(e,-2,1)||tp(e,1)),1):(_i(e),cm(e,-2),2)},Yf=5,_B=function(e,t){return qP(e,2,"too many nested functions"),Zt(e,1),ep(e,0,1),kP(e,-1)?(tp(e,1),null):(bP(e,-1)||hu(e,Pt("reader function must return a string")),UP(e,Yf),pi(e,Yf))},hB=function(e){let t=pi(e,1),n=Zo(e,3,"bt"),r=fm(e,4)?0:4,o;if(t!==null){let l=Zo(e,2,t);o=VP(e,t,t.length,l,n)}else{let l=Zo(e,2,"=(load)");Jr(e,1,um),Fn(e,Yf),o=mP(e,_B,null,l,n)}return km(e,o,r)},dB=function(e){let t=Zo(e,1,null),n=Zo(e,2,null),r=fm(e,3)?0:3,o=KP(e,t,n);return km(e,o,r)},am=function(e,t,n){return Lr(e)-1},gB=function(e){let t=Zo(e,1,null);return Fn(e,1),GP(e,t)!==Qf?sm(e):(hP(e,0,Wf,0,am),am(e,0,0))},AB={assert:sB,collectgarbage:tB,dofile:gB,error:xm,getmetatable:JP,ipairs:iB,load:hB,loadfile:dB,next:Am,pairs:oB,pcall:fB,print:zP,rawequal:$P,rawget:WP,rawlen:YP,rawset:QP,select:cB,setmetatable:ZP,tonumber:uB,tostring:LP,type:nB,xpcall:pB},xB=function(e){return TP(e),HP(e,AB,0),Zt(e,-1),im(e,-2,Pt("_G")),hm(e,pP),im(e,-2,Pt("_VERSION")),1};bm.exports.luaopen_base=xB});var ap=w((c5,ym)=>{var{LUA_OK:lp,LUA_TFUNCTION:kB,LUA_TSTRING:bB,LUA_YIELD:vm,lua_Debug:mB,lua_checkstack:mm,lua_concat:vB,lua_error:TB,lua_getstack:EB,lua_gettop:Wo,lua_insert:ip,lua_isyieldable:OB,lua_newthread:SB,lua_pop:wB,lua_pushboolean:gu,lua_pushcclosure:yB,lua_pushliteral:Pn,lua_pushthread:RB,lua_pushvalue:UB,lua_resume:CB,lua_status:Tm,lua_tothread:Em,lua_type:NB,lua_upvalueindex:DB,lua_xmove:du,lua_yield:IB}=pt(),{luaL_argcheck:MB,luaL_checktype:FB,luaL_newlib:PB,luaL_where:BB}=Nt(),Om=function(e){let t=Em(e,1);return MB(e,t,1,"thread expected"),t},Sm=function(e,t,n){if(!mm(t,n))return Pn(e,"too many arguments to resume"),-1;if(Tm(t)===lp&&Wo(t)===0)return Pn(e,"cannot resume dead coroutine"),-1;du(e,t,n);let r=CB(t,e,n);if(r===lp||r===vm){let o=Wo(t);return mm(e,o+1)?(du(t,e,o),o):(wB(t,o),Pn(e,"too many results to resume"),-1)}else return du(t,e,1),-1},qB=function(e){let t=Om(e),n=Sm(e,t,Wo(e)-1);return n<0?(gu(e,0),ip(e,-2),2):(gu(e,1),ip(e,-(n+1)),n+1)},VB=function(e){let t=Em(e,DB(1)),n=Sm(e,t,Wo(e));return n<0?(NB(e,-1)===bB&&(BB(e,1),ip(e,-2),vB(e,2)),TB(e)):n},wm=function(e){FB(e,1,kB);let t=SB(e);return UB(e,1),du(e,t,1),1},GB=function(e){return wm(e),yB(e,VB,1),1},KB=function(e){return IB(e,Wo(e))},HB=function(e){let t=Om(e);if(e===t)Pn(e,"running");else switch(Tm(t)){case vm:Pn(e,"suspended");break;case lp:{let n=new mB;EB(t,0,n)>0?Pn(e,"normal"):Wo(t)===0?Pn(e,"dead"):Pn(e,"suspended");break}default:Pn(e,"dead");break}return 1},jB=function(e){return gu(e,OB(e)),1},XB=function(e){return gu(e,RB(e)),2},zB={create:wm,isyieldable:jB,resume:qB,running:XB,status:HB,wrap:GB,yield:KB},LB=function(e){return PB(e,zB),1};ym.exports.luaopen_coroutine=LB});var hp=w((f5,Pm)=>{var{LUA_MAXINTEGER:sp}=dt(),{LUA_OPEQ:JB,LUA_OPLT:ZB,LUA_TFUNCTION:$B,LUA_TNIL:YB,LUA_TTABLE:Rm,lua_call:WB,lua_checkstack:QB,lua_compare:Cm,lua_createtable:eq,lua_geti:nt,lua_getmetatable:tq,lua_gettop:Nm,lua_insert:nq,lua_isnil:rq,lua_isnoneornil:Dm,lua_isstring:oq,lua_pop:ur,lua_pushinteger:lq,lua_pushnil:iq,lua_pushstring:aq,lua_pushvalue:di,lua_rawget:uq,lua_setfield:sq,lua_seti:Bn,lua_settop:cq,lua_toboolean:fq,lua_type:pq}=pt(),{luaL_Buffer:_q,luaL_addlstring:hq,luaL_addvalue:dq,luaL_argcheck:xi,luaL_buffinit:gq,luaL_checkinteger:gi,luaL_checktype:Im,luaL_error:ki,luaL_len:Mm,luaL_newlib:Aq,luaL_opt:xq,luaL_optinteger:Au,luaL_optlstring:kq,luaL_pushresult:bq,luaL_typename:mq}=Nt(),vq=Zr(),{to_luastring:sr}=vt(),xu=1,pp=2,Fm=4,_p=xu|pp,up=function(e,t,n){return aq(e,t),uq(e,-n)!==YB},cp=function(e,t,n){if(pq(e,t)!==Rm){let r=1;tq(e,t)&&(!(n&xu)||up(e,sr("__index",!0),++r))&&(!(n&pp)||up(e,sr("__newindex",!0),++r))&&(!(n&Fm)||up(e,sr("__len",!0),++r))?ur(e,r):Im(e,t,Rm)}},ku=function(e,t,n){return cp(e,t,n|Fm),Mm(e,t)},Um=function(e,t,n){nt(e,1,n),oq(e,-1)||ki(e,sr("invalid value (%s) at index %d in table for 'concat'"),mq(e,-1),n),dq(t)},Tq=function(e){let t=ku(e,1,_p)+1,n;switch(Nm(e)){case 2:n=t;break;case 3:{n=gi(e,2),xi(e,1<=n&&n<=t,2,"position out of bounds");for(let r=t;r>n;r--)nt(e,1,r-1),Bn(e,1,r);break}default:return ki(e,"wrong number of arguments to 'insert'")}return Bn(e,1,n),0},Eq=function(e){let t=ku(e,1,_p),n=Au(e,2,t);for(n!==t&&xi(e,1<=n&&n<=t+1,1,"position out of bounds"),nt(e,1,n);n<t;n++)nt(e,1,n+1),Bn(e,1,n);return iq(e),Bn(e,1,n),1},Oq=function(e){let t=gi(e,2),n=gi(e,3),r=gi(e,4),o=Dm(e,5)?1:5;if(cp(e,1,xu),cp(e,o,pp),n>=t){xi(e,t>0||n<sp+t,3,"too many elements to move");let l=n-t+1;if(xi(e,r<=sp-l+1,4,"destination wrap around"),r>n||r<=t||o!==1&&Cm(e,1,o,JB)!==1)for(let i=0;i<l;i++)nt(e,1,t+i),Bn(e,o,r+i);else for(let i=l-1;i>=0;i--)nt(e,1,t+i),Bn(e,o,r+i)}return di(e,o),1},Sq=function(e){let t=ku(e,1,xu),n=kq(e,2,""),r=n.length,o=Au(e,3,1);t=Au(e,4,t);let l=new _q;for(gq(e,l);o<t;o++)Um(e,l,o),hq(l,n,r);return o===t&&Um(e,l,o),bq(l),1},wq=function(e){let t=Nm(e);eq(e,t,1),nq(e,1);for(let n=t;n>=1;n--)Bn(e,1,n);return lq(e,t),sq(e,1,sr("n")),1},yq=function(e){let t=Au(e,2,1),n=xq(e,gi,3,Mm(e,1));if(t>n)return 0;let r=n-t;if(r>=Number.MAX_SAFE_INTEGER||!QB(e,++r))return ki(e,sr("too many results to unpack"));for(;t<n;t++)nt(e,1,t);return nt(e,1,n),r},Rq=function(){return Math.floor(Math.random()*4294967296)},Uq=100,Qo=function(e,t,n){Bn(e,1,t),Bn(e,1,n)},Ai=function(e,t,n){if(rq(e,2))return Cm(e,t,n,ZB);{di(e,2),di(e,t-1),di(e,n-2),WB(e,2,1);let r=fq(e,-1);return ur(e,1),r}},Cq=function(e,t,n){let r=t,o=n-1;for(;;){for(;nt(e,1,++r),Ai(e,-1,-2);)r==n-1&&ki(e,sr("invalid order function for sorting")),ur(e,1);for(;nt(e,1,--o),Ai(e,-3,-1);)o<r&&ki(e,sr("invalid order function for sorting")),ur(e,1);if(o<r)return ur(e,1),Qo(e,n-1,r),r;Qo(e,r,o)}},Nq=function(e,t,n){let r=Math.floor((t-e)/4),o=n%(r*2)+(e+r);return vq.lua_assert(e+r<=o&&o<=t-r),o},fp=function(e,t,n,r){for(;t<n;){if(nt(e,1,t),nt(e,1,n),Ai(e,-1,-2)?Qo(e,t,n):ur(e,2),n-t==1)return;let o;if(n-t<Uq||r===0?o=Math.floor((t+n)/2):o=Nq(t,n,r),nt(e,1,o),nt(e,1,t),Ai(e,-2,-1)?Qo(e,o,t):(ur(e,1),nt(e,1,n),Ai(e,-1,-2)?Qo(e,o,n):ur(e,2)),n-t==2)return;nt(e,1,o),di(e,-1),nt(e,1,n-1),Qo(e,o,n-1),o=Cq(e,t,n);let l;o-t<n-o?(fp(e,t,o-1,r),l=o-t,t=o+1):(fp(e,o+1,n,r),l=n-o,n=o-1),(n-t)/128>l&&(r=Rq())}},Dq=function(e){let t=ku(e,1,_p);return t>1&&(xi(e,t<sp,1,"array too big"),Dm(e,2)||Im(e,2,$B),cq(e,2),fp(e,1,t,0)),0},Iq={concat:Sq,insert:Tq,move:Oq,pack:wq,remove:Eq,sort:Dq,unpack:yq},Mq=function(e){return Aq(e,Iq),1};Pm.exports.luaopen_table=Mq});var Ap=w((O5,Xm)=>{var{LUA_TNIL:Fq,LUA_TTABLE:Pq,lua_close:p5,lua_createtable:Bq,lua_getfield:qq,lua_isboolean:_5,lua_isnoneornil:Vm,lua_pop:Vq,lua_pushboolean:h5,lua_pushfstring:Gq,lua_pushinteger:Gm,lua_pushliteral:d5,lua_pushnil:g5,lua_pushnumber:Km,lua_pushstring:A5,lua_setfield:Kq,lua_settop:Hq,lua_toboolean:x5,lua_tointegerx:jq}=pt(),{luaL_Buffer:Xq,luaL_addchar:qn,luaL_addstring:Dt,luaL_argerror:zq,luaL_buffinit:Lq,luaL_checkinteger:Jq,luaL_checkstring:k5,luaL_checktype:Zq,luaL_error:dp,luaL_execresult:b5,luaL_fileresult:m5,luaL_newlib:$q,luaL_optinteger:v5,luaL_optlstring:Yq,luaL_optstring:T5,luaL_pushresult:Wq}=Nt(),{luastring_eq:Qq,to_jsstring:E5,to_luastring:le}=vt(),e4=le("aAbBcCdDeFhHIjklmMnpPrRStTuUwWxXyYzZ%"),cr=function(e,t,n){Gm(e,n),Kq(e,-2,le(t,!0))},Hm=function(e,t,n){cr(e,"sec",n?t.getUTCSeconds():t.getSeconds()),cr(e,"min",n?t.getUTCMinutes():t.getMinutes()),cr(e,"hour",n?t.getUTCHours():t.getHours()),cr(e,"day",n?t.getUTCDate():t.getDate()),cr(e,"month",(n?t.getUTCMonth():t.getMonth())+1),cr(e,"year",n?t.getUTCFullYear():t.getFullYear()),cr(e,"wday",(n?t.getUTCDay():t.getDay())+1),cr(e,"yday",Math.floor((t-new Date(t.getFullYear(),0,0))/864e5))},Bm=Number.MAX_SAFE_INTEGER/2,el=function(e,t,n,r){let o=qq(e,-1,le(t,!0)),l=jq(e,-1);if(l===!1){if(o!==Fq)return dp(e,le("field '%s' is not an integer"),t);if(n<0)return dp(e,le("field '%s' missing in date table"),t);l=n}else{if(!(-Bm<=l&&l<=Bm))return dp(e,le("field '%s' is out-of-bound"),t);l-=r}return Vq(e,1),l},it={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(e=>le(e)),shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>le(e)),months:["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>le(e)),shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(e=>le(e)),AM:le("AM"),PM:le("PM"),am:le("am"),pm:le("pm"),formats:{c:le("%a %b %e %H:%M:%S %Y"),D:le("%m/%d/%y"),F:le("%Y-%m-%d"),R:le("%H:%M"),r:le("%I:%M:%S %p"),T:le("%H:%M:%S"),X:le("%T"),x:le("%D")}},qm=function(e,t){let n=e.getDay();t==="monday"&&(n===0?n=6:n--);let r=(e-new Date(e.getFullYear(),0,1))/864e5;return Math.floor((r+7-n)/7)},_t=function(e,t,n){t<10&&qn(e,n),Dt(e,le(String(t)))},Vn=function(e,t,n,r){let o=0;for(;o<n.length;)if(n[o]!==37)qn(t,n[o++]);else{o++;let l=t4(e,n,o);switch(n[o]){case 37:qn(t,37);break;case 65:Dt(t,it.days[r.getDay()]);break;case 66:Dt(t,it.months[r.getMonth()]);break;case 67:_t(t,Math.floor(r.getFullYear()/100),48);break;case 68:Vn(e,t,it.formats.D,r);break;case 70:Vn(e,t,it.formats.F,r);break;case 72:_t(t,r.getHours(),48);break;case 73:_t(t,(r.getHours()+11)%12+1,48);break;case 77:_t(t,r.getMinutes(),48);break;case 80:Dt(t,r.getHours()<12?it.am:it.pm);break;case 82:Vn(e,t,it.formats.R,r);break;case 83:_t(t,r.getSeconds(),48);break;case 84:Vn(e,t,it.formats.T,r);break;case 85:_t(t,qm(r,"sunday"),48);break;case 87:_t(t,qm(r,"monday"),48);break;case 88:Vn(e,t,it.formats.X,r);break;case 89:Dt(t,le(String(r.getFullYear())));break;case 90:{let i=r.toString().match(/\\(([\\w\\s]+)\\)/);i&&Dt(t,le(i[1]));break}case 97:Dt(t,it.shortDays[r.getDay()]);break;case 98:case 104:Dt(t,it.shortMonths[r.getMonth()]);break;case 99:Vn(e,t,it.formats.c,r);break;case 100:_t(t,r.getDate(),48);break;case 101:_t(t,r.getDate(),32);break;case 106:{let i=Math.floor((r-new Date(r.getFullYear(),0,1))/864e5);i<100&&(i<10&&qn(t,48),qn(t,48)),Dt(t,le(String(i)));break}case 107:_t(t,r.getHours(),32);break;case 108:_t(t,(r.getHours()+11)%12+1,32);break;case 109:_t(t,r.getMonth()+1,48);break;case 110:qn(t,10);break;case 112:Dt(t,r.getHours()<12?it.AM:it.PM);break;case 114:Vn(e,t,it.formats.r,r);break;case 115:Dt(t,le(String(Math.floor(r/1e3))));break;case 116:qn(t,8);break;case 117:{let i=r.getDay();Dt(t,le(String(i===0?7:i)));break}case 119:Dt(t,le(String(r.getDay())));break;case 120:Vn(e,t,it.formats.x,r);break;case 121:_t(t,r.getFullYear()%100,48);break;case 122:{let i=r.getTimezoneOffset();i>0?qn(t,45):(i=-i,qn(t,43)),_t(t,Math.floor(i/60),48),_t(t,i%60,48);break}}o+=l}},t4=function(e,t,n){let r=e4,o=0,l=1;for(;o<r.length&&l<=t.length-n;o+=l)if(r[o]==="|".charCodeAt(0))l++;else if(Qq(t.subarray(n,n+l),r.subarray(o,o+l)))return l;zq(e,1,Gq(e,le("invalid conversion specifier '%%%s'"),t))},n4=function(e){let t=Yq(e,1,"%c"),n=Vm(e,2)?new Date:new Date(gp(e,2)*1e3),r=!1,o=0;if(t[o]==="!".charCodeAt(0)&&(r=!0,o++),t[o]==="*".charCodeAt(0)&&t[o+1]==="t".charCodeAt(0))Bq(e,0,9),Hm(e,n,r);else{let l=new Uint8Array(4);l[0]="%".charCodeAt(0);let i=new Xq;Lq(e,i),Vn(e,i,t,n),Wq(i)}return 1},r4=function(e){let t;return Vm(e,1)?t=new Date:(Zq(e,1,Pq),Hq(e,1),t=new Date(el(e,"year",-1,0),el(e,"month",-1,1),el(e,"day",-1,0),el(e,"hour",12,0),el(e,"min",0,0),el(e,"sec",0,0)),Hm(e,t)),Gm(e,Math.floor(t/1e3)),1},gp=function(e,t){return Jq(e,t)},o4=function(e){let t=gp(e,1),n=gp(e,2);return Km(e,t-n),1},jm={date:n4,difftime:o4,time:r4};jm.clock=function(e){return Km(e,performance.now()/1e3),1};var l4=function(e){return $q(e,jm),1};Xm.exports.luaopen_os=l4});var zm=w(bu=>{(function(){var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\\x25]+/,modulo:/^\\x25{2}/,placeholder:/^\\x25(?:([1-9]\\d*)\\$|\\(([^)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\\d]*)/i,key_access:/^\\.([a-z_][a-z_\\d]*)/i,index_access:/^\\[(\\d+)\\]/,sign:/^[+-]/};function t(i){return r(l(i),arguments)}function n(i,a){return t.apply(null,[i].concat(a||[]))}function r(i,a){var u=1,c=i.length,s,p="",_,d,x,O,T,S,b,E;for(_=0;_<c;_++)if(typeof i[_]=="string")p+=i[_];else if(typeof i[_]=="object"){if(x=i[_],x.keys)for(s=a[u],d=0;d<x.keys.length;d++){if(s==null)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',x.keys[d],x.keys[d-1]));s=s[x.keys[d]]}else x.param_no?s=a[x.param_no]:s=a[u++];if(e.not_type.test(x.type)&&e.not_primitive.test(x.type)&&s instanceof Function&&(s=s()),e.numeric_arg.test(x.type)&&typeof s!="number"&&isNaN(s))throw new TypeError(t("[sprintf] expecting number but found %T",s));switch(e.number.test(x.type)&&(b=s>=0),x.type){case"b":s=parseInt(s,10).toString(2);break;case"c":s=String.fromCharCode(parseInt(s,10));break;case"d":case"i":s=parseInt(s,10);break;case"j":s=JSON.stringify(s,null,x.width?parseInt(x.width):0);break;case"e":s=x.precision?parseFloat(s).toExponential(x.precision):parseFloat(s).toExponential();break;case"f":s=x.precision?parseFloat(s).toFixed(x.precision):parseFloat(s);break;case"g":s=x.precision?String(Number(s.toPrecision(x.precision))):parseFloat(s);break;case"o":s=(parseInt(s,10)>>>0).toString(8);break;case"s":s=String(s),s=x.precision?s.substring(0,x.precision):s;break;case"t":s=String(!!s),s=x.precision?s.substring(0,x.precision):s;break;case"T":s=Object.prototype.toString.call(s).slice(8,-1).toLowerCase(),s=x.precision?s.substring(0,x.precision):s;break;case"u":s=parseInt(s,10)>>>0;break;case"v":s=s.valueOf(),s=x.precision?s.substring(0,x.precision):s;break;case"x":s=(parseInt(s,10)>>>0).toString(16);break;case"X":s=(parseInt(s,10)>>>0).toString(16).toUpperCase();break}e.json.test(x.type)?p+=s:(e.number.test(x.type)&&(!b||x.sign)?(E=b?"+":"-",s=s.toString().replace(e.sign,"")):E="",T=x.pad_char?x.pad_char==="0"?"0":x.pad_char.charAt(1):" ",S=x.width-(E+s).length,O=x.width&&S>0?T.repeat(S):"",p+=x.align?E+s+O:T==="0"?E+O+s:O+E+s)}return p}var o=Object.create(null);function l(i){if(o[i])return o[i];for(var a=i,u,c=[],s=0;a;){if((u=e.text.exec(a))!==null)c.push(u[0]);else if((u=e.modulo.exec(a))!==null)c.push("%");else if((u=e.placeholder.exec(a))!==null){if(u[2]){s|=1;var p=[],_=u[2],d=[];if((d=e.key.exec(_))!==null)for(p.push(d[1]);(_=_.substring(d[0].length))!=="";)if((d=e.key_access.exec(_))!==null)p.push(d[1]);else if((d=e.index_access.exec(_))!==null)p.push(d[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");u[2]=p}else s|=2;if(s===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");c.push({placeholder:u[0],param_no:u[1],keys:u[2],sign:u[3],pad_char:u[4],align:u[5],width:u[6],precision:u[7],type:u[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");a=a.substring(u[0].length)}return o[i]=c}typeof bu!="undefined"&&(bu.sprintf=t,bu.vsprintf=n),typeof window!="undefined"&&(window.sprintf=t,window.vsprintf=n,typeof define=="function"&&define.amd&&define(function(){return{sprintf:t,vsprintf:n}}))})()});var Xp=w((w5,O1)=>{var{sprintf:nl}=zm(),{LUA_INTEGER_FMT:i4,LUA_INTEGER_FRMLEN:bi,LUA_MININTEGER:a4,LUA_NUMBER_FMT:u4,LUA_NUMBER_FRMLEN:s4,frexp:c4,lua_getlocaledecpoint:f4}=dt(),{LUA_TBOOLEAN:p4,LUA_TFUNCTION:Np,LUA_TNIL:_4,LUA_TNUMBER:i1,LUA_TSTRING:a1,LUA_TTABLE:u1,lua_call:h4,lua_createtable:d4,lua_dump:g4,lua_gettable:A4,lua_gettop:s1,lua_isinteger:x4,lua_isstring:k4,lua_pop:Tu,lua_pushcclosure:b4,lua_pushinteger:Yt,lua_pushlightuserdata:m4,lua_pushliteral:Dp,lua_pushlstring:mp,lua_pushnil:vp,lua_pushnumber:v4,lua_pushstring:$r,lua_pushvalue:Tp,lua_remove:T4,lua_setfield:E4,lua_setmetatable:O4,lua_settop:c1,lua_toboolean:Ip,lua_tointeger:S4,lua_tonumber:w4,lua_tostring:f1,lua_touserdata:y4,lua_type:p1,lua_upvalueindex:R4}=pt(),{luaL_Buffer:al,luaL_addchar:ht,luaL_addlstring:rl,luaL_addsize:_1,luaL_addstring:tl,luaL_addvalue:vi,luaL_argcheck:$t,luaL_argerror:Yr,luaL_buffinit:Ou,luaL_buffinitsize:h1,luaL_checkinteger:Wr,luaL_checknumber:Ep,luaL_checkstack:Mp,luaL_checkstring:ye,luaL_checktype:U4,luaL_error:ve,luaL_newlib:C4,luaL_optinteger:ol,luaL_optstring:N4,luaL_prepbuffsize:d1,luaL_pushresult:Su,luaL_pushresultsize:g1,luaL_tolstring:Fp,luaL_typename:D4}=Nt(),A1=Zr(),{luastring_eq:x1,luastring_indexOf:hr,to_jsstring:I4,to_luastring:z}=vt(),M4="%",dn=M4.charCodeAt(0),F4=32,Pp=2147483647,P4=function(e){let t=hr(e,0);return t>-1?t:e.length},ll=function(e,t){return e>=0?e:0-e>t?0:t+e+1},B4=function(e){let t=ye(e,1),n=t.length,r=ll(Wr(e,2),n),o=ll(ol(e,3,-1),n);return r<1&&(r=1),o>n&&(o=n),r<=o?$r(e,t.subarray(r-1,r-1+(o-r+1))):Dp(e,""),1},q4=function(e){return Yt(e,ye(e,1).length),1},V4=function(e){let t=s1(e),n=new al,r=h1(e,n,t);for(let o=1;o<=t;o++){let l=Wr(e,o);$t(e,l>=0&&l<=255,"value out of range"),r[o-1]=l}return g1(n,t),1},G4=function(e,t,n,r){return rl(r,t,n),0},K4=function(e){let t=new al,n=Ip(e,2);return U4(e,1,Np),c1(e,1),Ou(e,t),g4(e,G4,t,n)!==0?ve(e,z("unable to dump given function")):(Su(t),1)},Lm=s4.length+1,Jm=1,H4=function(e){if(Object.is(e,1/0))return z("inf");if(Object.is(e,-1/0))return z("-inf");if(Number.isNaN(e))return z("nan");if(e===0){let t=nl(u4+"x0p+0",e);return Object.is(e,-0)&&(t="-"+t),z(t)}else{let t="",n=c4(e),r=n[0],o=n[1];return r<0&&(t+="-",r=-r),t+="0x",t+=(r*(1<<Jm)).toString(16),o-=Jm,t+=nl("p%+d",o),z(t)}},k1=function(e,t,n){let r=H4(n);if(t[Lm]===65)for(let o=0;o<r.length;o++){let l=r[o];l>=97&&(r[o]=l&223)}else t[Lm]!==97&&ve(e,z("modifiers for format '%%a'/'%%A' not implemented"));return r},Zm=z("-+ #0"),$m=e=>97<=e&&e<=122||65<=e&&e<=90,hn=e=>48<=e&&e<=57,Op=e=>0<=e&&e<=31||e===127,Sp=e=>33<=e&&e<=126,wp=e=>97<=e&&e<=122,yp=e=>65<=e&&e<=90,Rp=e=>97<=e&&e<=122||65<=e&&e<=90||48<=e&&e<=57,Ym=e=>Sp(e)&&!Rp(e),Wm=e=>e===32||e>=9&&e<=13,Qm=e=>48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102,j4=function(e,t,n){ht(e,34);let r=0;for(;n--;){if(t[r]===34||t[r]===92||t[r]===10)ht(e,92),ht(e,t[r]);else if(Op(t[r])){let o=""+t[r];hn(t[r+1])&&(o="0".repeat(3-o.length)+o),tl(e,z("\\\\"+o))}else ht(e,t[r]);r++}ht(e,34)},X4=function(e){if(hr(e,46)<0){let t=f4(),n=hr(e,t);n&&(e[n]=46)}},z4=function(e,t,n){switch(p1(e,n)){case a1:{let r=f1(e,n);j4(t,r,r.length);break}case i1:{let r;if(x4(e,n)){let o=S4(e,n),l=o===a4?"0x%"+bi+"x":i4;r=z(nl(l,o))}else{let o=w4(e,n);r=k1(e,z(\`%\${bi}a\`),o),X4(r)}tl(t,r);break}case _4:case p4:{Fp(e,n),vi(t);break}default:Yr(e,n,z("value has no literal form"))}},L4=function(e,t,n,r){let o=n;for(;t[o]!==0&&hr(Zm,t[o])>=0;)o++;o-n>=Zm.length&&ve(e,z("invalid format (repeated flags)")),hn(t[o])&&o++,hn(t[o])&&o++,t[o]===46&&(o++,hn(t[o])&&o++,hn(t[o])&&o++),hn(t[o])&&ve(e,z("invalid format (width or precision too long)")),r[0]=37;for(let l=0;l<o-n+1;l++)r[l+1]=t[n+l];return o},xp=function(e,t){let n=e.length,r=t.length,o=e[n-1];for(let l=0;l<r;l++)e[l+n-1]=t[l];e[n+r-1]=o},J4=function(e){let t=s1(e),n=1,r=ye(e,n),o=0,l=new al;for(Ou(e,l);o<r.length;)if(r[o]!==dn)ht(l,r[o++]);else if(r[++o]===dn)ht(l,r[o++]);else{let i=[];switch(++n>t&&Yr(e,n,z("no value")),o=L4(e,r,o,i),String.fromCharCode(r[o++])){case"c":{ht(l,Wr(e,n));break}case"d":case"i":case"o":case"u":case"x":case"X":{let a=Wr(e,n);xp(i,z(bi,!0)),tl(l,z(nl(String.fromCharCode(...i),a)));break}case"a":case"A":{xp(i,z(bi,!0)),tl(l,k1(e,i,Ep(e,n)));break}case"e":case"E":case"f":case"g":case"G":{let a=Ep(e,n);xp(i,z(bi,!0)),tl(l,z(nl(String.fromCharCode(...i),a)));break}case"q":{z4(e,l,n);break}case"s":{let a=Fp(e,n);i.length<=2||i[2]===0?vi(l):($t(e,a.length===P4(a),n,"string contains zeros"),hr(i,46)<0&&a.length>=100?vi(l):(tl(l,z(nl(String.fromCharCode(...i),I4(a)))),Tu(e,1)));break}default:return ve(e,z("invalid option '%%%c' to 'format'"),r[o-1])}}return Su(l),1},kp=0,e1=16,_r=4,il=8,vu=(1<<il)-1,Z4=8,Ti=class{constructor(t){this.L=t,this.islittle=!0,this.maxalign=1}},pr=0,fr=1,mi=2,Ei=3,wu=4,yu=5,Bp=6,Ru=7,qp=8,t1=hn,b1=function(e,t){if(e.off>=e.s.length||!t1(e.s[e.off]))return t;{let n=0;do n=n*10+(e.s[e.off++]-48);while(e.off<e.s.length&&t1(e.s[e.off])&&n<=(Pp-9)/10);return n}},mu=function(e,t,n){let r=b1(t,n);return(r>e1||r<=0)&&ve(e.L,z("integral size (%d) out of limits [1,%d]"),r,e1),r},n1=function(e,t){let n={opt:t.s[t.off++],size:0};switch(n.opt){case 98:return n.size=1,n.opt=pr,n;case 66:return n.size=1,n.opt=fr,n;case 104:return n.size=2,n.opt=pr,n;case 72:return n.size=2,n.opt=fr,n;case 108:return n.size=4,n.opt=pr,n;case 76:return n.size=4,n.opt=fr,n;case 106:return n.size=4,n.opt=pr,n;case 74:return n.size=4,n.opt=fr,n;case 84:return n.size=4,n.opt=fr,n;case 102:return n.size=4,n.opt=mi,n;case 100:return n.size=8,n.opt=mi,n;case 110:return n.size=8,n.opt=mi,n;case 105:return n.size=mu(e,t,4),n.opt=pr,n;case 73:return n.size=mu(e,t,4),n.opt=fr,n;case 115:return n.size=mu(e,t,4),n.opt=wu,n;case 99:return n.size=b1(t,-1),n.size===-1&&ve(e.L,z("missing size for format option 'c'")),n.opt=Ei,n;case 122:return n.opt=yu,n;case 120:return n.size=1,n.opt=Bp,n;case 88:return n.opt=Ru,n;case 32:break;case 60:e.islittle=!0;break;case 62:e.islittle=!1;break;case 61:e.islittle=!0;break;case 33:e.maxalign=mu(e,t,Z4);break;default:ve(e.L,z("invalid format option '%c'"),n.opt)}return n.opt=qp,n},Vp=function(e,t,n){let r={opt:NaN,size:NaN,ntoalign:NaN},o=n1(e,n);r.size=o.size,r.opt=o.opt;let l=r.size;if(r.opt===Ru)if(n.off>=n.s.length||n.s[n.off]===0)Yr(e.L,1,z("invalid next option for option 'X'"));else{let i=n1(e,n);l=i.size,i=i.opt,(i===Ei||l===0)&&Yr(e.L,1,z("invalid next option for option 'X'"))}return l<=1||r.opt===Ei?r.ntoalign=0:(l>e.maxalign&&(l=e.maxalign),(l&l-1)!==0&&Yr(e.L,1,z("format asks for alignment not power of 2")),r.ntoalign=l-(t&l-1)&l-1),r},bp=function(e,t,n,r,o){let l=d1(e,r);l[n?0:r-1]=t&vu;for(let i=1;i<r;i++)t>>=il,l[n?i:r-1-i]=t&vu;if(o&&r>_r)for(let i=_r;i<r;i++)l[n?i:r-1-i]=vu;_1(e,r)},$4=function(e){let t=new al,n=new Ti(e),r={s:ye(e,1),off:0},o=1,l=0;for(vp(e),Ou(e,t);r.off<r.s.length;){let i=Vp(n,l,r),a=i.opt,u=i.size,c=i.ntoalign;for(l+=c+u;c-- >0;)ht(t,kp);switch(o++,a){case pr:{let s=Wr(e,o);if(u<_r){let p=1<<u*8-1;$t(e,-p<=s&&s<p,o,"integer overflow")}bp(t,s,n.islittle,u,s<0);break}case fr:{let s=Wr(e,o);u<_r&&$t(e,s>>>0<1<<u*il,o,"unsigned overflow"),bp(t,s>>>0,n.islittle,u,!1);break}case mi:{let s=d1(t,u),p=Ep(e,o),_=new DataView(s.buffer,s.byteOffset,s.byteLength);u===4?_.setFloat32(0,p,n.islittle):_.setFloat64(0,p,n.islittle),_1(t,u);break}case Ei:{let s=ye(e,o),p=s.length;for($t(e,p<=u,o,"string longer than given size"),rl(t,s,p);p++<u;)ht(t,kp);break}case wu:{let s=ye(e,o),p=s.length;$t(e,u>=4||p<1<<u*il,o,"string length does not fit in given size"),bp(t,p,n.islittle,u,0),rl(t,s,p),l+=p;break}case yu:{let s=ye(e,o),p=s.length;$t(e,hr(s,0)<0,o,"strings contains zeros"),rl(t,s,p),ht(t,0),l+=p+1;break}case Bp:ht(t,kp);case Ru:case qp:o--;break}}return Su(t),1},Y4=function(e){let t=ye(e,1),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t[n-1-o];return $r(e,r),1},W4=function(e){let t=ye(e,1),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++){let l=t[o];yp(l)&&(l=l|32),r[o]=l}return $r(e,r),1},Q4=function(e){let t=ye(e,1),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++){let l=t[o];wp(l)&&(l=l&223),r[o]=l}return $r(e,r),1},eV=function(e){let t=ye(e,1),n=t.length,r=Wr(e,2),o=N4(e,3,""),l=o.length;if(r<=0)Dp(e,"");else{if(n+l<n||n+l>Pp/r)return ve(e,z("resulting string too large"));{let i=r*n+(r-1)*l,a=new al,u=h1(e,a,i),c=0;for(;r-- >1;)u.set(t,c),c+=n,l>0&&(u.set(o,c),c+=l);u.set(t,c),g1(a,i)}}return 1},tV=function(e){let t=ye(e,1),n=t.length,r=ll(ol(e,2,1),n),o=ll(ol(e,3,r),n);if(r<1&&(r=1),o>n&&(o=n),r>o)return 0;if(o-r>=Number.MAX_SAFE_INTEGER)return ve(e,"string slice too long");let l=o-r+1;Mp(e,l,"string slice too long");for(let i=0;i<l;i++)Yt(e,t[r+i-1]);return l},nV=function(e){let t=new Ti(e),n={s:ye(e,1),off:0},r=0;for(;n.off<n.s.length;){let o=Vp(t,r,n),l=o.opt,i=o.size;switch(i+=o.ntoalign,$t(e,r<=Pp-i,1,"format result too large"),r+=i,l){case wu:case yu:Yr(e,1,"variable-length format");default:break}}return Yt(e,r),1},r1=function(e,t,n,r,o){let l=0,i=r<=_r?r:_r;for(let a=i-1;a>=0;a--)l<<=il,l|=t[n?a:r-1-a];if(r<_r){if(o){let a=1<<r*il-1;l=(l^a)-a}}else if(r>_r){let a=!o||l>=0?0:vu;for(let u=i;u<r;u++)t[n?u:r-1-u]!==a&&ve(e,z("%d-byte integer does not fit into Lua Integer"),r)}return l},rV=function(e,t,n,r){A1.lua_assert(t.length>=r);let o=new DataView(new ArrayBuffer(r));for(let l=0;l<r;l++)o.setUint8(l,t[l],n);return r==4?o.getFloat32(0,n):o.getFloat64(0,n)},oV=function(e){let t=new Ti(e),n={s:ye(e,1),off:0},r=ye(e,2),o=r.length,l=ll(ol(e,3,1),o)-1,i=0;for($t(e,l<=o&&l>=0,3,"initial position out of string");n.off<n.s.length;){let a=Vp(t,l,n),u=a.opt,c=a.size,s=a.ntoalign;switch(l+s+c>o&&Yr(e,2,z("data string too short")),l+=s,Mp(e,2,"too many results"),i++,u){case pr:case fr:{let p=r1(e,r.subarray(l),t.islittle,c,u===pr);Yt(e,p);break}case mi:{let p=rV(e,r.subarray(l),t.islittle,c);v4(e,p);break}case Ei:{$r(e,r.subarray(l,l+c));break}case wu:{let p=r1(e,r.subarray(l),t.islittle,c,0);$t(e,l+p+c<=o,2,"data string too short"),$r(e,r.subarray(l+c,l+c+p)),l+=p;break}case yu:{let p=hr(r,0,l);p===-1&&(p=r.length-l),$r(e,r.subarray(l,p)),l=p+1;break}case Ru:case Bp:case qp:i--;break}l+=c}return Yt(e,l+1),i+1},Si=-1,m1=-2,v1=200,lV=z("^$*+?.([%-"),Oi=class{constructor(t){this.src=null,this.src_init=null,this.src_end=null,this.p=null,this.p_end=null,this.L=t,this.matchdepth=NaN,this.level=NaN,this.capture=[]}},iV=function(e,t){return t=t-49,t<0||t>=e.level||e.capture[t].len===Si?ve(e.L,z("invalid capture index %%%d"),t+1):t},aV=function(e){let t=e.level;for(t--;t>=0;t--)if(e.capture[t].len===Si)return t;return ve(e.L,z("invalid pattern capture"))},o1=function(e,t){switch(e.p[t++]){case dn:return t===e.p_end&&ve(e.L,z("malformed pattern (ends with '%%')")),t+1;case 91:{e.p[t]===94&&t++;do t===e.p_end&&ve(e.L,z("malformed pattern (missing ']')")),e.p[t++]===dn&&t<e.p_end&&t++;while(e.p[t]!==93);return t+1}default:return t}},T1=function(e,t){switch(t){case 97:return $m(e);case 65:return!$m(e);case 99:return Op(e);case 67:return!Op(e);case 100:return hn(e);case 68:return!hn(e);case 103:return Sp(e);case 71:return!Sp(e);case 108:return wp(e);case 76:return!wp(e);case 112:return Ym(e);case 80:return!Ym(e);case 115:return Wm(e);case 83:return!Wm(e);case 117:return yp(e);case 85:return!yp(e);case 119:return Rp(e);case 87:return!Rp(e);case 120:return Qm(e);case 88:return!Qm(e);case 122:return e===0;case 90:return e!==0;default:return t===e}},Up=function(e,t,n,r){let o=!0;for(e.p[n+1]===94&&(o=!1,n++);++n<r;)if(e.p[n]===dn){if(n++,T1(t,e.p[n]))return o}else if(e.p[n+1]===45&&n+2<r){if(n+=2,e.p[n-2]<=t&&t<=e.p[n])return o}else if(e.p[n]===t)return o;return!o},Gp=function(e,t,n,r){if(t>=e.src_end)return!1;{let o=e.src[t];switch(e.p[n]){case 46:return!0;case dn:return T1(o,e.p[n+1]);case 91:return Up(e,o,n,r-1);default:return e.p[n]===o}}},uV=function(e,t,n){if(n>=e.p_end-1&&ve(e.L,z("malformed pattern (missing arguments to '%%b'")),e.src[t]!==e.p[n])return null;{let r=e.p[n],o=e.p[n+1],l=1;for(;++t<e.src_end;)if(e.src[t]===o){if(--l===0)return t+1}else e.src[t]===r&&l++}return null},sV=function(e,t,n,r){let o=0;for(;Gp(e,t+o,n,r);)o++;for(;o>=0;){let l=dr(e,t+o,r+1);if(l)return l;o--}return null},cV=function(e,t,n,r){for(;;){let o=dr(e,t,r+1);if(o!==null)return o;if(Gp(e,t,n,r))t++;else return null}},l1=function(e,t,n,r){let o=e.level;o>=F4&&ve(e.L,z("too many captures")),e.capture[o]=e.capture[o]?e.capture[o]:{},e.capture[o].init=t,e.capture[o].len=r,e.level=o+1;let l;return(l=dr(e,t,n))===null&&e.level--,l},fV=function(e,t,n){let r=aV(e);e.capture[r].len=t-e.capture[r].init;let o;return(o=dr(e,t,n))===null&&(e.capture[r].len=Si),o},pV=function(e,t,n,r,o){return x1(e.subarray(t,t+o),n.subarray(r,r+o))},_V=function(e,t,n){n=iV(e,n);let r=e.capture[n].len;return e.src_end-t>=r&&pV(e.src,e.capture[n].init,e.src,t,r)?t+r:null},dr=function(e,t,n){let r=!1,o=!0;for(e.matchdepth--===0&&ve(e.L,z("pattern too complex"));o||r;)if(o=!1,n!==e.p_end)switch(r?void 0:e.p[n]){case 40:{e.p[n+1]===41?t=l1(e,t,n+2,m1):t=l1(e,t,n+1,Si);break}case 41:{t=fV(e,t,n+1);break}case 36:{if(n+1!==e.p_end){r=!0;break}t=e.src.length-t===0?t:null;break}case dn:{switch(e.p[n+1]){case 98:{t=uV(e,t,n+2),t!==null&&(n+=4,o=!0);break}case 102:{n+=2,e.p[n]!==91&&ve(e.L,z("missing '[' after '%%f' in pattern"));let l=o1(e,n),i=t===e.src_init?0:e.src[t-1];if(!Up(e,i,n,l-1)&&Up(e,t===e.src_end?0:e.src[t],n,l-1)){n=l,o=!0;break}t=null;break}case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:{t=_V(e,t,e.p[n+1]),t!==null&&(n+=2,o=!0);break}default:r=!0}break}default:{r=!1;let l=o1(e,n);if(Gp(e,t,n,l))switch(e.p[l]){case 63:{let i;(i=dr(e,t+1,l+1))!==null?t=i:(n=l+1,o=!0);break}case 43:t++;case 42:t=sV(e,t,n,l);break;case 45:t=cV(e,t,n,l);break;default:t++,n=l,o=!0}else if(e.p[l]===42||e.p[l]===63||e.p[l]===45){n=l+1,o=!0;break}else t=null;break}}return e.matchdepth++,t},Kp=function(e,t,n,r){if(t>=e.level)t===0?mp(e.L,e.src.subarray(n,r),r-n):ve(e.L,z("invalid capture index %%%d"),t+1);else{let o=e.capture[t].len;o===Si&&ve(e.L,z("unfinished capture")),o===m1?Yt(e.L,e.capture[t].init-e.src_init+1):mp(e.L,e.src.subarray(e.capture[t].init),o)}},Eu=function(e,t,n){let r=e.level===0&&e.src.subarray(t)?1:e.level;Mp(e.L,r,"too many captures");for(let o=0;o<r;o++)Kp(e,o,t,n);return r},hV=function(e,t){for(let n=0;n<t;n++)if(hr(lV,e[n])!==-1)return!1;return!0},Hp=function(e,t,n,r,o,l){e.L=t,e.matchdepth=v1,e.src=n,e.src_init=0,e.src_end=r,e.p=o,e.p_end=l},jp=function(e){e.level=0,A1.lua_assert(e.matchdepth===v1)},dV=function(e,t,n){var r=n>>>0,o=t.length;if(o===0)return r;for(;(r=e.indexOf(t[0],r))!==-1;r++)if(x1(e.subarray(r,r+o),t))return r;return-1},E1=function(e,t){let n=ye(e,1),r=ye(e,2),o=n.length,l=r.length,i=ll(ol(e,3,1),o);if(i<1)i=1;else if(i>o+1)return vp(e),1;if(t&&(Ip(e,4)||hV(r,l))){let a=dV(n.subarray(i-1),r,0);if(a>-1)return Yt(e,i+a),Yt(e,i+a+l-1),2}else{let a=new Oi(e),u=i-1,c=r[0]===94;c&&(r=r.subarray(1),l--),Hp(a,e,n,o,r,l);do{let s;if(jp(a),(s=dr(a,u,0))!==null)return t?(Yt(e,u+1),Yt(e,s),Eu(a,null,0)+2):Eu(a,u,s)}while(u++<a.src_end&&!c)}return vp(e),1},gV=function(e){return E1(e,1)},AV=function(e){return E1(e,0)},Cp=class{constructor(){this.src=NaN,this.p=NaN,this.lastmatch=NaN,this.ms=new Oi}},xV=function(e){let t=y4(e,R4(3));t.ms.L=e;for(let n=t.src;n<=t.ms.src_end;n++){jp(t.ms);let r;if((r=dr(t.ms,n,t.p))!==null&&r!==t.lastmatch)return t.src=t.lastmatch=r,Eu(t.ms,n,r)}return 0},kV=function(e){let t=ye(e,1),n=ye(e,2),r=t.length,o=n.length;c1(e,2);let l=new Cp;return m4(e,l),Hp(l.ms,e,t,r,n,o),l.src=0,l.p=0,l.lastmatch=null,b4(e,xV,3),1},bV=function(e,t,n,r){let o=e.L,l=f1(o,3),i=l.length;for(let a=0;a<i;a++)l[a]!==dn?ht(t,l[a]):(a++,hn(l[a])?l[a]===48?rl(t,e.src.subarray(n,r),r-n):(Kp(e,l[a]-49,n,r),Fp(o,-1),T4(o,-2),vi(t)):(l[a]!==dn&&ve(o,z("invalid use of '%c' in replacement string"),dn),ht(t,l[a])))},mV=function(e,t,n,r,o){let l=e.L;switch(o){case Np:{Tp(l,3);let i=Eu(e,n,r);h4(l,i,1);break}case u1:{Kp(e,0,n,r),A4(l,3);break}default:{bV(e,t,n,r);return}}Ip(l,-1)?k4(l,-1)||ve(l,z("invalid replacement value (a %s)"),D4(l,-1)):(Tu(l,1),mp(l,e.src.subarray(n,r),r-n)),vi(t)},vV=function(e){let t=ye(e,1),n=t.length,r=ye(e,2),o=r.length,l=null,i=p1(e,3),a=ol(e,4,n+1),u=r[0]===94,c=0,s=new Oi(e),p=new al;for($t(e,i===i1||i===a1||i===Np||i===u1,3,"string/function/table expected"),Ou(e,p),u&&(r=r.subarray(1),o--),Hp(s,e,t,n,r,o),t=0,r=0;c<a;){let _;if(jp(s),(_=dr(s,t,r))!==null&&_!==l)c++,mV(s,p,t,_,i),t=l=_;else if(t<s.src_end)ht(p,s.src[t++]);else break;if(u)break}return rl(p,s.src.subarray(t,s.src_end),s.src_end-t),Su(p),Yt(e,c),2},TV={byte:tV,char:V4,dump:K4,find:gV,format:J4,gmatch:kV,gsub:vV,len:q4,lower:W4,match:AV,pack:$4,packsize:nV,rep:eV,reverse:Y4,sub:B4,unpack:oV,upper:Q4},EV=function(e){d4(e,0,1),Dp(e,""),Tp(e,-2),O4(e,-2),Tu(e,1),Tp(e,-2),E4(e,-2,z("__index",!0)),Tu(e,1)},OV=function(e){return C4(e,TV),EV(e),1};O1.exports.luaopen_string=OV});var Jp=w((y5,U1)=>{var{lua_gettop:SV,lua_pushcfunction:wV,lua_pushfstring:yV,lua_pushinteger:Qr,lua_pushnil:w1,lua_pushstring:RV,lua_pushvalue:UV,lua_setfield:CV,lua_tointeger:NV}=pt(),{luaL_Buffer:DV,luaL_addvalue:IV,luaL_argcheck:sl,luaL_buffinit:MV,luaL_checkinteger:y1,luaL_checkstack:FV,luaL_checkstring:Ri,luaL_error:Uu,luaL_newlib:PV,luaL_optinteger:wi,luaL_pushresult:BV}=Nt(),{luastring_of:qV,to_luastring:zp}=vt(),R1=1114111,ul=function(e){return(e&192)===128},yi=function(e,t){return e>=0?e:0-e>t?0:t+e+1},VV=[255,127,2047,65535],Lp=function(e,t){let n=e[t],r=0;if(n<128)r=n;else{let o=0;for(;n&64;){let l=e[t+ ++o];if((l&192)!==128)return null;r=r<<6|l&63,n<<=1}if(r|=(n&127)<<o*5,o>3||r>R1||r<=VV[o])return null;t+=o}return{code:r,pos:t+1}},GV=function(e){let t=0,n=Ri(e,1),r=n.length,o=yi(wi(e,2,1),r),l=yi(wi(e,3,-1),r);for(sl(e,1<=o&&--o<=r,2,"initial position out of string"),sl(e,--l<r,3,"final position out of string");o<=l;){let i=Lp(n,o);if(i===null)return w1(e),Qr(e,o+1),2;o=i.pos,t++}return Qr(e,t),1},KV=zp("%U"),S1=function(e,t){let n=y1(e,t);sl(e,0<=n&&n<=R1,t,"value out of range"),yV(e,KV,n)},HV=function(e){let t=SV(e);if(t===1)S1(e,1);else{let n=new DV;MV(e,n);for(let r=1;r<=t;r++)S1(e,r),IV(n);BV(n)}return 1},jV=function(e){let t=Ri(e,1),n=y1(e,2),r=n>=0?1:t.length+1;if(r=yi(wi(e,3,r),t.length),sl(e,1<=r&&--r<=t.length,3,"position out of range"),n===0)for(;r>0&&ul(t[r]);)r--;else if(ul(t[r])&&Uu(e,"initial position is a continuation byte"),n<0)for(;n<0&&r>0;){do r--;while(r>0&&ul(t[r]));n++}else for(n--;n>0&&r<t.length;){do r++;while(ul(t[r]));n--}return n===0?Qr(e,r+1):w1(e),1},XV=function(e){let t=Ri(e,1),n=yi(wi(e,2,1),t.length),r=yi(wi(e,3,n),t.length);if(sl(e,n>=1,2,"out of range"),sl(e,r<=t.length,3,"out of range"),n>r)return 0;if(r-n>=Number.MAX_SAFE_INTEGER)return Uu(e,"string slice too long");let o=r-n+1;for(FV(e,o,"string slice too long"),o=0,n-=1;n<r;){let l=Lp(t,n);if(l===null)return Uu(e,"invalid UTF-8 code");Qr(e,l.code),n=l.pos,o++}return o},zV=function(e){let t=Ri(e,1),n=t.length,r=NV(e,2)-1;if(r<0)r=0;else if(r<n)for(r++;ul(t[r]);)r++;if(r>=n)return 0;{let o=Lp(t,r);return o===null||ul(t[o.pos])?Uu(e,zp("invalid UTF-8 code")):(Qr(e,r+1),Qr(e,o.code),2)}},LV=function(e){return Ri(e,1),wV(e,zV),UV(e,1),Qr(e,0),3},JV={char:HV,codepoint:XV,codes:LV,len:GV,offset:jV},ZV=qV(91,0,45,127,194,45,244,93,91,128,45,191,93,42),$V=function(e){return PV(e,JV),RV(e,ZV),CV(e,-2,zp("charpattern",!0)),1};U1.exports.luaopen_utf8=$V});var Qp=w((R5,q1)=>{var{LUA_OPLT:N1,LUA_TNUMBER:YV,lua_compare:D1,lua_gettop:$p,lua_isinteger:to,lua_isnoneornil:WV,lua_pushboolean:QV,lua_pushinteger:no,lua_pushliteral:C1,lua_pushnil:I1,lua_pushnumber:He,lua_pushvalue:M1,lua_setfield:Cu,lua_settop:Yp,lua_tointeger:Zp,lua_tointegerx:eG,lua_type:tG}=pt(),{luaL_argcheck:Du,luaL_argerror:nG,luaL_checkany:F1,luaL_checkinteger:Ui,luaL_checknumber:je,luaL_error:rG,luaL_newlib:oG,luaL_optnumber:lG}=Nt(),{LUA_MAXINTEGER:P1,LUA_MININTEGER:iG,lua_numbertointeger:aG}=dt(),{to_luastring:Nu}=vt(),eo,B1=function(){return eo=1103515245*eo+12345&2147483647,eo},uG=function(e){eo=e|0,eo===0&&(eo=1)},sG=function(e){let t,n,r=eo===void 0?Math.random():B1()/2147483648;switch($p(e)){case 0:return He(e,r),1;case 1:{t=1,n=Ui(e,1);break}case 2:{t=Ui(e,1),n=Ui(e,2);break}default:return rG(e,"wrong number of arguments")}return Du(e,t<=n,1,"interval is empty"),Du(e,t>=0||n<=P1+t,1,"interval too large"),r*=n-t+1,no(e,Math.floor(r)+t),1},cG=function(e){return uG(je(e,1)),B1(),0},fG=function(e){if(to(e,1)){let t=Zp(e,1);t<0&&(t=-t|0),no(e,t)}else He(e,Math.abs(je(e,1)));return 1},pG=function(e){return He(e,Math.sin(je(e,1))),1},_G=function(e){return He(e,Math.cos(je(e,1))),1},hG=function(e){return He(e,Math.tan(je(e,1))),1},dG=function(e){return He(e,Math.asin(je(e,1))),1},gG=function(e){return He(e,Math.acos(je(e,1))),1},AG=function(e){let t=je(e,1),n=lG(e,2,1);return He(e,Math.atan2(t,n)),1},xG=function(e){let t=eG(e,1);return t!==!1?no(e,t):(F1(e,1),I1(e)),1},Wp=function(e,t){let n=aG(t);n!==!1?no(e,n):He(e,t)},kG=function(e){return to(e,1)?Yp(e,1):Wp(e,Math.floor(je(e,1))),1},bG=function(e){return to(e,1)?Yp(e,1):Wp(e,Math.ceil(je(e,1))),1},mG=function(e){return He(e,Math.sqrt(je(e,1))),1},vG=function(e){let t=Ui(e,1),n=Ui(e,2);return QV(e,t>=0?n<0||t<n:n<0&&t<n),1},TG=function(e){let t=je(e,1),n;if(WV(e,2))n=Math.log(t);else{let r=je(e,2);r===2?n=Math.log2(t):r===10?n=Math.log10(t):n=Math.log(t)/Math.log(r)}return He(e,n),1},EG=function(e){return He(e,Math.exp(je(e,1))),1},OG=function(e){return He(e,je(e,1)*(180/Math.PI)),1},SG=function(e){return He(e,je(e,1)*(Math.PI/180)),1},wG=function(e){let t=$p(e),n=1;Du(e,t>=1,1,"value expected");for(let r=2;r<=t;r++)D1(e,r,n,N1)&&(n=r);return M1(e,n),1},yG=function(e){let t=$p(e),n=1;Du(e,t>=1,1,"value expected");for(let r=2;r<=t;r++)D1(e,n,r,N1)&&(n=r);return M1(e,n),1},RG=function(e){return tG(e,1)===YV?to(e,1)?C1(e,"integer"):C1(e,"float"):(F1(e,1),I1(e)),1},UG=function(e){if(to(e,1)&&to(e,2)){let t=Zp(e,2);t===0?nG(e,2,"zero"):no(e,Zp(e,1)%t|0)}else{let t=je(e,1),n=je(e,2);He(e,t%n)}return 1},CG=function(e){if(to(e,1))Yp(e,1),He(e,0);else{let t=je(e,1),n=t<0?Math.ceil(t):Math.floor(t);Wp(e,n),He(e,t===n?0:t-n)}return 2},NG={abs:fG,acos:gG,asin:dG,atan:AG,ceil:bG,cos:_G,deg:OG,exp:EG,floor:kG,fmod:UG,log:TG,max:yG,min:wG,modf:CG,rad:SG,random:sG,randomseed:cG,sin:pG,sqrt:mG,tan:hG,tointeger:xG,type:RG,ult:vG},DG=function(e){return oG(e,NG),He(e,Math.PI),Cu(e,-2,Nu("pi",!0)),He(e,1/0),Cu(e,-2,Nu("huge",!0)),no(e,P1),Cu(e,-2,Nu("maxinteger",!0)),no(e,iG),Cu(e,-2,Nu("mininteger",!0)),1};q1.exports.luaopen_math=DG});var c_=w((U5,iv)=>{var{LUA_MASKCALL:j1,LUA_MASKCOUNT:IG,LUA_MASKLINE:X1,LUA_MASKRET:z1,LUA_REGISTRYINDEX:Di,LUA_TFUNCTION:n_,LUA_TNIL:L1,LUA_TTABLE:MG,LUA_TUSERDATA:J1,lua_Debug:r_,lua_call:FG,lua_checkstack:PG,lua_gethook:BG,lua_gethookcount:qG,lua_gethookmask:VG,lua_getinfo:Z1,lua_getlocal:V1,lua_getmetatable:GG,lua_getstack:o_,lua_getupvalue:$1,lua_getuservalue:KG,lua_insert:HG,lua_iscfunction:G1,lua_isfunction:Y1,lua_isnoneornil:W1,lua_isthread:jG,lua_newtable:XG,lua_pcall:zG,lua_pop:LG,lua_pushboolean:JG,lua_pushfstring:ZG,lua_pushinteger:l_,lua_pushlightuserdata:Q1,lua_pushliteral:$G,lua_pushnil:cl,lua_pushstring:ro,lua_pushvalue:Fu,lua_rawgetp:i_,lua_rawsetp:YG,lua_rotate:ev,lua_setfield:Pu,lua_sethook:WG,lua_setlocal:QG,lua_setmetatable:e3,lua_settop:Ii,lua_setupvalue:t3,lua_setuservalue:n3,lua_tojsstring:r3,lua_toproxy:o3,lua_tostring:l3,lua_tothread:i3,lua_touserdata:a_,lua_type:tv,lua_upvalueid:a3,lua_upvaluejoin:u3,lua_xmove:Bu}=pt(),{luaL_argcheck:Iu,luaL_argerror:u_,luaL_checkany:qu,luaL_checkinteger:oo,luaL_checkstring:s3,luaL_checktype:Vu,luaL_error:c3,luaL_loadbuffer:f3,luaL_newlib:p3,luaL_optinteger:nv,luaL_optstring:_3,luaL_traceback:h3,lua_writestringerror:d3}=Nt(),g3=Zr(),{luastring_indexOf:gn,to_luastring:Re}=vt(),s_=function(e,t,n){e!==t&&!PG(t,n)&&c3(e,Re("stack overflow",!0))},A3=function(e){return Fu(e,Di),1},x3=function(e){return qu(e,1),GG(e,1)||cl(e),1},k3=function(e){let t=tv(e,2);return Iu(e,t==L1||t==MG,2,"nil or table expected"),Ii(e,2),e3(e,1),1},b3=function(e){return tv(e,1)!==J1?cl(e):KG(e,1),1},m3=function(e){return Vu(e,1,J1),qu(e,2),Ii(e,2),n3(e,1),1},fl=function(e){return jG(e,1)?{arg:1,thread:i3(e,1)}:{arg:0,thread:e}},Ci=function(e,t,n){ro(e,n),Pu(e,-2,t)},Ni=function(e,t,n){l_(e,n),Pu(e,-2,t)},K1=function(e,t,n){JG(e,n),Pu(e,-2,t)},H1=function(e,t,n){e==t?ev(e,-2,1):Bu(t,e,1),Pu(e,-2,n)},v3=function(e){let t=new r_,n=fl(e),r=n.arg,o=n.thread,l=_3(e,r+2,"flnStu");if(s_(e,o,3),Y1(e,r+1))l=ZG(e,Re(">%s"),l),Fu(e,r+1),Bu(e,o,1);else if(!o_(o,oo(e,r+1),t))return cl(e),1;return Z1(o,l,t)||u_(e,r+2,"invalid option"),XG(e),gn(l,83)>-1&&(Ci(e,Re("source",!0),t.source),Ci(e,Re("short_src",!0),t.short_src),Ni(e,Re("linedefined",!0),t.linedefined),Ni(e,Re("lastlinedefined",!0),t.lastlinedefined),Ci(e,Re("what",!0),t.what)),gn(l,108)>-1&&Ni(e,Re("currentline",!0),t.currentline),gn(l,117)>-1&&(Ni(e,Re("nups",!0),t.nups),Ni(e,Re("nparams",!0),t.nparams),K1(e,Re("isvararg",!0),t.isvararg)),gn(l,110)>-1&&(Ci(e,Re("name",!0),t.name),Ci(e,Re("namewhat",!0),t.namewhat)),gn(l,116)>-1&&K1(e,Re("istailcall",!0),t.istailcall),gn(l,76)>-1&&H1(e,o,Re("activelines",!0)),gn(l,102)>-1&&H1(e,o,Re("func",!0)),1},T3=function(e){let t=fl(e),n=t.thread,r=t.arg,o=new r_,l=oo(e,r+2);if(Y1(e,r+1))return Fu(e,r+1),ro(e,V1(e,null,l)),1;{let i=oo(e,r+1);if(!o_(n,i,o))return u_(e,r+1,"level out of range");s_(e,n,1);let a=V1(n,o,l);return a?(Bu(n,e,1),ro(e,a),ev(e,-2,1),2):(cl(e),1)}},E3=function(e){let t=fl(e),n=t.thread,r=t.arg,o=new r_,l=oo(e,r+1),i=oo(e,r+2);if(!o_(n,l,o))return u_(e,r+1,"level out of range");qu(e,r+3),Ii(e,r+3),s_(e,n,1),Bu(e,n,1);let a=QG(n,o,i);return a===null&&LG(n,1),ro(e,a),1},rv=function(e,t){let n=oo(e,2);Vu(e,1,n_);let r=t?$1(e,1,n):t3(e,1,n);return r===null?0:(ro(e,r),HG(e,-(t+1)),t+1)},O3=function(e){return rv(e,1)},S3=function(e){return qu(e,3),rv(e,0)},e_=function(e,t,n){let r=oo(e,n);return Vu(e,t,n_),Iu(e,$1(e,t,r)!==null,n,"invalid upvalue index"),r},w3=function(e){let t=e_(e,1,2);return Q1(e,a3(e,1,t)),1},y3=function(e){let t=e_(e,1,2),n=e_(e,3,4);return Iu(e,!G1(e,1),1,"Lua function expected"),Iu(e,!G1(e,3),3,"Lua function expected"),u3(e,1,t,3,n),0},Mu=Re("__hooks__",!0),R3=["call","return","line","count","tail call"].map(e=>Re(e)),ov=function(e,t){i_(e,Di,Mu);let r=a_(e,-1).get(e);r&&(r(e),ro(e,R3[t.event]),t.currentline>=0?l_(e,t.currentline):cl(e),g3.lua_assert(Z1(e,Re("lS"),t)),FG(e,2,0))},U3=function(e,t){let n=0;return gn(e,99)>-1&&(n|=j1),gn(e,114)>-1&&(n|=z1),gn(e,108)>-1&&(n|=X1),t>0&&(n|=IG),n},C3=function(e,t){let n=0;return e&j1&&(t[n++]=99),e&z1&&(t[n++]=114),e&X1&&(t[n++]=108),t.subarray(0,n)},N3=function(e){let t,n,r,o=fl(e),l=o.thread,i=o.arg;if(W1(e,i+1))Ii(e,i+1),r=null,t=0,n=0;else{let c=s3(e,i+2);Vu(e,i+1,n_),n=nv(e,i+3,0),r=ov,t=U3(c,n)}let a;i_(e,Di,Mu)===L1?(a=new WeakMap,Q1(e,a),YG(e,Di,Mu)):a=a_(e,-1);let u=o3(e,i+1);return a.set(l,u),WG(l,r,t,n),0},D3=function(e){let n=fl(e).thread,r=new Uint8Array(5),o=VG(n),l=BG(n);return l===null?cl(e):l!==ov?$G(e,"external hook"):(i_(e,Di,Mu),a_(e,-1).get(n)(e)),ro(e,C3(o,r)),l_(e,qG(n)),3},I3=function(e){let t=fl(e),n=t.thread,r=t.arg,o=l3(e,r+1);if(o===null&&!W1(e,r+1))Fu(e,r+1);else{let l=nv(e,r+2,e===n?1:0);h3(e,n,o,l)}return 1},lv={gethook:D3,getinfo:v3,getlocal:T3,getmetatable:x3,getregistry:A3,getupvalue:O3,getuservalue:b3,sethook:N3,setlocal:E3,setmetatable:k3,setupvalue:S3,setuservalue:m3,traceback:I3,upvalueid:w3,upvaluejoin:y3},t_;typeof window!="undefined"&&(t_=function(){let e=prompt("lua_debug>","");return e!==null?e:""});t_&&(lv.debug=function(e){for(;;){let t=t_();if(t==="cont")return 0;if(t.length===0)continue;let n=Re(t);(f3(e,n,n.length,Re("=(debug command)",!0))||zG(e,0,0,0))&&d3(r3(e,-1),\`
\`),Ii(e,0)}});var M3=function(e){return p3(e,lv),1};iv.exports.luaopen_debug=M3});var m_=w((N5,Gv)=>{var{LUA_DIRSEP:Gu,LUA_EXEC_DIR:F3,LUA_JSPATH_DEFAULT:P3,LUA_PATH_DEFAULT:B3,LUA_PATH_MARK:hv,LUA_PATH_SEP:lo}=dt(),{LUA_OK:pl,LUA_REGISTRYINDEX:Ar,LUA_TNIL:__,LUA_TTABLE:q3,lua_callk:dv,lua_createtable:gv,lua_getfield:Kn,lua_insert:h_,lua_isfunction:V3,lua_isnil:G3,lua_isstring:K3,lua_newtable:H3,lua_pop:Gn,lua_pushboolean:Av,lua_pushcclosure:j3,lua_pushcfunction:X3,lua_pushfstring:Mi,lua_pushglobaltable:z3,lua_pushlightuserdata:L3,lua_pushliteral:xv,lua_pushlstring:d_,lua_pushnil:kv,lua_pushstring:An,lua_pushvalue:Ku,lua_rawgeti:J3,lua_rawgetp:bv,lua_rawseti:mv,lua_rawsetp:Z3,lua_remove:f_,lua_setfield:gr,lua_setmetatable:$3,lua_settop:Y3,lua_toboolean:vv,lua_tostring:_l,lua_touserdata:W3,lua_upvalueindex:Tv}=pt(),{LUA_LOADED_TABLE:Ev,LUA_PRELOAD_TABLE:Ov,luaL_Buffer:Sv,luaL_addvalue:wv,luaL_buffinit:yv,luaL_checkstring:Hn,luaL_error:Hu,luaL_getsubtable:av,luaL_gsub:Fi,luaL_len:Q3,luaL_loadfile:eK,luaL_newlib:tK,luaL_optstring:uv,luaL_pushresult:Rv,luaL_setfuncs:nK}=Nt(),rK=Zr(),{luastring_indexOf:g_,to_jsstring:Uv,to_luastring:Q,to_uristring:Cv}=vt(),oK=v_(),Nv=function(){return typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:(0,eval)("this")}(),A_=Q("__JSLIBS__"),lK="LUA_PATH",iK="LUA_JSPATH",Dv="-",Iv=Gu,aK=Gu,sv=Q("luaopen_"),uK=Q("_"),sK="open",cv=Q(""),Mv;Mv=function(e,t,n){t=Cv(t);let r=new XMLHttpRequest;if(r.open("GET",t,!1),r.send(),r.status<200||r.status>=300)return An(e,Q(\`\${r.status}: \${r.statusText}\`)),null;let o=r.response;/\\/\\/[#@] sourceURL=/.test(o)||(o+=" //# sourceURL="+t);let l;try{l=Function("fengari",o)}catch(a){return An(e,Q(\`\${a.name}: \${a.message}\`)),null}let i=l(oK);return typeof i=="function"||typeof i=="object"&&i!==null?i:i===void 0?Nv:(An(e,Q(\`library returned unexpected type (\${typeof i})\`)),null)};var cK=function(e,t,n){let r=t[Uv(n)];return r&&typeof r=="function"?r:(Mi(e,Q("undefined symbol: %s"),n),null)},fK=function(e){Kn(e,Ar,Q("LUA_NOENV"));let t=vv(e,-1);return Gn(e,1),t},Fv;Fv=function(e){e=Cv(e);let t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),t.status>=200&&t.status<=299};var Pv=1,x_=2,p_=function(e,t,n){let r=_K(e,t);if(r===null){if(r=Mv(e,t,n[0]==="*".charCodeAt(0)),r===null)return Pv;hK(e,t,r)}if(n[0]==="*".charCodeAt(0))return Av(e,1),0;{let o=cK(e,r,n);return o===null?x_:(X3(e,o),0)}},pK=function(e){let t=Hn(e,1),n=Hn(e,2),r=p_(e,t,n);return r===0?1:(kv(e),h_(e,-2),xv(e,r===Pv?sK:"init"),3)},fv=function(){return Nv}(),pv=function(e,t,n,r){let o=\`\${n}\${rK.LUA_VERSUFFIX}\`;An(e,Q(o));let l=fv[o];l===void 0&&(l=fv[n]),l===void 0||fK(e)?An(e,r):(l=Fi(e,Q(l),Q(lo+lo,!0),Q(lo+Uv(cv)+lo,!0)),Fi(e,l,cv,r),f_(e,-2)),gr(e,-3,t),Gn(e,1)},_K=function(e,t){bv(e,Ar,A_),Kn(e,-1,t);let n=W3(e,-1);return Gn(e,2),n},hK=function(e,t,n){bv(e,Ar,A_),L3(e,n),Ku(e,-1),gr(e,-3,t),mv(e,-2,Q3(e,-2)+1),Gn(e,1)},dK=function(e,t){for(;t[0]===lo.charCodeAt(0);)t=t.subarray(1);if(t.length===0)return null;let n=g_(t,lo.charCodeAt(0));return n<0&&(n=t.length),d_(e,t,n),t.subarray(n)},Bv=function(e,t,n,r,o){let l=new Sv;for(yv(e,l),r[0]!==0&&(t=Fi(e,t,r,o));(n=dK(e,n))!==null;){let i=Fi(e,_l(e,-1),Q(hv,!0),t);if(f_(e,-2),Fv(i))return i;Mi(e,Q(\`
	no file '%s'\`),i),f_(e,-2),wv(l)}return Rv(l),null},gK=function(e){return Bv(e,Hn(e,1),Hn(e,2),uv(e,3,"."),uv(e,4,Gu))!==null?1:(kv(e),h_(e,-2),2)},k_=function(e,t,n,r){Kn(e,Tv(1),n);let o=_l(e,-1);return o===null&&Hu(e,Q("'package.%s' must be a string"),n),Bv(e,t,o,Q("."),r)},b_=function(e,t,n){return t?(An(e,n),2):Hu(e,Q(\`error loading module '%s' from file '%s':
	%s\`),_l(e,1),n,_l(e,-1))},AK=function(e){let t=Hn(e,1),n=k_(e,t,Q("path",!0),Q(aK,!0));return n===null?1:b_(e,eK(e,n)===pl,n)},qv=function(e,t,n){let r;n=Fi(e,n,Q("."),uK);let o=g_(n,Dv.charCodeAt(0));if(o>=0){r=d_(e,n,o),r=Mi(e,Q("%s%s"),sv,r);let l=p_(e,t,r);if(l!==x_)return l;n=o+1}return r=Mi(e,Q("%s%s"),sv,n),p_(e,t,r)},xK=function(e){let t=Hn(e,1),n=k_(e,t,Q("jspath",!0),Q(Iv,!0));return n===null?1:b_(e,qv(e,n,t)===0,n)},kK=function(e){let t=Hn(e,1),n=g_(t,".".charCodeAt(0)),r;if(n<0)return 0;d_(e,t,n);let o=k_(e,_l(e,-1),Q("jspath",!0),Q(Iv,!0));return o===null?1:(r=qv(e,o,t))!==0?r!=x_?b_(e,0,o):(An(e,Q(\`
	no module '%s' in file '%s'\`),t,o),1):(An(e,o),2)},bK=function(e){let t=Hn(e,1);return Kn(e,Ar,Ov),Kn(e,-1,t)===__&&Mi(e,Q(\`
	no field package.preload['%s']\`),t),1},mK=function(e,t,n,r){let o=new Sv;return yv(e,o),Kn(e,Tv(1),Q("searchers",!0))!==q3&&Hu(e,Q("'package.searchers' must be a table")),Vv(e,pl,{name:t,i:1,msg:o,ctx:n,k:r})},Vv=function(e,t,n){for(;t===pl?(J3(e,3,n.i)===__&&(Gn(e,1),Rv(n.msg),Hu(e,Q("module '%s' not found:%s"),n.name,_l(e,-1))),An(e,n.name),dv(e,1,2,n,Vv)):t=pl,!V3(e,-2);n.i++)K3(e,-2)?(Gn(e,1),wv(n.msg)):Gn(e,2);return n.k(e,pl,n.ctx)},vK=function(e){let t=Hn(e,1);return Y3(e,1),Kn(e,Ar,Ev),Kn(e,2,t),vv(e,-1)?1:(Gn(e,1),mK(e,t,t,TK))},TK=function(e,t,n){return An(e,n),h_(e,-2),dv(e,2,1,n,_v),_v(e,pl,n)},_v=function(e,t,n){let r=n;return G3(e,-1)||gr(e,2,r),Kn(e,2,r)==__&&(Av(e,1),Ku(e,-1),gr(e,2,r)),1},EK={loadlib:pK,searchpath:gK},OK={require:vK},SK=function(e){let t=[bK,AK,xK,kK,null];gv(e);for(let n=0;t[n];n++)Ku(e,-2),j3(e,t[n],1),mv(e,-2,n+1);gr(e,-2,Q("searchers",!0))},wK=function(e){H3(e),gv(e,0,1),$3(e,-2),Z3(e,Ar,A_)},yK=function(e){return wK(e),tK(e,EK),SK(e),pv(e,Q("path",!0),lK,B3),pv(e,Q("jspath",!0),iK,P3),xv(e,Gu+\`
\`+lo+\`
\`+hv+\`
\`+F3+\`
\`+Dv+\`
\`),gr(e,-2,Q("config",!0)),av(e,Ar,Ev),gr(e,-2,Q("loaded",!0)),av(e,Ar,Ov),gr(e,-2,Q("preload",!0)),z3(e),Ku(e,-2),nK(e,OK,1),Gn(e,1),1};Gv.exports.luaopen_package=yK});var T_=w((D5,Kv)=>{var{lua_pushinteger:RK,lua_pushliteral:io,lua_setfield:xr}=pt(),{luaL_newlib:UK}=Nt(),{FENGARI_AUTHORS:CK,FENGARI_COPYRIGHT:NK,FENGARI_RELEASE:DK,FENGARI_VERSION:IK,FENGARI_VERSION_MAJOR:MK,FENGARI_VERSION_MINOR:FK,FENGARI_VERSION_NUM:PK,FENGARI_VERSION_RELEASE:BK,to_luastring:kr}=vt(),qK=function(e){return UK(e,{}),io(e,CK),xr(e,-2,kr("AUTHORS")),io(e,NK),xr(e,-2,kr("COPYRIGHT")),io(e,DK),xr(e,-2,kr("RELEASE")),io(e,IK),xr(e,-2,kr("VERSION")),io(e,MK),xr(e,-2,kr("VERSION_MAJOR")),io(e,FK),xr(e,-2,kr("VERSION_MINOR")),RK(e,PK),xr(e,-2,kr("VERSION_NUM")),io(e,BK),xr(e,-2,kr("VERSION_RELEASE")),1};Kv.exports.luaopen_fengari=qK});var jv=w((I5,Hv)=>{var{lua_pop:VK}=pt(),{luaL_requiref:GK}=Nt(),{to_luastring:KK}=vt(),qt={},HK=function(e){for(let t in qt)GK(e,KK(t),qt[t],1),VK(e,1)};Hv.exports.luaL_openlibs=HK;var jn=Zr(),{luaopen_base:jK}=op(),{luaopen_coroutine:XK}=ap(),{luaopen_debug:zK}=c_(),{luaopen_math:LK}=Qp(),{luaopen_package:JK}=m_(),{luaopen_os:ZK}=Ap(),{luaopen_string:$K}=Xp(),{luaopen_table:YK}=hp(),{luaopen_utf8:WK}=Jp();qt._G=jK,qt[jn.LUA_LOADLIBNAME]=JK;qt[jn.LUA_COLIBNAME]=XK;qt[jn.LUA_TABLIBNAME]=YK;qt[jn.LUA_OSLIBNAME]=ZK;qt[jn.LUA_STRLIBNAME]=$K;qt[jn.LUA_MATHLIBNAME]=LK;qt[jn.LUA_UTF8LIBNAME]=WK;qt[jn.LUA_DBLIBNAME]=zK;var{luaopen_fengari:QK}=T_();qt[jn.LUA_FENGARILIBNAME]=QK});var Zr=w((M5,ke)=>{var{LUA_VERSION_MAJOR:e8,LUA_VERSION_MINOR:t8}=pt(),n8="_"+e8+"_"+t8;ke.exports.LUA_VERSUFFIX=n8;ke.exports.lua_assert=function(e){};ke.exports.luaopen_base=op().luaopen_base;var r8="coroutine";ke.exports.LUA_COLIBNAME=r8;ke.exports.luaopen_coroutine=ap().luaopen_coroutine;var o8="table";ke.exports.LUA_TABLIBNAME=o8;ke.exports.luaopen_table=hp().luaopen_table;var l8="os";ke.exports.LUA_OSLIBNAME=l8;ke.exports.luaopen_os=Ap().luaopen_os;var i8="string";ke.exports.LUA_STRLIBNAME=i8;ke.exports.luaopen_string=Xp().luaopen_string;var a8="utf8";ke.exports.LUA_UTF8LIBNAME=a8;ke.exports.luaopen_utf8=Jp().luaopen_utf8;var u8="bit32";ke.exports.LUA_BITLIBNAME=u8;var s8="math";ke.exports.LUA_MATHLIBNAME=s8;ke.exports.luaopen_math=Qp().luaopen_math;var c8="debug";ke.exports.LUA_DBLIBNAME=c8;ke.exports.luaopen_debug=c_().luaopen_debug;var f8="package";ke.exports.LUA_LOADLIBNAME=f8;ke.exports.luaopen_package=m_().luaopen_package;var p8="fengari";ke.exports.LUA_FENGARILIBNAME=p8;ke.exports.luaopen_fengari=T_().luaopen_fengari;var _8=jv();ke.exports.luaL_openlibs=_8.luaL_openlibs});var v_=w((F5,Xe)=>{var mt=vt();Xe.exports.FENGARI_AUTHORS=mt.FENGARI_AUTHORS;Xe.exports.FENGARI_COPYRIGHT=mt.FENGARI_COPYRIGHT;Xe.exports.FENGARI_RELEASE=mt.FENGARI_RELEASE;Xe.exports.FENGARI_VERSION=mt.FENGARI_VERSION;Xe.exports.FENGARI_VERSION_MAJOR=mt.FENGARI_VERSION_MAJOR;Xe.exports.FENGARI_VERSION_MINOR=mt.FENGARI_VERSION_MINOR;Xe.exports.FENGARI_VERSION_NUM=mt.FENGARI_VERSION_NUM;Xe.exports.FENGARI_VERSION_RELEASE=mt.FENGARI_VERSION_RELEASE;Xe.exports.luastring_eq=mt.luastring_eq;Xe.exports.luastring_indexOf=mt.luastring_indexOf;Xe.exports.luastring_of=mt.luastring_of;Xe.exports.to_jsstring=mt.to_jsstring;Xe.exports.to_luastring=mt.to_luastring;Xe.exports.to_uristring=mt.to_uristring;var h8=dt(),d8=pt(),g8=Nt(),A8=Zr();Xe.exports.luaconf=h8;Xe.exports.lua=d8;Xe.exports.lauxlib=g8;Xe.exports.lualib=A8});function Pi(e,t,n,r){if(Xn.lauxlib.luaL_dostring(e,x8.encode(t))){let o=Xn.lua.lua_tojsstring(e,Xn.lua.lua_gettop(e)),[l,i,a]=o.match(k8);n.push({from:{ch:0,line:r[0]+Number(i)-1},to:{ch:0,line:r[0]+Number(i)},severity:"error",message:a})}}function b8(e,t){let n=0;for(let r=0;r<e.length;r++)e.charCodeAt(r)==t&&n++;return n}function Xv(e,t,n,r,o){var a;function l(){if(r==null)return[0,0];let u=r.content,c=0,s=0,p=e.meta;for(let _=0;_<p;_++)u.charCodeAt(_)==10&&(c++,s=_);return[c+r.map[0]+o.extraLines,p-s]}function i(){var u,c;return o.pendingExtraLines+=b8((u=e.content)!=null?u:"",12),(c=e.content)==null?void 0:c.replace(/\\f/g,\`
\`)}switch(e.type){case"inline":for(let u of(a=e.children)!=null?a:[])Xv(u,t,n,e,o);break;case"code_block":Pi(n,i(),t,l());break;case"code_variable":case"code_expression":Pi(n,\`Show(\${i()})\`,t,l());break;case"content_open":Pi(n,\`AsChanger(\${i()})(function() end)\`,t,l());break}o.extraLines+=o.pendingExtraLines,o.pendingExtraLines=0}function m8(e){return e?e.filter(t=>t.tags.includes("startup")).concat(e.filter(t=>t.tags.includes("header"))).map(t=>{let n=[];return p0(t.text,n,{level:0,links:[]}),n.join(\`
\`)}).join(\`
\`):""}function zv(e,t){return n=>{let r=Xn.lauxlib.luaL_newstate();Xn.lualib.luaL_openlibs(r);for(let i of["Log","Push","Pop","Text","Object","Clear","Invalidate","print"])Xn.lua.lua_register(r,i,a=>0);let o=[];Pi(r,e,o,[0,0]),Pi(r,m8(t()),o,[0,0]);for(let i of o)i.from={ch:0,line:0},i.to={ch:1,line:0};let l={extraLines:0,pendingExtraLines:0};for(let i of f0(n))Xv(i,o,r,null,l);return o}}var Xn,x8,k8,Lv=Ce(()=>{h0();Xn=fo(v_()),x8=new TextEncoder,k8=/]:(\\d+): (.*)/});function Jv(){var n,r;let e=document.getElementsByClassName("passage-map")[0];if(e)try{return(n=e[Object.keys(e).find(l=>l.startsWith("__reactInternalInstance$"))].child.memoizedProps.passages)!=null?n:[]}catch(o){return[]}let t=document.getElementById("storyEditView");if(t)try{return(r=t.__vue__.story.passages)!=null?r:[]}catch(o){return[]}return[]}function Zv(){return document.getElementsByClassName("CodeMirror")[0].CodeMirror}function $v(){return document.getElementsByClassName("passage-map").length==0?"moontale":"moontale-0.2.0"}var Yv=Ce(()=>{});var Qv,Wv=Ce(()=>{Qv=".cm-tag{font-weight:700}.CodeMirror-lint-tooltip{z-index:500}.CodeMirror-linenumber{color:var(--gray)}.CodeMirror-linenumbers{background-color:var(--off-white)}.CodeMirror-gutters{border-color:var(--light-gray)}"});var tT,eT=Ce(()=>{tT='.CodeMirror-lint-markers{width:16px}.CodeMirror-lint-tooltip{background-color:#ffd;border:1px solid #000;border-radius:4px 4px 4px 4px;color:#000;font-family:monospace;font-size:10pt;max-width:600px;opacity:0;overflow:hidden;padding:2px 5px;position:fixed;transition:opacity .4s;-moz-transition:opacity .4s;-webkit-transition:opacity .4s;-o-transition:opacity .4s;-ms-transition:opacity .4s;white-space:pre;white-space:pre-wrap;z-index:100}.CodeMirror-lint-mark{background-position:0 100%;background-repeat:repeat-x}.CodeMirror-lint-mark-warning{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII=")}.CodeMirror-lint-mark-error{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==")}.CodeMirror-lint-marker{background-position:50%;background-repeat:no-repeat;cursor:pointer;display:inline-block;height:16px;position:relative;vertical-align:middle;width:16px}.CodeMirror-lint-message{background-position:0 0;background-repeat:no-repeat;padding-left:18px}.CodeMirror-lint-marker-warning,.CodeMirror-lint-message-warning{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII=")}.CodeMirror-lint-marker-error,.CodeMirror-lint-message-error{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII=")}.CodeMirror-lint-marker-multiple{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC");background-position:100% 100%;background-repeat:no-repeat;height:100%;width:100%}.CodeMirror-lint-line-error{background-color:rgba(183,76,81,.08)}.CodeMirror-lint-line-warning{background-color:rgba(255,211,0,.1)}'});var rT,nT=Ce(()=>{rT=\`--[[
    Moontale standard library
    https://moontale.hmilne.cc
]]

---@alias renderFn fun()
---@alias content renderFn|string|boolean|number|nil
---@alias changer fun(content:content):nil

---Saved output functions
---@type fun()
local _clear = Clear

---@type fun()
local _invalidate = Invalidate

---Array of event registrations
---@type fun(event:string)[]
local _events = {}

---Set of hovered-over elements
---@type table<string, boolean>
local _hovering = {}

---If true, call reload() whenever the hover state changes
local _reloadOnHover = false

---If true, an 'a' tag has been pushed, and we shouldn't push another one until 'pop' is called
local _linkPushed = false

---If true, we're rendering as a result of a jump() call rather than any subsequent reload()
local _firstRender = false

---If true, one of the branches in an If()/ElseIf() chain has been taken
local _ifTaken = false

---The current/last executed passage coroutine, so we can resume it with an Update
local _waiting = nil

---The set of LinkReplace targets that are now visible
local _visible = {}

---An auto-incrementing number used as a default identifier for LinkReplace targets
local _idSequence = 0

---Typewriter internal state
local _typedCharsThisFrame = 0
local _typedCharsTotal = 0

local _startup = {}
local _headers = {}
local _footers = {}

Visited = {}

local _saved = {}
Saved = _saved

local _hoisted = {_saved}

function Hoist(table)
    _hoisted[#_hoisted + 1] = table
end

setmetatable(_G, {
    __index = function (t, k)
        for i = 1, #_hoisted do
            local v = _hoisted[i][k]
            if v then
                return v
            end
        end
    end,
    __newindex = function(t, k, v)
        if _saved[k] ~= nil then
            if v == nil then
                _saved[k] = false
            else
                _saved[k] = v
            end
        else
            rawset(_G, k, v)
        end
    end
})

function Persist(...)
    for i=1,select('#', ...) do
        local var = select(i, ...)
        _saved[var] = rawget(_G, var)
        rawset(_G, var, nil)
    end
end

---Dummy render function to avoid dealing with 'nil' values
---@param content function
local function _empty(content)
end

---Used by If()
local function _ifTrue(content)
    _ifTaken = true
    Show(content)
end

---Used by If()
local function _ifFalse(content)
    _ifTaken = false
end

---The top-level passage currently being rendered
---@type string
PassageName = "(No passage)"

---The name of the global start passage
---@type string
StartPassage = "(No start passage)"

---@class Passage
---@field public content renderFn  The passage's content as a function
---@field public tags table<string, boolean>  The set of passage tags
---@field public position number[]  The passage's position in the editor as a pixel coordinate

---The table of all passages in the story, keyed by their name
---@type table<string, Passage>
Passages = setmetatable({}, {
    __index = function (t, k)
        error("Passage \\\`"..tostring(k).."\\\` does not exist")
    end
})

function CollectSpecialPassages()
    _startup = {}
    _headers = {}
    _footers = {}
    for k,v in next, Passages do
        if v.tags['startup'] then
            _startup[#_startup+1] = k
        end
        if v.tags['header'] then
            _headers[#_headers+1] = k
        end
        if v.tags['footer'] then
            _footers[#_footers+1] = k
        end
    end
end

---Override of the host function; clears out any internal state
function Clear()
    _clear()
    _events = {}
    _linkPushed = false
    _reloadOnHover = false
    _idSequence = 0
    _typedCharsThisFrame = 0
    _ifTaken = false
end

---Override of the host function; invalidates any event IDs
function Invalidate()
    _invalidate()
    _hovering = {}
    _waiting = nil
    _visible = {}
    _typedCharsTotal = 0
end

---Generates a Changer that registers a callback for its content
---@param fn fun(event:string):nil
---@return changer
function Event(fn)
    return function(content)
        if _linkPushed then
            local old = _events[#_events]
            _events[#_events] = function(...) old(...); fn(...) end
            Show(content)
        else
            _events[#_events + 1] = fn or _empty
            Push('a', tostring(#_events))
            _linkPushed = true
            Show(content)
            Pop()
            _linkPushed = false
        end
    end
end

---Applies the hovering changer when the cursor is over the content, and the normal one when it is not.
---@param hovering changer
---@param normal changer|nil
---@return changer
function Hover(hovering, normal)
    return function(content)
        _reloadOnHover = true
        local doPush = not _linkPushed
        local eid = #_events
        if doPush then
            eid = #_events + 1
            _events[eid] = _empty
            Push('a', tostring(eid))
        end
        if _hovering[eid] then
            (hovering or Show)(content)
        else
            (normal or Show)(content)
        end
        if doPush then
            Pop()
        end
    end
end

---Called when the named event occurs on the content with the given ID
---@param event string
---@param idx string
function RaiseEvent(event, idx)
    local idx = tonumber(idx)
    if idx == nil then return end
    if event == 'mouseover' then
        _hovering[idx] = true
        if _reloadOnHover then
            Reload()
        end
    elseif event == 'mouseout' then
        _hovering[idx] = nil
        if _reloadOnHover then
            Reload()
        end
    else
        local fn = _events[idx]
        if fn then fn(event) end
    end
end

local function _resume(routine, ...)
    local success, msg = coroutine.resume(routine, ...)
    if not success then
        error(msg)
    end
end

---Called regularly by the host as time passes
---@param deltaTime number  The time since Update was last called, in seconds
function Update(deltaTime)
    if _waiting then
        _resume(_waiting, deltaTime)
    end
end

---Pauses execution for the given time period
---@param duration number
function Delay(duration)
    _waiting = coroutine.running()
    repeat
        duration = duration - coroutine.yield()
    until duration <= 0
    _waiting = nil
end

---Causes all Text within the content to be emitted one character at a time, with a delay in between
---@type changer
function Typewriter(content)
    local _text = Text
    Text = function(str)
        local prefix = _typedCharsTotal - _typedCharsThisFrame
        if #str <= prefix then
            _text(str)
            _typedCharsThisFrame = _typedCharsThisFrame + #str
        else
            if prefix > 0 then
                _text(str:sub(1, prefix))
                _typedCharsThisFrame = _typedCharsThisFrame + prefix
            end
            local i = prefix + 1
            while i <= #str do
                -- Handle UTF-8 sequences
                local start = i
                while str:byte(i) >= 0x80 do
                    i = i + 1
                end
                _text(str:sub(start, i))
                Delay(0.01)
                i = i + 1
                local charsTyped = (i - start) + 1
                _typedCharsTotal = _typedCharsTotal + charsTyped
                _typedCharsThisFrame = _typedCharsThisFrame + charsTyped
            end
        end
    end
    Show(content)
    Text = _text
end

---Checks that its argument can be used as a changer
---@param fn changer
---@return changer
function AsChanger(fn)
    if type(fn) == 'function' or type(fn) == 'table' then
        return fn
    else
        Log('Error: '..tostring(fn)..' cannot be used as a changer')
        return Show
    end
end

---Displays its argument
---@param value content
function Show(value)
    if value == nil then return end
    local t = type(value)
    if t == 'string' or t == 'number' or t == 'boolean' then
        Text(tostring(value))
    elseif t == 'function' or t == 'table' then
        Show(value())
    else
        Log('Error: '..tostring(value)..' cannot be displayed')
    end
end

local function _displayWithSurrounds(target)
    for k,v in next, _headers do
        Display(v)
    end
    Display(target)
    for k,v in next, _footers do
        Display(v)
    end
end

---Clears the screen and renders the passage with the given name.
---@param target string
function Jump(target)
    Clear()
    Invalidate()
    Visited[PassageName] = (Visited[PassageName] or 0) + 1
    PassageName = target
    local routine = coroutine.create(function ()
        _firstRender = true
        _displayWithSurrounds(target)
        _firstRender = false
    end)
    _resume(routine)
end

---Causes the current passage to be re-rendered.
function Reload()
    Clear()
    local routine = coroutine.create(function ()
        _displayWithSurrounds(PassageName)
    end)
    _resume(routine)
end

---Renders the passage with the given name in-line with the text.
---@param passage string
function Display(passage)
    Show(Passages[passage].content)
end

---Jumps back to the start, without resetting any variables.
function SoftReset()
    CollectSpecialPassages()
    for k,v in next, _startup do
        Display(v)
    end
    Jump(StartPassage)
end

---Renders its content if the condition is truthy
---@param condition boolean
---@return changer
function If(condition)
    if condition then
        return _ifTrue
    else
        return _ifFalse
    end
end

---Ensures that the given function is executed when the passage is reached,
---and not on any subsequent reloads. If a Table is passed, it treats each
---key-value pair as an instruction to set a variable.
---@param content table|content
function Once(content)
    if _firstRender then
        if type(content) == 'table' then
            for k,v in next, content do
                _G[k] = v
            end
        else
            Show(content)
        end
    end
end

---Renders its content if neither the previous If or any of the ElseIf calls following it were entered
---@type changer
function Else(content)
    if not _ifTaken then
        _ifTaken = true
        Show(content)
    end
end

---Renders its content if condition is truthy and neither the previous If or any of the ElseIf calls following it were entered
---@param condition boolean
---@return changer
function ElseIf(condition)
    if condition then
        return Else
    else
        return _empty
    end
end

---Wraps the content in the named tag
---@type table<string, changer>
Style = setmetatable({}, {
    __index = function(t, k)
        return function(content)
            Push(k)
            Show(content)
            Pop()
        end
    end
})

---Sets the named text alignment for the content.
---@type table<string, changer>
Align = setmetatable({}, {
    __index = function(t, k)
        return function(content)
            Push('align', k)
            Show(content)
            Pop()
        end
    end
})

---A table of the named colours in CSS3
---@type table<string, string>
Colors = {
    aliceblue = "#f0f8ff",
    antiquewhite = "#faebd7",
    aqua = "#00ffff",
    aquamarine = "#7fffd4",
    azure = "#f0ffff",
    beige = "#f5f5dc",
    bisque = "#ffe4c4",
    black = "#000000",
    blanchedalmond = "#ffebcd",
    blue = "#0000ff",
    blueviolet = "#8a2be2",
    brown = "#a52a2a",
    burlywood = "#deb887",
    cadetblue = "#5f9ea0",
    chartreuse = "#7fff00",
    chocolate = "#d2691e",
    coral = "#ff7f50",
    cornflowerblue = "#6495ed",
    cornsilk = "#fff8dc",
    crimson = "#dc143c",
    cyan = "#00ffff",
    darkblue = "#00008b",
    darkcyan = "#008b8b",
    darkgoldenrod = "#b8860b",
    darkgray = "#a9a9a9",
    darkgrey = "#a9a9a9",
    darkgreen = "#006400",
    darkkhaki = "#bdb76b",
    darkmagenta = "#8b008b",
    darkolivegreen = "#556b2f",
    darkorange = "#ff8c00",
    darkorchid = "#9932cc",
    darkred = "#8b0000",
    darksalmon = "#e9967a",
    darkseagreen = "#8fbc8f",
    darkslateblue = "#483d8b",
    darkslategray = "#2f4f4f",
    darkslategrey = "#2f4f4f",
    darkturquoise = "#00ced1",
    darkviolet = "#9400d3",
    deeppink = "#ff1493",
    deepskyblue = "#00bfff",
    dimgray = "#696969",
    dimgrey = "#696969",
    dodgerblue = "#1e90ff",
    firebrick = "#b22222",
    floralwhite = "#fffaf0",
    forestgreen = "#228b22",
    fuchsia = "#ff00ff",
    gainsboro = "#dcdcdc",
    ghostwhite = "#f8f8ff",
    gold = "#ffd700",
    goldenrod = "#daa520",
    gray = "#808080",
    grey = "#808080",
    green = "#008000",
    greenyellow = "#adff2f",
    honeydew = "#f0fff0",
    hotpink = "#ff69b4",
    indianred = "#cd5c5c",
    indigo = "#4b0082",
    ivory = "#fffff0",
    khaki = "#f0e68c",
    lavender = "#e6e6fa",
    lavenderblush = "#fff0f5",
    lawngreen = "#7cfc00",
    lemonchiffon = "#fffacd",
    lightblue = "#add8e6",
    lightcoral = "#f08080",
    lightcyan = "#e0ffff",
    lightgoldenrodyellow = "#fafad2",
    lightgray = "#d3d3d3",
    lightgrey = "#d3d3d3",
    lightgreen = "#90ee90",
    lightpink = "#ffb6c1",
    lightsalmon = "#ffa07a",
    lightseagreen = "#20b2aa",
    lightskyblue = "#87cefa",
    lightslategray = "#778899",
    lightslategrey = "#778899",
    lightsteelblue = "#b0c4de",
    lightyellow = "#ffffe0",
    lime = "#00ff00",
    limegreen = "#32cd32",
    linen = "#faf0e6",
    magenta = "#ff00ff",
    maroon = "#800000",
    mediumaquamarine = "#66cdaa",
    mediumblue = "#0000cd",
    mediumorchid = "#ba55d3",
    mediumpurple = "#9370d8",
    mediumseagreen = "#3cb371",
    mediumslateblue = "#7b68ee",
    mediumspringgreen = "#00fa9a",
    mediumturquoise = "#48d1cc",
    mediumvioletred = "#c71585",
    midnightblue = "#191970",
    mintcream = "#f5fffa",
    mistyrose = "#ffe4e1",
    moccasin = "#ffe4b5",
    navajowhite = "#ffdead",
    navy = "#000080",
    oldlace = "#fdf5e6",
    olive = "#808000",
    olivedrab = "#6b8e23",
    orange = "#ffa500",
    orangered = "#ff4500",
    orchid = "#da70d6",
    palegoldenrod = "#eee8aa",
    palegreen = "#98fb98",
    paleturquoise = "#afeeee",
    palevioletred = "#d87093",
    papayawhip = "#ffefd5",
    peachpuff = "#ffdab9",
    peru = "#cd853f",
    pink = "#ffc0cb",
    plum = "#dda0dd",
    powderblue = "#b0e0e6",
    purple = "#800080",
    red = "#ff0000",
    rosybrown = "#bc8f8f",
    royalblue = "#4169e1",
    saddlebrown = "#8b4513",
    salmon = "#fa8072",
    sandybrown = "#f4a460",
    seagreen = "#2e8b57",
    seashell = "#fff5ee",
    sienna = "#a0522d",
    silver = "#c0c0c0",
    skyblue = "#87ceeb",
    slateblue = "#6a5acd",
    slategray = "#708090",
    slategrey = "#708090",
    snow = "#fffafa",
    springgreen = "#00ff7f",
    steelblue = "#4682b4",
    tan = "#d2b48c",
    teal = "#008080",
    thistle = "#d8bfd8",
    tomato = "#ff6347",
    turquoise = "#40e0d0",
    violet = "#ee82ee",
    wheat = "#f5deb3",
    white = "#ffffff",
    whitesmoke = "#f5f5f5",
    yellow = "#ffff00",
    yellowgreen = "#9acd32",
}

---Colours the text with the given colour name (not case sensitive).
---@type table<string, changer>
Color = setmetatable({}, {
    __index = function(t, k)
        local c = Colors[string.lower(k)] or k
        return function(content)
            Push('color', c)
            Show(content)
            Pop()
        end
    end
})

---Draws an image ('img' entity) with the given path
---@param src string
function Image(src)
    Object('img', src)
end

---Executes a function when the named event occurs
---@type table<string, fun(callback:function):changer>
On = setmetatable({}, {
    __index = function(t, k)
        return function(callback)
            return Event(function(e)
                if e == k then callback() end
            end)
        end
    end
})

---Renders the content multiple times in a row, with the number of the current iteration (1 indexed) assigned to index
---@param count number
---@return changer
function Repeat(count)
    return function(content)
        for i=1,count do
            _G.index = i
            Show(content)
        end
    end
end

---Renders the content for each item in iterable, mapping each entry to variables with the names given in the subsequent arguments.
---The default variable names are 'key' and 'value'
---@param iterable table
---@vararg string
---@return changer
function ForEach(iterable, ...)
    local vars = {...}
    if #vars == 0 then
        vars = {'key', 'value'}
    end
    return function(content)
        local frame = {next(iterable)}
        while frame[1] do
            for i=1,#vars do
                _G[vars[i]] = frame[i]
            end
            Show(content)
            frame = {next(iterable, frame[1])}
        end
    end
end

---Hides the block, and assigns it to a variable with the given name.
---@type table<string, changer>
Name = setmetatable({}, {
    __index = function(t, k)
        return function(content)
            _G[k] = content
        end
    end
})

---Creates a Changer that combines each of its Changer arguments in order of outer-most to inner-most.
---@vararg changer
---@return changer
function Combine(...)
    local agg = select(-1, ...)
    for i=2,select('#', ...) do
        local outer = select(-i, ...)
        local inner = agg
        agg = function(c) outer(function() inner(c) end) end
    end
    return agg
end

LinkStyle = Hover(Color.red, Color.darkred)

---Jumps to a passage when the content is clicked
---@param target string
---@return changer
function Link(target)
    return Combine(On.click(function() Jump(target) end), LinkStyle)
end

---Shows the first argument until it's clicked, then shows the content body
---@param text content
---@param id any  A unique ID for this link; the default is an auto-incremented number
function LinkReplace(text, id)
    if id == nil then
        _idSequence = _idSequence + 1
        id = _idSequence
    end
    return function(content)
        if _visible[id] then
            Show(content)
        else
            Combine(On.click(function()
                if not _visible[id] then
                    _visible[id] = true
                    Reload()
                end
            end), LinkStyle)(text)
        end
    end
end

Persist('Visited', 'PassageName')
\`});function oT(e,t){let n=document.querySelector(\`style#\${e}\`);n||(n=document.createElement("style"),n.setAttribute("id",e),document.head.appendChild(n)),n.innerHTML=t}function lT(){oT("cm-lint",tT),oT("cm-moontale",Qv);let e=Zv();if(e!=null){window.CodeMirror.registerHelper("lint",$v(),zv(rT,Jv)),e.setOption("lint",!0),e.setOption("lineNumbers",!0),e.setOption("indentWithTabs",!0),e.setOption("indentUnit",4);for(let t of e._handlers.change)t(e)}}var iT=Ce(()=>{M_();Lv();Yv();Wv();eT();nT()});var aT={};O_(aT,{default:()=>O8});function O8(e){let t=window.CodeMirror.simpleMode(e,{start:[{regex:/\\{\\$/,token:"tag",mode:{spec:"lua",end:/\\$\\}/}},{regex:/\\<\\$/,token:"tag",mode:{spec:"lua",end:/\\$\\>/}},{regex:/\\$[A-Za-z_]\\w*/,token:"variable-2",push:"expression"},{regex:/(\\[\\[)(.*?)(<\\-)/,token:["bracket","link","special","bracket"]},{regex:/(\\[\\[)((?:(?!->).)*?)(\\]\\])/,token:["bracket","link","bracket"]},{regex:/\\[\\[/,token:"bracket"},{regex:/(->)(.*?)(]])/,token:["special","link","bracket"]},{regex:/(->)/,token:"special"},{regex:/]]/,token:"bracket"},{regex:/\\[|]/,token:"tag"},{regex:/-|\\{|<|\\[|]|\\$/},{regex:/(?!\\$)/,mode:{spec:"markdown",end:/(?=-|\\{|<|\\[|]|\\$)/,persistent:!0}}],expression:[{sol:!0,pop:!0},{regex:/<</,token:"bracket",mode:{spec:"lua",end:/>>/}},{regex:/(\\.)(\\w+)/,token:["punctuation","variable"],next:"expression"},{regex:/\\(/,token:"bracket",mode:{spec:"lua",end:/\\)/}},{regex:/\\{/,token:"bracket",mode:{spec:"lua",end:/\\}/}},{regex:"",pop:!0}]});return lT(),t}var uT=Ce(()=>{R_();U_();C_();N_();D_();I_();iT()});var w8={};O_(w8,{twine:()=>S8});var S8={["^2.4.0"]:{codeMirror:{mode:(...e)=>(uT(),w_(aT)).default(...e)}}};return w_(w8);})();
/**
@license MIT

Copyright \xA9 2017-2018 Benoit Giannangeli
Copyright \xA9 2017-2018 Daurnimator
Copyright \xA9 1994\u20132017 Lua.org, PUC-Rio.
*/
//# sourceMappingURL=https://hamish-milne.github.io/moontale/hydrate.js.map
`,source:`<!DOCTYPE html><html><head><meta charset="utf-8"><title>{{STORY_NAME}}</title><style>*{transition:all .2s ease}#wrapper{margin:0 auto;max-width:600px;padding:50px 20px;position:relative}#lua,#outputContainer{position:absolute}pre{white-space:pre-wrap}#lua,#output{opacity:0}#lua,#storyData{display:none}#outputToggle{align-items:center;bottom:20px;display:flex;margin:10px;position:fixed}.toggleIcon{height:1.5em;margin:10px;vertical-align:-.225em}html{background:beige}#download{bottom:20px;margin:10px;position:fixed;right:20px}#download>svg{height:3em;transition:none}#download>svg:hover{fill:#6a5acd}li::marker{font-size:x-large}p{font-family:Garamond;font-size:x-large}a{color:auto;text-decoration:none}.switch{display:inline-block;height:34px;position:relative;width:60px}.switch input{height:0;opacity:0;width:0}.slider{background-color:#ccc;bottom:0;cursor:pointer;left:0;right:0;top:0}.slider,.slider:before{position:absolute;-webkit-transition:.4s;transition:.4s}.slider:before{background-color:#fff;bottom:4px;content:"";height:26px;left:4px;width:26px}input:checked+.slider{background-color:#2196f3}input:focus+.slider{box-shadow:0 0 1px #2196f3}input:checked+.slider:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px)}.slider.round{border-radius:34px}.slider.round:before{border-radius:50%}</style></head><body><div id="wrapper"><div id="outputContainer"><div id="output"></div></div><pre id="lua"></pre></div><span id="outputToggle"> <svg class="toggleIcon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 576 512"><path d="M144.3 32.04C106.9 31.29 63.7 41.44 18.6 61.29c-11.42 5.026-18.6 16.67-18.6 29.15l0 357.6c0 11.55 11.99 19.55 22.45 14.65c126.3-59.14 219.8 11 223.8 14.01C249.1 478.9 252.5 480 256 480c12.4 0 16-11.38 16-15.98V80.04c0-5.203-2.531-10.08-6.781-13.08C263.3 65.58 216.7 33.35 144.3 32.04zM557.4 61.29c-45.11-19.79-88.48-29.61-125.7-29.26c-72.44 1.312-118.1 33.55-120.9 34.92C306.5 69.96 304 74.83 304 80.04v383.1C304 468.4 307.5 480 320 480c3.484 0 6.938-1.125 9.781-3.328c3.925-3.018 97.44-73.16 223.8-14c10.46 4.896 22.45-3.105 22.45-14.65l.0001-357.6C575.1 77.97 568.8 66.31 557.4 61.29z"></path></svg> <label class="switch"><input id="outputToggleInput" type="checkbox"> <span class="round slider"></span></label> <svg class="toggleIcon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 640 512"><path d="M414.8 40.79L286.8 488.8C281.9 505.8 264.2 515.6 247.2 510.8C230.2 505.9 220.4 488.2 225.2 471.2L353.2 23.21C358.1 6.216 375.8-3.624 392.8 1.232C409.8 6.087 419.6 23.8 414.8 40.79H414.8zM518.6 121.4L630.6 233.4C643.1 245.9 643.1 266.1 630.6 278.6L518.6 390.6C506.1 403.1 485.9 403.1 473.4 390.6C460.9 378.1 460.9 357.9 473.4 345.4L562.7 256L473.4 166.6C460.9 154.1 460.9 133.9 473.4 121.4C485.9 108.9 506.1 108.9 518.6 121.4V121.4zM166.6 166.6L77.25 256L166.6 345.4C179.1 357.9 179.1 378.1 166.6 390.6C154.1 403.1 133.9 403.1 121.4 390.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4L121.4 121.4C133.9 108.9 154.1 108.9 166.6 121.4C179.1 133.9 179.1 154.1 166.6 166.6V166.6z"></path></svg> </span> <a id="download" href="#"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512"><path d="M384 128h-128V0L384 128zM256 160H384v304c0 26.51-21.49 48-48 48h-288C21.49 512 0 490.5 0 464v-416C0 21.49 21.49 0 48 0H224l.0039 128C224 145.7 238.3 160 256 160zM255 295L216 334.1V232c0-13.25-10.75-24-24-24S168 218.8 168 232v102.1L128.1 295C124.3 290.3 118.2 288 112 288S99.72 290.3 95.03 295c-9.375 9.375-9.375 24.56 0 33.94l80 80c9.375 9.375 24.56 9.375 33.94 0l80-80c9.375-9.375 9.375-24.56 0-33.94S264.4 285.7 255 295z"></path></svg> </a><div id="storyData">{{STORY_DATA}}</div><script defer>"use strict";
(()=>{var wT=Object.create;var g_=Object.defineProperty;var RT=Object.getOwnPropertyDescriptor;var UT=Object.getOwnPropertyNames;var yT=Object.getPrototypeOf,NT=Object.prototype.hasOwnProperty;var A=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var CT=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of UT(t))!NT.call(e,l)&&l!==n&&g_(e,l,{get:()=>t[l],enumerable:!(r=RT(t,l))||r.enumerable});return e};var $r=(e,t,n)=>(n=e!=null?wT(yT(e)):{},CT(t||!e||!e.__esModule?g_(n,"default",{value:e,enumerable:!0}):n,e));var Wl=A((z3,E_)=>{function Yr(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Yr.prototype.attrIndex=function(t){var n,r,l;if(!this.attrs)return-1;for(n=this.attrs,r=0,l=n.length;r<l;r++)if(n[r][0]===t)return r;return-1};Yr.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Yr.prototype.attrSet=function(t,n){var r=this.attrIndex(t),l=[t,n];r<0?this.attrPush(l):this.attrs[r]=l};Yr.prototype.attrGet=function(t){var n=this.attrIndex(t),r=null;return n>=0&&(r=this.attrs[n][1]),r};Yr.prototype.attrJoin=function(t,n){var r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};E_.exports=Yr});var Oa=A((J3,O_)=>{function Nt(){this.__rules__=[],this.__cache__=null}Nt.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Nt.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(n){!n.enabled||n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){!r.enabled||n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn)})})};Nt.prototype.at=function(e,t,n){var r=this.__find__(e),l=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=l.alt||[],this.__cache__=null};Nt.prototype.before=function(e,t,n,r){var l=this.__find__(e),o=r||{};if(l===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(l,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null};Nt.prototype.after=function(e,t,n,r){var l=this.__find__(e),o=r||{};if(l===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(l+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null};Nt.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};Nt.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var l=this.__find__(r);if(l<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[l].enabled=!0,n.push(r)},this),this.__cache__=null,n};Nt.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};Nt.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var l=this.__find__(r);if(l<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[l].enabled=!1,n.push(r)},this),this.__cache__=null,n};Nt.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};O_.exports=Nt});var w_=A((Z3,S_)=>{function MT(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}S_.exports=function(t,n){for(var r=t.pos;r<t.posMax&&!MT(t.src.charCodeAt(r));)r++;return r===t.pos?!1:(n||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)}});var U_=A(($3,R_)=>{var PT=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;R_.exports=function(t,n){var r,l,o,a,s,u,i,c;return!t.md.options.linkify||t.linkLevel>0||(r=t.pos,l=t.posMax,r+3>l)||t.src.charCodeAt(r)!==58||t.src.charCodeAt(r+1)!==47||t.src.charCodeAt(r+2)!==47||(o=t.pending.match(PT),!o)||(a=o[1],s=t.md.linkify.matchAtStart(t.src.slice(r-a.length)),!s)||(u=s.url,u=u.replace(/\\*+$/,""),i=t.md.normalizeLink(u),!t.md.validateLink(i))?!1:(n||(t.pending=t.pending.slice(0,-a.length),c=t.push("link_open","a",1),c.attrs=[["href",i]],c.markup="linkify",c.info="auto",c=t.push("text","",0),c.content=t.md.normalizeLinkText(u),c=t.push("link_close","a",-1),c.markup="linkify",c.info="auto"),t.pos+=u.length-a.length,!0)}});var y_=A((Y3,FT)=>{FT.exports={Aacute:"\\xC1",aacute:"\\xE1",Abreve:"\\u0102",abreve:"\\u0103",ac:"\\u223E",acd:"\\u223F",acE:"\\u223E\\u0333",Acirc:"\\xC2",acirc:"\\xE2",acute:"\\xB4",Acy:"\\u0410",acy:"\\u0430",AElig:"\\xC6",aelig:"\\xE6",af:"\\u2061",Afr:"\\u{1D504}",afr:"\\u{1D51E}",Agrave:"\\xC0",agrave:"\\xE0",alefsym:"\\u2135",aleph:"\\u2135",Alpha:"\\u0391",alpha:"\\u03B1",Amacr:"\\u0100",amacr:"\\u0101",amalg:"\\u2A3F",amp:"&",AMP:"&",andand:"\\u2A55",And:"\\u2A53",and:"\\u2227",andd:"\\u2A5C",andslope:"\\u2A58",andv:"\\u2A5A",ang:"\\u2220",ange:"\\u29A4",angle:"\\u2220",angmsdaa:"\\u29A8",angmsdab:"\\u29A9",angmsdac:"\\u29AA",angmsdad:"\\u29AB",angmsdae:"\\u29AC",angmsdaf:"\\u29AD",angmsdag:"\\u29AE",angmsdah:"\\u29AF",angmsd:"\\u2221",angrt:"\\u221F",angrtvb:"\\u22BE",angrtvbd:"\\u299D",angsph:"\\u2222",angst:"\\xC5",angzarr:"\\u237C",Aogon:"\\u0104",aogon:"\\u0105",Aopf:"\\u{1D538}",aopf:"\\u{1D552}",apacir:"\\u2A6F",ap:"\\u2248",apE:"\\u2A70",ape:"\\u224A",apid:"\\u224B",apos:"'",ApplyFunction:"\\u2061",approx:"\\u2248",approxeq:"\\u224A",Aring:"\\xC5",aring:"\\xE5",Ascr:"\\u{1D49C}",ascr:"\\u{1D4B6}",Assign:"\\u2254",ast:"*",asymp:"\\u2248",asympeq:"\\u224D",Atilde:"\\xC3",atilde:"\\xE3",Auml:"\\xC4",auml:"\\xE4",awconint:"\\u2233",awint:"\\u2A11",backcong:"\\u224C",backepsilon:"\\u03F6",backprime:"\\u2035",backsim:"\\u223D",backsimeq:"\\u22CD",Backslash:"\\u2216",Barv:"\\u2AE7",barvee:"\\u22BD",barwed:"\\u2305",Barwed:"\\u2306",barwedge:"\\u2305",bbrk:"\\u23B5",bbrktbrk:"\\u23B6",bcong:"\\u224C",Bcy:"\\u0411",bcy:"\\u0431",bdquo:"\\u201E",becaus:"\\u2235",because:"\\u2235",Because:"\\u2235",bemptyv:"\\u29B0",bepsi:"\\u03F6",bernou:"\\u212C",Bernoullis:"\\u212C",Beta:"\\u0392",beta:"\\u03B2",beth:"\\u2136",between:"\\u226C",Bfr:"\\u{1D505}",bfr:"\\u{1D51F}",bigcap:"\\u22C2",bigcirc:"\\u25EF",bigcup:"\\u22C3",bigodot:"\\u2A00",bigoplus:"\\u2A01",bigotimes:"\\u2A02",bigsqcup:"\\u2A06",bigstar:"\\u2605",bigtriangledown:"\\u25BD",bigtriangleup:"\\u25B3",biguplus:"\\u2A04",bigvee:"\\u22C1",bigwedge:"\\u22C0",bkarow:"\\u290D",blacklozenge:"\\u29EB",blacksquare:"\\u25AA",blacktriangle:"\\u25B4",blacktriangledown:"\\u25BE",blacktriangleleft:"\\u25C2",blacktriangleright:"\\u25B8",blank:"\\u2423",blk12:"\\u2592",blk14:"\\u2591",blk34:"\\u2593",block:"\\u2588",bne:"=\\u20E5",bnequiv:"\\u2261\\u20E5",bNot:"\\u2AED",bnot:"\\u2310",Bopf:"\\u{1D539}",bopf:"\\u{1D553}",bot:"\\u22A5",bottom:"\\u22A5",bowtie:"\\u22C8",boxbox:"\\u29C9",boxdl:"\\u2510",boxdL:"\\u2555",boxDl:"\\u2556",boxDL:"\\u2557",boxdr:"\\u250C",boxdR:"\\u2552",boxDr:"\\u2553",boxDR:"\\u2554",boxh:"\\u2500",boxH:"\\u2550",boxhd:"\\u252C",boxHd:"\\u2564",boxhD:"\\u2565",boxHD:"\\u2566",boxhu:"\\u2534",boxHu:"\\u2567",boxhU:"\\u2568",boxHU:"\\u2569",boxminus:"\\u229F",boxplus:"\\u229E",boxtimes:"\\u22A0",boxul:"\\u2518",boxuL:"\\u255B",boxUl:"\\u255C",boxUL:"\\u255D",boxur:"\\u2514",boxuR:"\\u2558",boxUr:"\\u2559",boxUR:"\\u255A",boxv:"\\u2502",boxV:"\\u2551",boxvh:"\\u253C",boxvH:"\\u256A",boxVh:"\\u256B",boxVH:"\\u256C",boxvl:"\\u2524",boxvL:"\\u2561",boxVl:"\\u2562",boxVL:"\\u2563",boxvr:"\\u251C",boxvR:"\\u255E",boxVr:"\\u255F",boxVR:"\\u2560",bprime:"\\u2035",breve:"\\u02D8",Breve:"\\u02D8",brvbar:"\\xA6",bscr:"\\u{1D4B7}",Bscr:"\\u212C",bsemi:"\\u204F",bsim:"\\u223D",bsime:"\\u22CD",bsolb:"\\u29C5",bsol:"\\\\",bsolhsub:"\\u27C8",bull:"\\u2022",bullet:"\\u2022",bump:"\\u224E",bumpE:"\\u2AAE",bumpe:"\\u224F",Bumpeq:"\\u224E",bumpeq:"\\u224F",Cacute:"\\u0106",cacute:"\\u0107",capand:"\\u2A44",capbrcup:"\\u2A49",capcap:"\\u2A4B",cap:"\\u2229",Cap:"\\u22D2",capcup:"\\u2A47",capdot:"\\u2A40",CapitalDifferentialD:"\\u2145",caps:"\\u2229\\uFE00",caret:"\\u2041",caron:"\\u02C7",Cayleys:"\\u212D",ccaps:"\\u2A4D",Ccaron:"\\u010C",ccaron:"\\u010D",Ccedil:"\\xC7",ccedil:"\\xE7",Ccirc:"\\u0108",ccirc:"\\u0109",Cconint:"\\u2230",ccups:"\\u2A4C",ccupssm:"\\u2A50",Cdot:"\\u010A",cdot:"\\u010B",cedil:"\\xB8",Cedilla:"\\xB8",cemptyv:"\\u29B2",cent:"\\xA2",centerdot:"\\xB7",CenterDot:"\\xB7",cfr:"\\u{1D520}",Cfr:"\\u212D",CHcy:"\\u0427",chcy:"\\u0447",check:"\\u2713",checkmark:"\\u2713",Chi:"\\u03A7",chi:"\\u03C7",circ:"\\u02C6",circeq:"\\u2257",circlearrowleft:"\\u21BA",circlearrowright:"\\u21BB",circledast:"\\u229B",circledcirc:"\\u229A",circleddash:"\\u229D",CircleDot:"\\u2299",circledR:"\\xAE",circledS:"\\u24C8",CircleMinus:"\\u2296",CirclePlus:"\\u2295",CircleTimes:"\\u2297",cir:"\\u25CB",cirE:"\\u29C3",cire:"\\u2257",cirfnint:"\\u2A10",cirmid:"\\u2AEF",cirscir:"\\u29C2",ClockwiseContourIntegral:"\\u2232",CloseCurlyDoubleQuote:"\\u201D",CloseCurlyQuote:"\\u2019",clubs:"\\u2663",clubsuit:"\\u2663",colon:":",Colon:"\\u2237",Colone:"\\u2A74",colone:"\\u2254",coloneq:"\\u2254",comma:",",commat:"@",comp:"\\u2201",compfn:"\\u2218",complement:"\\u2201",complexes:"\\u2102",cong:"\\u2245",congdot:"\\u2A6D",Congruent:"\\u2261",conint:"\\u222E",Conint:"\\u222F",ContourIntegral:"\\u222E",copf:"\\u{1D554}",Copf:"\\u2102",coprod:"\\u2210",Coproduct:"\\u2210",copy:"\\xA9",COPY:"\\xA9",copysr:"\\u2117",CounterClockwiseContourIntegral:"\\u2233",crarr:"\\u21B5",cross:"\\u2717",Cross:"\\u2A2F",Cscr:"\\u{1D49E}",cscr:"\\u{1D4B8}",csub:"\\u2ACF",csube:"\\u2AD1",csup:"\\u2AD0",csupe:"\\u2AD2",ctdot:"\\u22EF",cudarrl:"\\u2938",cudarrr:"\\u2935",cuepr:"\\u22DE",cuesc:"\\u22DF",cularr:"\\u21B6",cularrp:"\\u293D",cupbrcap:"\\u2A48",cupcap:"\\u2A46",CupCap:"\\u224D",cup:"\\u222A",Cup:"\\u22D3",cupcup:"\\u2A4A",cupdot:"\\u228D",cupor:"\\u2A45",cups:"\\u222A\\uFE00",curarr:"\\u21B7",curarrm:"\\u293C",curlyeqprec:"\\u22DE",curlyeqsucc:"\\u22DF",curlyvee:"\\u22CE",curlywedge:"\\u22CF",curren:"\\xA4",curvearrowleft:"\\u21B6",curvearrowright:"\\u21B7",cuvee:"\\u22CE",cuwed:"\\u22CF",cwconint:"\\u2232",cwint:"\\u2231",cylcty:"\\u232D",dagger:"\\u2020",Dagger:"\\u2021",daleth:"\\u2138",darr:"\\u2193",Darr:"\\u21A1",dArr:"\\u21D3",dash:"\\u2010",Dashv:"\\u2AE4",dashv:"\\u22A3",dbkarow:"\\u290F",dblac:"\\u02DD",Dcaron:"\\u010E",dcaron:"\\u010F",Dcy:"\\u0414",dcy:"\\u0434",ddagger:"\\u2021",ddarr:"\\u21CA",DD:"\\u2145",dd:"\\u2146",DDotrahd:"\\u2911",ddotseq:"\\u2A77",deg:"\\xB0",Del:"\\u2207",Delta:"\\u0394",delta:"\\u03B4",demptyv:"\\u29B1",dfisht:"\\u297F",Dfr:"\\u{1D507}",dfr:"\\u{1D521}",dHar:"\\u2965",dharl:"\\u21C3",dharr:"\\u21C2",DiacriticalAcute:"\\xB4",DiacriticalDot:"\\u02D9",DiacriticalDoubleAcute:"\\u02DD",DiacriticalGrave:"\`",DiacriticalTilde:"\\u02DC",diam:"\\u22C4",diamond:"\\u22C4",Diamond:"\\u22C4",diamondsuit:"\\u2666",diams:"\\u2666",die:"\\xA8",DifferentialD:"\\u2146",digamma:"\\u03DD",disin:"\\u22F2",div:"\\xF7",divide:"\\xF7",divideontimes:"\\u22C7",divonx:"\\u22C7",DJcy:"\\u0402",djcy:"\\u0452",dlcorn:"\\u231E",dlcrop:"\\u230D",dollar:"$",Dopf:"\\u{1D53B}",dopf:"\\u{1D555}",Dot:"\\xA8",dot:"\\u02D9",DotDot:"\\u20DC",doteq:"\\u2250",doteqdot:"\\u2251",DotEqual:"\\u2250",dotminus:"\\u2238",dotplus:"\\u2214",dotsquare:"\\u22A1",doublebarwedge:"\\u2306",DoubleContourIntegral:"\\u222F",DoubleDot:"\\xA8",DoubleDownArrow:"\\u21D3",DoubleLeftArrow:"\\u21D0",DoubleLeftRightArrow:"\\u21D4",DoubleLeftTee:"\\u2AE4",DoubleLongLeftArrow:"\\u27F8",DoubleLongLeftRightArrow:"\\u27FA",DoubleLongRightArrow:"\\u27F9",DoubleRightArrow:"\\u21D2",DoubleRightTee:"\\u22A8",DoubleUpArrow:"\\u21D1",DoubleUpDownArrow:"\\u21D5",DoubleVerticalBar:"\\u2225",DownArrowBar:"\\u2913",downarrow:"\\u2193",DownArrow:"\\u2193",Downarrow:"\\u21D3",DownArrowUpArrow:"\\u21F5",DownBreve:"\\u0311",downdownarrows:"\\u21CA",downharpoonleft:"\\u21C3",downharpoonright:"\\u21C2",DownLeftRightVector:"\\u2950",DownLeftTeeVector:"\\u295E",DownLeftVectorBar:"\\u2956",DownLeftVector:"\\u21BD",DownRightTeeVector:"\\u295F",DownRightVectorBar:"\\u2957",DownRightVector:"\\u21C1",DownTeeArrow:"\\u21A7",DownTee:"\\u22A4",drbkarow:"\\u2910",drcorn:"\\u231F",drcrop:"\\u230C",Dscr:"\\u{1D49F}",dscr:"\\u{1D4B9}",DScy:"\\u0405",dscy:"\\u0455",dsol:"\\u29F6",Dstrok:"\\u0110",dstrok:"\\u0111",dtdot:"\\u22F1",dtri:"\\u25BF",dtrif:"\\u25BE",duarr:"\\u21F5",duhar:"\\u296F",dwangle:"\\u29A6",DZcy:"\\u040F",dzcy:"\\u045F",dzigrarr:"\\u27FF",Eacute:"\\xC9",eacute:"\\xE9",easter:"\\u2A6E",Ecaron:"\\u011A",ecaron:"\\u011B",Ecirc:"\\xCA",ecirc:"\\xEA",ecir:"\\u2256",ecolon:"\\u2255",Ecy:"\\u042D",ecy:"\\u044D",eDDot:"\\u2A77",Edot:"\\u0116",edot:"\\u0117",eDot:"\\u2251",ee:"\\u2147",efDot:"\\u2252",Efr:"\\u{1D508}",efr:"\\u{1D522}",eg:"\\u2A9A",Egrave:"\\xC8",egrave:"\\xE8",egs:"\\u2A96",egsdot:"\\u2A98",el:"\\u2A99",Element:"\\u2208",elinters:"\\u23E7",ell:"\\u2113",els:"\\u2A95",elsdot:"\\u2A97",Emacr:"\\u0112",emacr:"\\u0113",empty:"\\u2205",emptyset:"\\u2205",EmptySmallSquare:"\\u25FB",emptyv:"\\u2205",EmptyVerySmallSquare:"\\u25AB",emsp13:"\\u2004",emsp14:"\\u2005",emsp:"\\u2003",ENG:"\\u014A",eng:"\\u014B",ensp:"\\u2002",Eogon:"\\u0118",eogon:"\\u0119",Eopf:"\\u{1D53C}",eopf:"\\u{1D556}",epar:"\\u22D5",eparsl:"\\u29E3",eplus:"\\u2A71",epsi:"\\u03B5",Epsilon:"\\u0395",epsilon:"\\u03B5",epsiv:"\\u03F5",eqcirc:"\\u2256",eqcolon:"\\u2255",eqsim:"\\u2242",eqslantgtr:"\\u2A96",eqslantless:"\\u2A95",Equal:"\\u2A75",equals:"=",EqualTilde:"\\u2242",equest:"\\u225F",Equilibrium:"\\u21CC",equiv:"\\u2261",equivDD:"\\u2A78",eqvparsl:"\\u29E5",erarr:"\\u2971",erDot:"\\u2253",escr:"\\u212F",Escr:"\\u2130",esdot:"\\u2250",Esim:"\\u2A73",esim:"\\u2242",Eta:"\\u0397",eta:"\\u03B7",ETH:"\\xD0",eth:"\\xF0",Euml:"\\xCB",euml:"\\xEB",euro:"\\u20AC",excl:"!",exist:"\\u2203",Exists:"\\u2203",expectation:"\\u2130",exponentiale:"\\u2147",ExponentialE:"\\u2147",fallingdotseq:"\\u2252",Fcy:"\\u0424",fcy:"\\u0444",female:"\\u2640",ffilig:"\\uFB03",fflig:"\\uFB00",ffllig:"\\uFB04",Ffr:"\\u{1D509}",ffr:"\\u{1D523}",filig:"\\uFB01",FilledSmallSquare:"\\u25FC",FilledVerySmallSquare:"\\u25AA",fjlig:"fj",flat:"\\u266D",fllig:"\\uFB02",fltns:"\\u25B1",fnof:"\\u0192",Fopf:"\\u{1D53D}",fopf:"\\u{1D557}",forall:"\\u2200",ForAll:"\\u2200",fork:"\\u22D4",forkv:"\\u2AD9",Fouriertrf:"\\u2131",fpartint:"\\u2A0D",frac12:"\\xBD",frac13:"\\u2153",frac14:"\\xBC",frac15:"\\u2155",frac16:"\\u2159",frac18:"\\u215B",frac23:"\\u2154",frac25:"\\u2156",frac34:"\\xBE",frac35:"\\u2157",frac38:"\\u215C",frac45:"\\u2158",frac56:"\\u215A",frac58:"\\u215D",frac78:"\\u215E",frasl:"\\u2044",frown:"\\u2322",fscr:"\\u{1D4BB}",Fscr:"\\u2131",gacute:"\\u01F5",Gamma:"\\u0393",gamma:"\\u03B3",Gammad:"\\u03DC",gammad:"\\u03DD",gap:"\\u2A86",Gbreve:"\\u011E",gbreve:"\\u011F",Gcedil:"\\u0122",Gcirc:"\\u011C",gcirc:"\\u011D",Gcy:"\\u0413",gcy:"\\u0433",Gdot:"\\u0120",gdot:"\\u0121",ge:"\\u2265",gE:"\\u2267",gEl:"\\u2A8C",gel:"\\u22DB",geq:"\\u2265",geqq:"\\u2267",geqslant:"\\u2A7E",gescc:"\\u2AA9",ges:"\\u2A7E",gesdot:"\\u2A80",gesdoto:"\\u2A82",gesdotol:"\\u2A84",gesl:"\\u22DB\\uFE00",gesles:"\\u2A94",Gfr:"\\u{1D50A}",gfr:"\\u{1D524}",gg:"\\u226B",Gg:"\\u22D9",ggg:"\\u22D9",gimel:"\\u2137",GJcy:"\\u0403",gjcy:"\\u0453",gla:"\\u2AA5",gl:"\\u2277",glE:"\\u2A92",glj:"\\u2AA4",gnap:"\\u2A8A",gnapprox:"\\u2A8A",gne:"\\u2A88",gnE:"\\u2269",gneq:"\\u2A88",gneqq:"\\u2269",gnsim:"\\u22E7",Gopf:"\\u{1D53E}",gopf:"\\u{1D558}",grave:"\`",GreaterEqual:"\\u2265",GreaterEqualLess:"\\u22DB",GreaterFullEqual:"\\u2267",GreaterGreater:"\\u2AA2",GreaterLess:"\\u2277",GreaterSlantEqual:"\\u2A7E",GreaterTilde:"\\u2273",Gscr:"\\u{1D4A2}",gscr:"\\u210A",gsim:"\\u2273",gsime:"\\u2A8E",gsiml:"\\u2A90",gtcc:"\\u2AA7",gtcir:"\\u2A7A",gt:">",GT:">",Gt:"\\u226B",gtdot:"\\u22D7",gtlPar:"\\u2995",gtquest:"\\u2A7C",gtrapprox:"\\u2A86",gtrarr:"\\u2978",gtrdot:"\\u22D7",gtreqless:"\\u22DB",gtreqqless:"\\u2A8C",gtrless:"\\u2277",gtrsim:"\\u2273",gvertneqq:"\\u2269\\uFE00",gvnE:"\\u2269\\uFE00",Hacek:"\\u02C7",hairsp:"\\u200A",half:"\\xBD",hamilt:"\\u210B",HARDcy:"\\u042A",hardcy:"\\u044A",harrcir:"\\u2948",harr:"\\u2194",hArr:"\\u21D4",harrw:"\\u21AD",Hat:"^",hbar:"\\u210F",Hcirc:"\\u0124",hcirc:"\\u0125",hearts:"\\u2665",heartsuit:"\\u2665",hellip:"\\u2026",hercon:"\\u22B9",hfr:"\\u{1D525}",Hfr:"\\u210C",HilbertSpace:"\\u210B",hksearow:"\\u2925",hkswarow:"\\u2926",hoarr:"\\u21FF",homtht:"\\u223B",hookleftarrow:"\\u21A9",hookrightarrow:"\\u21AA",hopf:"\\u{1D559}",Hopf:"\\u210D",horbar:"\\u2015",HorizontalLine:"\\u2500",hscr:"\\u{1D4BD}",Hscr:"\\u210B",hslash:"\\u210F",Hstrok:"\\u0126",hstrok:"\\u0127",HumpDownHump:"\\u224E",HumpEqual:"\\u224F",hybull:"\\u2043",hyphen:"\\u2010",Iacute:"\\xCD",iacute:"\\xED",ic:"\\u2063",Icirc:"\\xCE",icirc:"\\xEE",Icy:"\\u0418",icy:"\\u0438",Idot:"\\u0130",IEcy:"\\u0415",iecy:"\\u0435",iexcl:"\\xA1",iff:"\\u21D4",ifr:"\\u{1D526}",Ifr:"\\u2111",Igrave:"\\xCC",igrave:"\\xEC",ii:"\\u2148",iiiint:"\\u2A0C",iiint:"\\u222D",iinfin:"\\u29DC",iiota:"\\u2129",IJlig:"\\u0132",ijlig:"\\u0133",Imacr:"\\u012A",imacr:"\\u012B",image:"\\u2111",ImaginaryI:"\\u2148",imagline:"\\u2110",imagpart:"\\u2111",imath:"\\u0131",Im:"\\u2111",imof:"\\u22B7",imped:"\\u01B5",Implies:"\\u21D2",incare:"\\u2105",in:"\\u2208",infin:"\\u221E",infintie:"\\u29DD",inodot:"\\u0131",intcal:"\\u22BA",int:"\\u222B",Int:"\\u222C",integers:"\\u2124",Integral:"\\u222B",intercal:"\\u22BA",Intersection:"\\u22C2",intlarhk:"\\u2A17",intprod:"\\u2A3C",InvisibleComma:"\\u2063",InvisibleTimes:"\\u2062",IOcy:"\\u0401",iocy:"\\u0451",Iogon:"\\u012E",iogon:"\\u012F",Iopf:"\\u{1D540}",iopf:"\\u{1D55A}",Iota:"\\u0399",iota:"\\u03B9",iprod:"\\u2A3C",iquest:"\\xBF",iscr:"\\u{1D4BE}",Iscr:"\\u2110",isin:"\\u2208",isindot:"\\u22F5",isinE:"\\u22F9",isins:"\\u22F4",isinsv:"\\u22F3",isinv:"\\u2208",it:"\\u2062",Itilde:"\\u0128",itilde:"\\u0129",Iukcy:"\\u0406",iukcy:"\\u0456",Iuml:"\\xCF",iuml:"\\xEF",Jcirc:"\\u0134",jcirc:"\\u0135",Jcy:"\\u0419",jcy:"\\u0439",Jfr:"\\u{1D50D}",jfr:"\\u{1D527}",jmath:"\\u0237",Jopf:"\\u{1D541}",jopf:"\\u{1D55B}",Jscr:"\\u{1D4A5}",jscr:"\\u{1D4BF}",Jsercy:"\\u0408",jsercy:"\\u0458",Jukcy:"\\u0404",jukcy:"\\u0454",Kappa:"\\u039A",kappa:"\\u03BA",kappav:"\\u03F0",Kcedil:"\\u0136",kcedil:"\\u0137",Kcy:"\\u041A",kcy:"\\u043A",Kfr:"\\u{1D50E}",kfr:"\\u{1D528}",kgreen:"\\u0138",KHcy:"\\u0425",khcy:"\\u0445",KJcy:"\\u040C",kjcy:"\\u045C",Kopf:"\\u{1D542}",kopf:"\\u{1D55C}",Kscr:"\\u{1D4A6}",kscr:"\\u{1D4C0}",lAarr:"\\u21DA",Lacute:"\\u0139",lacute:"\\u013A",laemptyv:"\\u29B4",lagran:"\\u2112",Lambda:"\\u039B",lambda:"\\u03BB",lang:"\\u27E8",Lang:"\\u27EA",langd:"\\u2991",langle:"\\u27E8",lap:"\\u2A85",Laplacetrf:"\\u2112",laquo:"\\xAB",larrb:"\\u21E4",larrbfs:"\\u291F",larr:"\\u2190",Larr:"\\u219E",lArr:"\\u21D0",larrfs:"\\u291D",larrhk:"\\u21A9",larrlp:"\\u21AB",larrpl:"\\u2939",larrsim:"\\u2973",larrtl:"\\u21A2",latail:"\\u2919",lAtail:"\\u291B",lat:"\\u2AAB",late:"\\u2AAD",lates:"\\u2AAD\\uFE00",lbarr:"\\u290C",lBarr:"\\u290E",lbbrk:"\\u2772",lbrace:"{",lbrack:"[",lbrke:"\\u298B",lbrksld:"\\u298F",lbrkslu:"\\u298D",Lcaron:"\\u013D",lcaron:"\\u013E",Lcedil:"\\u013B",lcedil:"\\u013C",lceil:"\\u2308",lcub:"{",Lcy:"\\u041B",lcy:"\\u043B",ldca:"\\u2936",ldquo:"\\u201C",ldquor:"\\u201E",ldrdhar:"\\u2967",ldrushar:"\\u294B",ldsh:"\\u21B2",le:"\\u2264",lE:"\\u2266",LeftAngleBracket:"\\u27E8",LeftArrowBar:"\\u21E4",leftarrow:"\\u2190",LeftArrow:"\\u2190",Leftarrow:"\\u21D0",LeftArrowRightArrow:"\\u21C6",leftarrowtail:"\\u21A2",LeftCeiling:"\\u2308",LeftDoubleBracket:"\\u27E6",LeftDownTeeVector:"\\u2961",LeftDownVectorBar:"\\u2959",LeftDownVector:"\\u21C3",LeftFloor:"\\u230A",leftharpoondown:"\\u21BD",leftharpoonup:"\\u21BC",leftleftarrows:"\\u21C7",leftrightarrow:"\\u2194",LeftRightArrow:"\\u2194",Leftrightarrow:"\\u21D4",leftrightarrows:"\\u21C6",leftrightharpoons:"\\u21CB",leftrightsquigarrow:"\\u21AD",LeftRightVector:"\\u294E",LeftTeeArrow:"\\u21A4",LeftTee:"\\u22A3",LeftTeeVector:"\\u295A",leftthreetimes:"\\u22CB",LeftTriangleBar:"\\u29CF",LeftTriangle:"\\u22B2",LeftTriangleEqual:"\\u22B4",LeftUpDownVector:"\\u2951",LeftUpTeeVector:"\\u2960",LeftUpVectorBar:"\\u2958",LeftUpVector:"\\u21BF",LeftVectorBar:"\\u2952",LeftVector:"\\u21BC",lEg:"\\u2A8B",leg:"\\u22DA",leq:"\\u2264",leqq:"\\u2266",leqslant:"\\u2A7D",lescc:"\\u2AA8",les:"\\u2A7D",lesdot:"\\u2A7F",lesdoto:"\\u2A81",lesdotor:"\\u2A83",lesg:"\\u22DA\\uFE00",lesges:"\\u2A93",lessapprox:"\\u2A85",lessdot:"\\u22D6",lesseqgtr:"\\u22DA",lesseqqgtr:"\\u2A8B",LessEqualGreater:"\\u22DA",LessFullEqual:"\\u2266",LessGreater:"\\u2276",lessgtr:"\\u2276",LessLess:"\\u2AA1",lesssim:"\\u2272",LessSlantEqual:"\\u2A7D",LessTilde:"\\u2272",lfisht:"\\u297C",lfloor:"\\u230A",Lfr:"\\u{1D50F}",lfr:"\\u{1D529}",lg:"\\u2276",lgE:"\\u2A91",lHar:"\\u2962",lhard:"\\u21BD",lharu:"\\u21BC",lharul:"\\u296A",lhblk:"\\u2584",LJcy:"\\u0409",ljcy:"\\u0459",llarr:"\\u21C7",ll:"\\u226A",Ll:"\\u22D8",llcorner:"\\u231E",Lleftarrow:"\\u21DA",llhard:"\\u296B",lltri:"\\u25FA",Lmidot:"\\u013F",lmidot:"\\u0140",lmoustache:"\\u23B0",lmoust:"\\u23B0",lnap:"\\u2A89",lnapprox:"\\u2A89",lne:"\\u2A87",lnE:"\\u2268",lneq:"\\u2A87",lneqq:"\\u2268",lnsim:"\\u22E6",loang:"\\u27EC",loarr:"\\u21FD",lobrk:"\\u27E6",longleftarrow:"\\u27F5",LongLeftArrow:"\\u27F5",Longleftarrow:"\\u27F8",longleftrightarrow:"\\u27F7",LongLeftRightArrow:"\\u27F7",Longleftrightarrow:"\\u27FA",longmapsto:"\\u27FC",longrightarrow:"\\u27F6",LongRightArrow:"\\u27F6",Longrightarrow:"\\u27F9",looparrowleft:"\\u21AB",looparrowright:"\\u21AC",lopar:"\\u2985",Lopf:"\\u{1D543}",lopf:"\\u{1D55D}",loplus:"\\u2A2D",lotimes:"\\u2A34",lowast:"\\u2217",lowbar:"_",LowerLeftArrow:"\\u2199",LowerRightArrow:"\\u2198",loz:"\\u25CA",lozenge:"\\u25CA",lozf:"\\u29EB",lpar:"(",lparlt:"\\u2993",lrarr:"\\u21C6",lrcorner:"\\u231F",lrhar:"\\u21CB",lrhard:"\\u296D",lrm:"\\u200E",lrtri:"\\u22BF",lsaquo:"\\u2039",lscr:"\\u{1D4C1}",Lscr:"\\u2112",lsh:"\\u21B0",Lsh:"\\u21B0",lsim:"\\u2272",lsime:"\\u2A8D",lsimg:"\\u2A8F",lsqb:"[",lsquo:"\\u2018",lsquor:"\\u201A",Lstrok:"\\u0141",lstrok:"\\u0142",ltcc:"\\u2AA6",ltcir:"\\u2A79",lt:"<",LT:"<",Lt:"\\u226A",ltdot:"\\u22D6",lthree:"\\u22CB",ltimes:"\\u22C9",ltlarr:"\\u2976",ltquest:"\\u2A7B",ltri:"\\u25C3",ltrie:"\\u22B4",ltrif:"\\u25C2",ltrPar:"\\u2996",lurdshar:"\\u294A",luruhar:"\\u2966",lvertneqq:"\\u2268\\uFE00",lvnE:"\\u2268\\uFE00",macr:"\\xAF",male:"\\u2642",malt:"\\u2720",maltese:"\\u2720",Map:"\\u2905",map:"\\u21A6",mapsto:"\\u21A6",mapstodown:"\\u21A7",mapstoleft:"\\u21A4",mapstoup:"\\u21A5",marker:"\\u25AE",mcomma:"\\u2A29",Mcy:"\\u041C",mcy:"\\u043C",mdash:"\\u2014",mDDot:"\\u223A",measuredangle:"\\u2221",MediumSpace:"\\u205F",Mellintrf:"\\u2133",Mfr:"\\u{1D510}",mfr:"\\u{1D52A}",mho:"\\u2127",micro:"\\xB5",midast:"*",midcir:"\\u2AF0",mid:"\\u2223",middot:"\\xB7",minusb:"\\u229F",minus:"\\u2212",minusd:"\\u2238",minusdu:"\\u2A2A",MinusPlus:"\\u2213",mlcp:"\\u2ADB",mldr:"\\u2026",mnplus:"\\u2213",models:"\\u22A7",Mopf:"\\u{1D544}",mopf:"\\u{1D55E}",mp:"\\u2213",mscr:"\\u{1D4C2}",Mscr:"\\u2133",mstpos:"\\u223E",Mu:"\\u039C",mu:"\\u03BC",multimap:"\\u22B8",mumap:"\\u22B8",nabla:"\\u2207",Nacute:"\\u0143",nacute:"\\u0144",nang:"\\u2220\\u20D2",nap:"\\u2249",napE:"\\u2A70\\u0338",napid:"\\u224B\\u0338",napos:"\\u0149",napprox:"\\u2249",natural:"\\u266E",naturals:"\\u2115",natur:"\\u266E",nbsp:"\\xA0",nbump:"\\u224E\\u0338",nbumpe:"\\u224F\\u0338",ncap:"\\u2A43",Ncaron:"\\u0147",ncaron:"\\u0148",Ncedil:"\\u0145",ncedil:"\\u0146",ncong:"\\u2247",ncongdot:"\\u2A6D\\u0338",ncup:"\\u2A42",Ncy:"\\u041D",ncy:"\\u043D",ndash:"\\u2013",nearhk:"\\u2924",nearr:"\\u2197",neArr:"\\u21D7",nearrow:"\\u2197",ne:"\\u2260",nedot:"\\u2250\\u0338",NegativeMediumSpace:"\\u200B",NegativeThickSpace:"\\u200B",NegativeThinSpace:"\\u200B",NegativeVeryThinSpace:"\\u200B",nequiv:"\\u2262",nesear:"\\u2928",nesim:"\\u2242\\u0338",NestedGreaterGreater:"\\u226B",NestedLessLess:"\\u226A",NewLine:\`
\`,nexist:"\\u2204",nexists:"\\u2204",Nfr:"\\u{1D511}",nfr:"\\u{1D52B}",ngE:"\\u2267\\u0338",nge:"\\u2271",ngeq:"\\u2271",ngeqq:"\\u2267\\u0338",ngeqslant:"\\u2A7E\\u0338",nges:"\\u2A7E\\u0338",nGg:"\\u22D9\\u0338",ngsim:"\\u2275",nGt:"\\u226B\\u20D2",ngt:"\\u226F",ngtr:"\\u226F",nGtv:"\\u226B\\u0338",nharr:"\\u21AE",nhArr:"\\u21CE",nhpar:"\\u2AF2",ni:"\\u220B",nis:"\\u22FC",nisd:"\\u22FA",niv:"\\u220B",NJcy:"\\u040A",njcy:"\\u045A",nlarr:"\\u219A",nlArr:"\\u21CD",nldr:"\\u2025",nlE:"\\u2266\\u0338",nle:"\\u2270",nleftarrow:"\\u219A",nLeftarrow:"\\u21CD",nleftrightarrow:"\\u21AE",nLeftrightarrow:"\\u21CE",nleq:"\\u2270",nleqq:"\\u2266\\u0338",nleqslant:"\\u2A7D\\u0338",nles:"\\u2A7D\\u0338",nless:"\\u226E",nLl:"\\u22D8\\u0338",nlsim:"\\u2274",nLt:"\\u226A\\u20D2",nlt:"\\u226E",nltri:"\\u22EA",nltrie:"\\u22EC",nLtv:"\\u226A\\u0338",nmid:"\\u2224",NoBreak:"\\u2060",NonBreakingSpace:"\\xA0",nopf:"\\u{1D55F}",Nopf:"\\u2115",Not:"\\u2AEC",not:"\\xAC",NotCongruent:"\\u2262",NotCupCap:"\\u226D",NotDoubleVerticalBar:"\\u2226",NotElement:"\\u2209",NotEqual:"\\u2260",NotEqualTilde:"\\u2242\\u0338",NotExists:"\\u2204",NotGreater:"\\u226F",NotGreaterEqual:"\\u2271",NotGreaterFullEqual:"\\u2267\\u0338",NotGreaterGreater:"\\u226B\\u0338",NotGreaterLess:"\\u2279",NotGreaterSlantEqual:"\\u2A7E\\u0338",NotGreaterTilde:"\\u2275",NotHumpDownHump:"\\u224E\\u0338",NotHumpEqual:"\\u224F\\u0338",notin:"\\u2209",notindot:"\\u22F5\\u0338",notinE:"\\u22F9\\u0338",notinva:"\\u2209",notinvb:"\\u22F7",notinvc:"\\u22F6",NotLeftTriangleBar:"\\u29CF\\u0338",NotLeftTriangle:"\\u22EA",NotLeftTriangleEqual:"\\u22EC",NotLess:"\\u226E",NotLessEqual:"\\u2270",NotLessGreater:"\\u2278",NotLessLess:"\\u226A\\u0338",NotLessSlantEqual:"\\u2A7D\\u0338",NotLessTilde:"\\u2274",NotNestedGreaterGreater:"\\u2AA2\\u0338",NotNestedLessLess:"\\u2AA1\\u0338",notni:"\\u220C",notniva:"\\u220C",notnivb:"\\u22FE",notnivc:"\\u22FD",NotPrecedes:"\\u2280",NotPrecedesEqual:"\\u2AAF\\u0338",NotPrecedesSlantEqual:"\\u22E0",NotReverseElement:"\\u220C",NotRightTriangleBar:"\\u29D0\\u0338",NotRightTriangle:"\\u22EB",NotRightTriangleEqual:"\\u22ED",NotSquareSubset:"\\u228F\\u0338",NotSquareSubsetEqual:"\\u22E2",NotSquareSuperset:"\\u2290\\u0338",NotSquareSupersetEqual:"\\u22E3",NotSubset:"\\u2282\\u20D2",NotSubsetEqual:"\\u2288",NotSucceeds:"\\u2281",NotSucceedsEqual:"\\u2AB0\\u0338",NotSucceedsSlantEqual:"\\u22E1",NotSucceedsTilde:"\\u227F\\u0338",NotSuperset:"\\u2283\\u20D2",NotSupersetEqual:"\\u2289",NotTilde:"\\u2241",NotTildeEqual:"\\u2244",NotTildeFullEqual:"\\u2247",NotTildeTilde:"\\u2249",NotVerticalBar:"\\u2224",nparallel:"\\u2226",npar:"\\u2226",nparsl:"\\u2AFD\\u20E5",npart:"\\u2202\\u0338",npolint:"\\u2A14",npr:"\\u2280",nprcue:"\\u22E0",nprec:"\\u2280",npreceq:"\\u2AAF\\u0338",npre:"\\u2AAF\\u0338",nrarrc:"\\u2933\\u0338",nrarr:"\\u219B",nrArr:"\\u21CF",nrarrw:"\\u219D\\u0338",nrightarrow:"\\u219B",nRightarrow:"\\u21CF",nrtri:"\\u22EB",nrtrie:"\\u22ED",nsc:"\\u2281",nsccue:"\\u22E1",nsce:"\\u2AB0\\u0338",Nscr:"\\u{1D4A9}",nscr:"\\u{1D4C3}",nshortmid:"\\u2224",nshortparallel:"\\u2226",nsim:"\\u2241",nsime:"\\u2244",nsimeq:"\\u2244",nsmid:"\\u2224",nspar:"\\u2226",nsqsube:"\\u22E2",nsqsupe:"\\u22E3",nsub:"\\u2284",nsubE:"\\u2AC5\\u0338",nsube:"\\u2288",nsubset:"\\u2282\\u20D2",nsubseteq:"\\u2288",nsubseteqq:"\\u2AC5\\u0338",nsucc:"\\u2281",nsucceq:"\\u2AB0\\u0338",nsup:"\\u2285",nsupE:"\\u2AC6\\u0338",nsupe:"\\u2289",nsupset:"\\u2283\\u20D2",nsupseteq:"\\u2289",nsupseteqq:"\\u2AC6\\u0338",ntgl:"\\u2279",Ntilde:"\\xD1",ntilde:"\\xF1",ntlg:"\\u2278",ntriangleleft:"\\u22EA",ntrianglelefteq:"\\u22EC",ntriangleright:"\\u22EB",ntrianglerighteq:"\\u22ED",Nu:"\\u039D",nu:"\\u03BD",num:"#",numero:"\\u2116",numsp:"\\u2007",nvap:"\\u224D\\u20D2",nvdash:"\\u22AC",nvDash:"\\u22AD",nVdash:"\\u22AE",nVDash:"\\u22AF",nvge:"\\u2265\\u20D2",nvgt:">\\u20D2",nvHarr:"\\u2904",nvinfin:"\\u29DE",nvlArr:"\\u2902",nvle:"\\u2264\\u20D2",nvlt:"<\\u20D2",nvltrie:"\\u22B4\\u20D2",nvrArr:"\\u2903",nvrtrie:"\\u22B5\\u20D2",nvsim:"\\u223C\\u20D2",nwarhk:"\\u2923",nwarr:"\\u2196",nwArr:"\\u21D6",nwarrow:"\\u2196",nwnear:"\\u2927",Oacute:"\\xD3",oacute:"\\xF3",oast:"\\u229B",Ocirc:"\\xD4",ocirc:"\\xF4",ocir:"\\u229A",Ocy:"\\u041E",ocy:"\\u043E",odash:"\\u229D",Odblac:"\\u0150",odblac:"\\u0151",odiv:"\\u2A38",odot:"\\u2299",odsold:"\\u29BC",OElig:"\\u0152",oelig:"\\u0153",ofcir:"\\u29BF",Ofr:"\\u{1D512}",ofr:"\\u{1D52C}",ogon:"\\u02DB",Ograve:"\\xD2",ograve:"\\xF2",ogt:"\\u29C1",ohbar:"\\u29B5",ohm:"\\u03A9",oint:"\\u222E",olarr:"\\u21BA",olcir:"\\u29BE",olcross:"\\u29BB",oline:"\\u203E",olt:"\\u29C0",Omacr:"\\u014C",omacr:"\\u014D",Omega:"\\u03A9",omega:"\\u03C9",Omicron:"\\u039F",omicron:"\\u03BF",omid:"\\u29B6",ominus:"\\u2296",Oopf:"\\u{1D546}",oopf:"\\u{1D560}",opar:"\\u29B7",OpenCurlyDoubleQuote:"\\u201C",OpenCurlyQuote:"\\u2018",operp:"\\u29B9",oplus:"\\u2295",orarr:"\\u21BB",Or:"\\u2A54",or:"\\u2228",ord:"\\u2A5D",order:"\\u2134",orderof:"\\u2134",ordf:"\\xAA",ordm:"\\xBA",origof:"\\u22B6",oror:"\\u2A56",orslope:"\\u2A57",orv:"\\u2A5B",oS:"\\u24C8",Oscr:"\\u{1D4AA}",oscr:"\\u2134",Oslash:"\\xD8",oslash:"\\xF8",osol:"\\u2298",Otilde:"\\xD5",otilde:"\\xF5",otimesas:"\\u2A36",Otimes:"\\u2A37",otimes:"\\u2297",Ouml:"\\xD6",ouml:"\\xF6",ovbar:"\\u233D",OverBar:"\\u203E",OverBrace:"\\u23DE",OverBracket:"\\u23B4",OverParenthesis:"\\u23DC",para:"\\xB6",parallel:"\\u2225",par:"\\u2225",parsim:"\\u2AF3",parsl:"\\u2AFD",part:"\\u2202",PartialD:"\\u2202",Pcy:"\\u041F",pcy:"\\u043F",percnt:"%",period:".",permil:"\\u2030",perp:"\\u22A5",pertenk:"\\u2031",Pfr:"\\u{1D513}",pfr:"\\u{1D52D}",Phi:"\\u03A6",phi:"\\u03C6",phiv:"\\u03D5",phmmat:"\\u2133",phone:"\\u260E",Pi:"\\u03A0",pi:"\\u03C0",pitchfork:"\\u22D4",piv:"\\u03D6",planck:"\\u210F",planckh:"\\u210E",plankv:"\\u210F",plusacir:"\\u2A23",plusb:"\\u229E",pluscir:"\\u2A22",plus:"+",plusdo:"\\u2214",plusdu:"\\u2A25",pluse:"\\u2A72",PlusMinus:"\\xB1",plusmn:"\\xB1",plussim:"\\u2A26",plustwo:"\\u2A27",pm:"\\xB1",Poincareplane:"\\u210C",pointint:"\\u2A15",popf:"\\u{1D561}",Popf:"\\u2119",pound:"\\xA3",prap:"\\u2AB7",Pr:"\\u2ABB",pr:"\\u227A",prcue:"\\u227C",precapprox:"\\u2AB7",prec:"\\u227A",preccurlyeq:"\\u227C",Precedes:"\\u227A",PrecedesEqual:"\\u2AAF",PrecedesSlantEqual:"\\u227C",PrecedesTilde:"\\u227E",preceq:"\\u2AAF",precnapprox:"\\u2AB9",precneqq:"\\u2AB5",precnsim:"\\u22E8",pre:"\\u2AAF",prE:"\\u2AB3",precsim:"\\u227E",prime:"\\u2032",Prime:"\\u2033",primes:"\\u2119",prnap:"\\u2AB9",prnE:"\\u2AB5",prnsim:"\\u22E8",prod:"\\u220F",Product:"\\u220F",profalar:"\\u232E",profline:"\\u2312",profsurf:"\\u2313",prop:"\\u221D",Proportional:"\\u221D",Proportion:"\\u2237",propto:"\\u221D",prsim:"\\u227E",prurel:"\\u22B0",Pscr:"\\u{1D4AB}",pscr:"\\u{1D4C5}",Psi:"\\u03A8",psi:"\\u03C8",puncsp:"\\u2008",Qfr:"\\u{1D514}",qfr:"\\u{1D52E}",qint:"\\u2A0C",qopf:"\\u{1D562}",Qopf:"\\u211A",qprime:"\\u2057",Qscr:"\\u{1D4AC}",qscr:"\\u{1D4C6}",quaternions:"\\u210D",quatint:"\\u2A16",quest:"?",questeq:"\\u225F",quot:'"',QUOT:'"',rAarr:"\\u21DB",race:"\\u223D\\u0331",Racute:"\\u0154",racute:"\\u0155",radic:"\\u221A",raemptyv:"\\u29B3",rang:"\\u27E9",Rang:"\\u27EB",rangd:"\\u2992",range:"\\u29A5",rangle:"\\u27E9",raquo:"\\xBB",rarrap:"\\u2975",rarrb:"\\u21E5",rarrbfs:"\\u2920",rarrc:"\\u2933",rarr:"\\u2192",Rarr:"\\u21A0",rArr:"\\u21D2",rarrfs:"\\u291E",rarrhk:"\\u21AA",rarrlp:"\\u21AC",rarrpl:"\\u2945",rarrsim:"\\u2974",Rarrtl:"\\u2916",rarrtl:"\\u21A3",rarrw:"\\u219D",ratail:"\\u291A",rAtail:"\\u291C",ratio:"\\u2236",rationals:"\\u211A",rbarr:"\\u290D",rBarr:"\\u290F",RBarr:"\\u2910",rbbrk:"\\u2773",rbrace:"}",rbrack:"]",rbrke:"\\u298C",rbrksld:"\\u298E",rbrkslu:"\\u2990",Rcaron:"\\u0158",rcaron:"\\u0159",Rcedil:"\\u0156",rcedil:"\\u0157",rceil:"\\u2309",rcub:"}",Rcy:"\\u0420",rcy:"\\u0440",rdca:"\\u2937",rdldhar:"\\u2969",rdquo:"\\u201D",rdquor:"\\u201D",rdsh:"\\u21B3",real:"\\u211C",realine:"\\u211B",realpart:"\\u211C",reals:"\\u211D",Re:"\\u211C",rect:"\\u25AD",reg:"\\xAE",REG:"\\xAE",ReverseElement:"\\u220B",ReverseEquilibrium:"\\u21CB",ReverseUpEquilibrium:"\\u296F",rfisht:"\\u297D",rfloor:"\\u230B",rfr:"\\u{1D52F}",Rfr:"\\u211C",rHar:"\\u2964",rhard:"\\u21C1",rharu:"\\u21C0",rharul:"\\u296C",Rho:"\\u03A1",rho:"\\u03C1",rhov:"\\u03F1",RightAngleBracket:"\\u27E9",RightArrowBar:"\\u21E5",rightarrow:"\\u2192",RightArrow:"\\u2192",Rightarrow:"\\u21D2",RightArrowLeftArrow:"\\u21C4",rightarrowtail:"\\u21A3",RightCeiling:"\\u2309",RightDoubleBracket:"\\u27E7",RightDownTeeVector:"\\u295D",RightDownVectorBar:"\\u2955",RightDownVector:"\\u21C2",RightFloor:"\\u230B",rightharpoondown:"\\u21C1",rightharpoonup:"\\u21C0",rightleftarrows:"\\u21C4",rightleftharpoons:"\\u21CC",rightrightarrows:"\\u21C9",rightsquigarrow:"\\u219D",RightTeeArrow:"\\u21A6",RightTee:"\\u22A2",RightTeeVector:"\\u295B",rightthreetimes:"\\u22CC",RightTriangleBar:"\\u29D0",RightTriangle:"\\u22B3",RightTriangleEqual:"\\u22B5",RightUpDownVector:"\\u294F",RightUpTeeVector:"\\u295C",RightUpVectorBar:"\\u2954",RightUpVector:"\\u21BE",RightVectorBar:"\\u2953",RightVector:"\\u21C0",ring:"\\u02DA",risingdotseq:"\\u2253",rlarr:"\\u21C4",rlhar:"\\u21CC",rlm:"\\u200F",rmoustache:"\\u23B1",rmoust:"\\u23B1",rnmid:"\\u2AEE",roang:"\\u27ED",roarr:"\\u21FE",robrk:"\\u27E7",ropar:"\\u2986",ropf:"\\u{1D563}",Ropf:"\\u211D",roplus:"\\u2A2E",rotimes:"\\u2A35",RoundImplies:"\\u2970",rpar:")",rpargt:"\\u2994",rppolint:"\\u2A12",rrarr:"\\u21C9",Rrightarrow:"\\u21DB",rsaquo:"\\u203A",rscr:"\\u{1D4C7}",Rscr:"\\u211B",rsh:"\\u21B1",Rsh:"\\u21B1",rsqb:"]",rsquo:"\\u2019",rsquor:"\\u2019",rthree:"\\u22CC",rtimes:"\\u22CA",rtri:"\\u25B9",rtrie:"\\u22B5",rtrif:"\\u25B8",rtriltri:"\\u29CE",RuleDelayed:"\\u29F4",ruluhar:"\\u2968",rx:"\\u211E",Sacute:"\\u015A",sacute:"\\u015B",sbquo:"\\u201A",scap:"\\u2AB8",Scaron:"\\u0160",scaron:"\\u0161",Sc:"\\u2ABC",sc:"\\u227B",sccue:"\\u227D",sce:"\\u2AB0",scE:"\\u2AB4",Scedil:"\\u015E",scedil:"\\u015F",Scirc:"\\u015C",scirc:"\\u015D",scnap:"\\u2ABA",scnE:"\\u2AB6",scnsim:"\\u22E9",scpolint:"\\u2A13",scsim:"\\u227F",Scy:"\\u0421",scy:"\\u0441",sdotb:"\\u22A1",sdot:"\\u22C5",sdote:"\\u2A66",searhk:"\\u2925",searr:"\\u2198",seArr:"\\u21D8",searrow:"\\u2198",sect:"\\xA7",semi:";",seswar:"\\u2929",setminus:"\\u2216",setmn:"\\u2216",sext:"\\u2736",Sfr:"\\u{1D516}",sfr:"\\u{1D530}",sfrown:"\\u2322",sharp:"\\u266F",SHCHcy:"\\u0429",shchcy:"\\u0449",SHcy:"\\u0428",shcy:"\\u0448",ShortDownArrow:"\\u2193",ShortLeftArrow:"\\u2190",shortmid:"\\u2223",shortparallel:"\\u2225",ShortRightArrow:"\\u2192",ShortUpArrow:"\\u2191",shy:"\\xAD",Sigma:"\\u03A3",sigma:"\\u03C3",sigmaf:"\\u03C2",sigmav:"\\u03C2",sim:"\\u223C",simdot:"\\u2A6A",sime:"\\u2243",simeq:"\\u2243",simg:"\\u2A9E",simgE:"\\u2AA0",siml:"\\u2A9D",simlE:"\\u2A9F",simne:"\\u2246",simplus:"\\u2A24",simrarr:"\\u2972",slarr:"\\u2190",SmallCircle:"\\u2218",smallsetminus:"\\u2216",smashp:"\\u2A33",smeparsl:"\\u29E4",smid:"\\u2223",smile:"\\u2323",smt:"\\u2AAA",smte:"\\u2AAC",smtes:"\\u2AAC\\uFE00",SOFTcy:"\\u042C",softcy:"\\u044C",solbar:"\\u233F",solb:"\\u29C4",sol:"/",Sopf:"\\u{1D54A}",sopf:"\\u{1D564}",spades:"\\u2660",spadesuit:"\\u2660",spar:"\\u2225",sqcap:"\\u2293",sqcaps:"\\u2293\\uFE00",sqcup:"\\u2294",sqcups:"\\u2294\\uFE00",Sqrt:"\\u221A",sqsub:"\\u228F",sqsube:"\\u2291",sqsubset:"\\u228F",sqsubseteq:"\\u2291",sqsup:"\\u2290",sqsupe:"\\u2292",sqsupset:"\\u2290",sqsupseteq:"\\u2292",square:"\\u25A1",Square:"\\u25A1",SquareIntersection:"\\u2293",SquareSubset:"\\u228F",SquareSubsetEqual:"\\u2291",SquareSuperset:"\\u2290",SquareSupersetEqual:"\\u2292",SquareUnion:"\\u2294",squarf:"\\u25AA",squ:"\\u25A1",squf:"\\u25AA",srarr:"\\u2192",Sscr:"\\u{1D4AE}",sscr:"\\u{1D4C8}",ssetmn:"\\u2216",ssmile:"\\u2323",sstarf:"\\u22C6",Star:"\\u22C6",star:"\\u2606",starf:"\\u2605",straightepsilon:"\\u03F5",straightphi:"\\u03D5",strns:"\\xAF",sub:"\\u2282",Sub:"\\u22D0",subdot:"\\u2ABD",subE:"\\u2AC5",sube:"\\u2286",subedot:"\\u2AC3",submult:"\\u2AC1",subnE:"\\u2ACB",subne:"\\u228A",subplus:"\\u2ABF",subrarr:"\\u2979",subset:"\\u2282",Subset:"\\u22D0",subseteq:"\\u2286",subseteqq:"\\u2AC5",SubsetEqual:"\\u2286",subsetneq:"\\u228A",subsetneqq:"\\u2ACB",subsim:"\\u2AC7",subsub:"\\u2AD5",subsup:"\\u2AD3",succapprox:"\\u2AB8",succ:"\\u227B",succcurlyeq:"\\u227D",Succeeds:"\\u227B",SucceedsEqual:"\\u2AB0",SucceedsSlantEqual:"\\u227D",SucceedsTilde:"\\u227F",succeq:"\\u2AB0",succnapprox:"\\u2ABA",succneqq:"\\u2AB6",succnsim:"\\u22E9",succsim:"\\u227F",SuchThat:"\\u220B",sum:"\\u2211",Sum:"\\u2211",sung:"\\u266A",sup1:"\\xB9",sup2:"\\xB2",sup3:"\\xB3",sup:"\\u2283",Sup:"\\u22D1",supdot:"\\u2ABE",supdsub:"\\u2AD8",supE:"\\u2AC6",supe:"\\u2287",supedot:"\\u2AC4",Superset:"\\u2283",SupersetEqual:"\\u2287",suphsol:"\\u27C9",suphsub:"\\u2AD7",suplarr:"\\u297B",supmult:"\\u2AC2",supnE:"\\u2ACC",supne:"\\u228B",supplus:"\\u2AC0",supset:"\\u2283",Supset:"\\u22D1",supseteq:"\\u2287",supseteqq:"\\u2AC6",supsetneq:"\\u228B",supsetneqq:"\\u2ACC",supsim:"\\u2AC8",supsub:"\\u2AD4",supsup:"\\u2AD6",swarhk:"\\u2926",swarr:"\\u2199",swArr:"\\u21D9",swarrow:"\\u2199",swnwar:"\\u292A",szlig:"\\xDF",Tab:"	",target:"\\u2316",Tau:"\\u03A4",tau:"\\u03C4",tbrk:"\\u23B4",Tcaron:"\\u0164",tcaron:"\\u0165",Tcedil:"\\u0162",tcedil:"\\u0163",Tcy:"\\u0422",tcy:"\\u0442",tdot:"\\u20DB",telrec:"\\u2315",Tfr:"\\u{1D517}",tfr:"\\u{1D531}",there4:"\\u2234",therefore:"\\u2234",Therefore:"\\u2234",Theta:"\\u0398",theta:"\\u03B8",thetasym:"\\u03D1",thetav:"\\u03D1",thickapprox:"\\u2248",thicksim:"\\u223C",ThickSpace:"\\u205F\\u200A",ThinSpace:"\\u2009",thinsp:"\\u2009",thkap:"\\u2248",thksim:"\\u223C",THORN:"\\xDE",thorn:"\\xFE",tilde:"\\u02DC",Tilde:"\\u223C",TildeEqual:"\\u2243",TildeFullEqual:"\\u2245",TildeTilde:"\\u2248",timesbar:"\\u2A31",timesb:"\\u22A0",times:"\\xD7",timesd:"\\u2A30",tint:"\\u222D",toea:"\\u2928",topbot:"\\u2336",topcir:"\\u2AF1",top:"\\u22A4",Topf:"\\u{1D54B}",topf:"\\u{1D565}",topfork:"\\u2ADA",tosa:"\\u2929",tprime:"\\u2034",trade:"\\u2122",TRADE:"\\u2122",triangle:"\\u25B5",triangledown:"\\u25BF",triangleleft:"\\u25C3",trianglelefteq:"\\u22B4",triangleq:"\\u225C",triangleright:"\\u25B9",trianglerighteq:"\\u22B5",tridot:"\\u25EC",trie:"\\u225C",triminus:"\\u2A3A",TripleDot:"\\u20DB",triplus:"\\u2A39",trisb:"\\u29CD",tritime:"\\u2A3B",trpezium:"\\u23E2",Tscr:"\\u{1D4AF}",tscr:"\\u{1D4C9}",TScy:"\\u0426",tscy:"\\u0446",TSHcy:"\\u040B",tshcy:"\\u045B",Tstrok:"\\u0166",tstrok:"\\u0167",twixt:"\\u226C",twoheadleftarrow:"\\u219E",twoheadrightarrow:"\\u21A0",Uacute:"\\xDA",uacute:"\\xFA",uarr:"\\u2191",Uarr:"\\u219F",uArr:"\\u21D1",Uarrocir:"\\u2949",Ubrcy:"\\u040E",ubrcy:"\\u045E",Ubreve:"\\u016C",ubreve:"\\u016D",Ucirc:"\\xDB",ucirc:"\\xFB",Ucy:"\\u0423",ucy:"\\u0443",udarr:"\\u21C5",Udblac:"\\u0170",udblac:"\\u0171",udhar:"\\u296E",ufisht:"\\u297E",Ufr:"\\u{1D518}",ufr:"\\u{1D532}",Ugrave:"\\xD9",ugrave:"\\xF9",uHar:"\\u2963",uharl:"\\u21BF",uharr:"\\u21BE",uhblk:"\\u2580",ulcorn:"\\u231C",ulcorner:"\\u231C",ulcrop:"\\u230F",ultri:"\\u25F8",Umacr:"\\u016A",umacr:"\\u016B",uml:"\\xA8",UnderBar:"_",UnderBrace:"\\u23DF",UnderBracket:"\\u23B5",UnderParenthesis:"\\u23DD",Union:"\\u22C3",UnionPlus:"\\u228E",Uogon:"\\u0172",uogon:"\\u0173",Uopf:"\\u{1D54C}",uopf:"\\u{1D566}",UpArrowBar:"\\u2912",uparrow:"\\u2191",UpArrow:"\\u2191",Uparrow:"\\u21D1",UpArrowDownArrow:"\\u21C5",updownarrow:"\\u2195",UpDownArrow:"\\u2195",Updownarrow:"\\u21D5",UpEquilibrium:"\\u296E",upharpoonleft:"\\u21BF",upharpoonright:"\\u21BE",uplus:"\\u228E",UpperLeftArrow:"\\u2196",UpperRightArrow:"\\u2197",upsi:"\\u03C5",Upsi:"\\u03D2",upsih:"\\u03D2",Upsilon:"\\u03A5",upsilon:"\\u03C5",UpTeeArrow:"\\u21A5",UpTee:"\\u22A5",upuparrows:"\\u21C8",urcorn:"\\u231D",urcorner:"\\u231D",urcrop:"\\u230E",Uring:"\\u016E",uring:"\\u016F",urtri:"\\u25F9",Uscr:"\\u{1D4B0}",uscr:"\\u{1D4CA}",utdot:"\\u22F0",Utilde:"\\u0168",utilde:"\\u0169",utri:"\\u25B5",utrif:"\\u25B4",uuarr:"\\u21C8",Uuml:"\\xDC",uuml:"\\xFC",uwangle:"\\u29A7",vangrt:"\\u299C",varepsilon:"\\u03F5",varkappa:"\\u03F0",varnothing:"\\u2205",varphi:"\\u03D5",varpi:"\\u03D6",varpropto:"\\u221D",varr:"\\u2195",vArr:"\\u21D5",varrho:"\\u03F1",varsigma:"\\u03C2",varsubsetneq:"\\u228A\\uFE00",varsubsetneqq:"\\u2ACB\\uFE00",varsupsetneq:"\\u228B\\uFE00",varsupsetneqq:"\\u2ACC\\uFE00",vartheta:"\\u03D1",vartriangleleft:"\\u22B2",vartriangleright:"\\u22B3",vBar:"\\u2AE8",Vbar:"\\u2AEB",vBarv:"\\u2AE9",Vcy:"\\u0412",vcy:"\\u0432",vdash:"\\u22A2",vDash:"\\u22A8",Vdash:"\\u22A9",VDash:"\\u22AB",Vdashl:"\\u2AE6",veebar:"\\u22BB",vee:"\\u2228",Vee:"\\u22C1",veeeq:"\\u225A",vellip:"\\u22EE",verbar:"|",Verbar:"\\u2016",vert:"|",Vert:"\\u2016",VerticalBar:"\\u2223",VerticalLine:"|",VerticalSeparator:"\\u2758",VerticalTilde:"\\u2240",VeryThinSpace:"\\u200A",Vfr:"\\u{1D519}",vfr:"\\u{1D533}",vltri:"\\u22B2",vnsub:"\\u2282\\u20D2",vnsup:"\\u2283\\u20D2",Vopf:"\\u{1D54D}",vopf:"\\u{1D567}",vprop:"\\u221D",vrtri:"\\u22B3",Vscr:"\\u{1D4B1}",vscr:"\\u{1D4CB}",vsubnE:"\\u2ACB\\uFE00",vsubne:"\\u228A\\uFE00",vsupnE:"\\u2ACC\\uFE00",vsupne:"\\u228B\\uFE00",Vvdash:"\\u22AA",vzigzag:"\\u299A",Wcirc:"\\u0174",wcirc:"\\u0175",wedbar:"\\u2A5F",wedge:"\\u2227",Wedge:"\\u22C0",wedgeq:"\\u2259",weierp:"\\u2118",Wfr:"\\u{1D51A}",wfr:"\\u{1D534}",Wopf:"\\u{1D54E}",wopf:"\\u{1D568}",wp:"\\u2118",wr:"\\u2240",wreath:"\\u2240",Wscr:"\\u{1D4B2}",wscr:"\\u{1D4CC}",xcap:"\\u22C2",xcirc:"\\u25EF",xcup:"\\u22C3",xdtri:"\\u25BD",Xfr:"\\u{1D51B}",xfr:"\\u{1D535}",xharr:"\\u27F7",xhArr:"\\u27FA",Xi:"\\u039E",xi:"\\u03BE",xlarr:"\\u27F5",xlArr:"\\u27F8",xmap:"\\u27FC",xnis:"\\u22FB",xodot:"\\u2A00",Xopf:"\\u{1D54F}",xopf:"\\u{1D569}",xoplus:"\\u2A01",xotime:"\\u2A02",xrarr:"\\u27F6",xrArr:"\\u27F9",Xscr:"\\u{1D4B3}",xscr:"\\u{1D4CD}",xsqcup:"\\u2A06",xuplus:"\\u2A04",xutri:"\\u25B3",xvee:"\\u22C1",xwedge:"\\u22C0",Yacute:"\\xDD",yacute:"\\xFD",YAcy:"\\u042F",yacy:"\\u044F",Ycirc:"\\u0176",ycirc:"\\u0177",Ycy:"\\u042B",ycy:"\\u044B",yen:"\\xA5",Yfr:"\\u{1D51C}",yfr:"\\u{1D536}",YIcy:"\\u0407",yicy:"\\u0457",Yopf:"\\u{1D550}",yopf:"\\u{1D56A}",Yscr:"\\u{1D4B4}",yscr:"\\u{1D4CE}",YUcy:"\\u042E",yucy:"\\u044E",yuml:"\\xFF",Yuml:"\\u0178",Zacute:"\\u0179",zacute:"\\u017A",Zcaron:"\\u017D",zcaron:"\\u017E",Zcy:"\\u0417",zcy:"\\u0437",Zdot:"\\u017B",zdot:"\\u017C",zeetrf:"\\u2128",ZeroWidthSpace:"\\u200B",Zeta:"\\u0396",zeta:"\\u03B6",zfr:"\\u{1D537}",Zfr:"\\u2128",ZHcy:"\\u0416",zhcy:"\\u0436",zigrarr:"\\u21DD",zopf:"\\u{1D56B}",Zopf:"\\u2124",Zscr:"\\u{1D4B5}",zscr:"\\u{1D4CF}",zwj:"\\u200D",zwnj:"\\u200C"}});var yu=A((W3,N_)=>{N_.exports=y_()});var Nu=A((L3,C_)=>{C_.exports=/[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4E\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDF55-\\uDF59]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/});var I_=A(()=>{});var M_=A((t8,D_)=>{D_.exports=/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/});var F_=A((n8,P_)=>{P_.exports=/[\\0-\\x1F\\x7F-\\x9F]/});var B_=A((r8,q_)=>{q_.exports=/[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804[\\uDCBD\\uDCCD]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/});var G_=A((l8,V_)=>{V_.exports=/[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/});var K_=A(Wr=>{Wr.Any=M_();Wr.Cc=F_();Wr.Cf=B_();Wr.P=Nu();Wr.Z=G_()});var ne=A(Ue=>{function qT(e){return Object.prototype.toString.call(e)}function BT(e){return qT(e)==="[object String]"}var VT=Object.prototype.hasOwnProperty;function j_(e,t){return VT.call(e,t)}function GT(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(n){if(!!n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){e[r]=n[r]})}}),e}function KT(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function X_(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function z_(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var J_=/\\\\([!"#$%&'()*+,\\-.\\/:;<=>?@[\\\\\\]^_\`{|}~])/g,HT=/&([a-z#][a-z0-9]{1,31});/gi,jT=new RegExp(J_.source+"|"+HT.source,"gi"),XT=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,H_=yu();function zT(e,t){var n=0;return j_(H_,t)?H_[t]:t.charCodeAt(0)===35&&XT.test(t)&&(n=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10),X_(n))?z_(n):e}function JT(e){return e.indexOf("\\\\")<0?e:e.replace(J_,"$1")}function ZT(e){return e.indexOf("\\\\")<0&&e.indexOf("&")<0?e:e.replace(jT,function(t,n,r){return n||zT(t,r)})}var $T=/[&<>"]/,YT=/[&<>"]/g,WT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function LT(e){return WT[e]}function QT(e){return $T.test(e)?e.replace(YT,LT):e}var ev=/[.?*+^$[\\]\\\\(){}|-]/g;function tv(e){return e.replace(ev,"\\\\$&")}function nv(e){switch(e){case 9:case 32:return!0}return!1}function rv(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var lv=Nu();function ov(e){return lv.test(e)}function av(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function sv(e){return e=e.trim().replace(/\\s+/g," "),"\\u1E9E".toLowerCase()==="\\u1E7E"&&(e=e.replace(/\u1E9E/g,"\\xDF")),e.toLowerCase().toUpperCase()}Ue.lib={};Ue.lib.mdurl=I_();Ue.lib.ucmicro=K_();Ue.assign=GT;Ue.isString=BT;Ue.has=j_;Ue.unescapeMd=JT;Ue.unescapeAll=ZT;Ue.isValidEntityCode=X_;Ue.fromCodePoint=z_;Ue.escapeHtml=QT;Ue.arrayReplaceAt=KT;Ue.isSpace=nv;Ue.isWhiteSpace=rv;Ue.isMdAsciiPunct=av;Ue.isPunctChar=ov;Ue.escapeRE=tv;Ue.normalizeReference=sv});var $_=A((s8,Z_)=>{var uv=ne().isSpace;Z_.exports=function(t,n){var r,l,o,a=t.pos;if(t.src.charCodeAt(a)!==10)return!1;if(r=t.pending.length-1,l=t.posMax,!n)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){for(o=r-1;o>=1&&t.pending.charCodeAt(o-1)===32;)o--;t.pending=t.pending.slice(0,o),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(a++;a<l&&uv(t.src.charCodeAt(a));)a++;return t.pos=a,!0}});var W_=A((u8,Y_)=>{var iv=ne().isSpace,Iu=[];for(Cu=0;Cu<256;Cu++)Iu.push(0);var Cu;"\\\\!\\"#$%&'()*+,./:;<=>?@[]^_\`{|}~-".split("").forEach(function(e){Iu[e.charCodeAt(0)]=1});Y_.exports=function(t,n){var r,l,o,a,s,u=t.pos,i=t.posMax;if(t.src.charCodeAt(u)!==92||(u++,u>=i))return!1;if(r=t.src.charCodeAt(u),r===10){for(n||t.push("hardbreak","br",0),u++;u<i&&(r=t.src.charCodeAt(u),!!iv(r));)u++;return t.pos=u,!0}return a=t.src[u],r>=55296&&r<=56319&&u+1<i&&(l=t.src.charCodeAt(u+1),l>=56320&&l<=57343&&(a+=t.src[u+1],u++)),o="\\\\"+a,n||(s=t.push("text_special","",0),r<256&&Iu[r]!==0?s.content=a:s.content=o,s.markup=o,s.info="escape"),t.pos=u+1,!0}});var Q_=A((i8,L_)=>{L_.exports=function(t,n){var r,l,o,a,s,u,i,c,f=t.pos,h=t.src.charCodeAt(f);if(h!==96)return!1;for(r=f,f++,l=t.posMax;f<l&&t.src.charCodeAt(f)===96;)f++;if(o=t.src.slice(r,f),i=o.length,t.backticksScanned&&(t.backticks[i]||0)<=r)return n||(t.pending+=o),t.pos+=i,!0;for(s=u=f;(s=t.src.indexOf("\`",u))!==-1;){for(u=s+1;u<l&&t.src.charCodeAt(u)===96;)u++;if(c=u-s,c===i)return n||(a=t.push("code_inline","code",0),a.markup=o,a.content=t.src.slice(f,s).replace(/\\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=u,!0;t.backticks[c]=s}return t.backticksScanned=!0,n||(t.pending+=o),t.pos+=i,!0}});var Mu=A((c8,Du)=>{Du.exports.tokenize=function(t,n){var r,l,o,a,s,u=t.pos,i=t.src.charCodeAt(u);if(n||i!==126||(l=t.scanDelims(t.pos,!0),a=l.length,s=String.fromCharCode(i),a<2))return!1;for(a%2&&(o=t.push("text","",0),o.content=s,a--),r=0;r<a;r+=2)o=t.push("text","",0),o.content=s+s,t.delimiters.push({marker:i,length:0,token:t.tokens.length-1,end:-1,open:l.can_open,close:l.can_close});return t.pos+=l.length,!0};function eh(e,t){var n,r,l,o,a,s=[],u=t.length;for(n=0;n<u;n++)l=t[n],l.marker===126&&l.end!==-1&&(o=t[l.end],a=e.tokens[l.token],a.type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",a=e.tokens[o.token],a.type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="",e.tokens[o.token-1].type==="text"&&e.tokens[o.token-1].content==="~"&&s.push(o.token-1));for(;s.length;){for(n=s.pop(),r=n+1;r<e.tokens.length&&e.tokens[r].type==="s_close";)r++;r--,n!==r&&(a=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=a)}}Du.exports.postProcess=function(t){var n,r=t.tokens_meta,l=t.tokens_meta.length;for(eh(t,t.delimiters),n=0;n<l;n++)r[n]&&r[n].delimiters&&eh(t,r[n].delimiters)}});var Fu=A((f8,Pu)=>{Pu.exports.tokenize=function(t,n){var r,l,o,a=t.pos,s=t.src.charCodeAt(a);if(n||s!==95&&s!==42)return!1;for(l=t.scanDelims(t.pos,s===42),r=0;r<l.length;r++)o=t.push("text","",0),o.content=String.fromCharCode(s),t.delimiters.push({marker:s,length:l.length,token:t.tokens.length-1,end:-1,open:l.can_open,close:l.can_close});return t.pos+=l.length,!0};function th(e,t){var n,r,l,o,a,s,u=t.length;for(n=u-1;n>=0;n--)r=t[n],!(r.marker!==95&&r.marker!==42)&&r.end!==-1&&(l=t[r.end],s=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===l.token+1,a=String.fromCharCode(r.marker),o=e.tokens[r.token],o.type=s?"strong_open":"em_open",o.tag=s?"strong":"em",o.nesting=1,o.markup=s?a+a:a,o.content="",o=e.tokens[l.token],o.type=s?"strong_close":"em_close",o.tag=s?"strong":"em",o.nesting=-1,o.markup=s?a+a:a,o.content="",s&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}Pu.exports.postProcess=function(t){var n,r=t.tokens_meta,l=t.tokens_meta.length;for(th(t,t.delimiters),n=0;n<l;n++)r[n]&&r[n].delimiters&&th(t,r[n].delimiters)}});var rh=A((p8,nh)=>{var cv=ne().normalizeReference,qu=ne().isSpace;nh.exports=function(t,n){var r,l,o,a,s,u,i,c,f,h="",_="",x=t.pos,T=t.posMax,P=t.pos,w=!0;if(t.src.charCodeAt(t.pos)!==91||(s=t.pos+1,a=t.md.helpers.parseLinkLabel(t,t.pos,!0),a<0))return!1;if(u=a+1,u<T&&t.src.charCodeAt(u)===40){for(w=!1,u++;u<T&&(l=t.src.charCodeAt(u),!(!qu(l)&&l!==10));u++);if(u>=T)return!1;if(P=u,i=t.md.helpers.parseLinkDestination(t.src,u,t.posMax),i.ok){for(h=t.md.normalizeLink(i.str),t.md.validateLink(h)?u=i.pos:h="",P=u;u<T&&(l=t.src.charCodeAt(u),!(!qu(l)&&l!==10));u++);if(i=t.md.helpers.parseLinkTitle(t.src,u,t.posMax),u<T&&P!==u&&i.ok)for(_=i.str,u=i.pos;u<T&&(l=t.src.charCodeAt(u),!(!qu(l)&&l!==10));u++);}(u>=T||t.src.charCodeAt(u)!==41)&&(w=!0),u++}if(w){if(typeof t.env.references=="undefined")return!1;if(u<T&&t.src.charCodeAt(u)===91?(P=u+1,u=t.md.helpers.parseLinkLabel(t,u),u>=0?o=t.src.slice(P,u++):u=a+1):u=a+1,o||(o=t.src.slice(s,a)),c=t.env.references[cv(o)],!c)return t.pos=x,!1;h=c.href,_=c.title}return n||(t.pos=s,t.posMax=a,f=t.push("link_open","a",1),f.attrs=r=[["href",h]],_&&r.push(["title",_]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,f=t.push("link_close","a",-1)),t.pos=u,t.posMax=T,!0}});var oh=A((_8,lh)=>{var fv=ne().normalizeReference,Bu=ne().isSpace;lh.exports=function(t,n){var r,l,o,a,s,u,i,c,f,h,_,x,T,P="",w=t.pos,m=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(u=t.pos+2,s=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),s<0))return!1;if(i=s+1,i<m&&t.src.charCodeAt(i)===40){for(i++;i<m&&(l=t.src.charCodeAt(i),!(!Bu(l)&&l!==10));i++);if(i>=m)return!1;for(T=i,f=t.md.helpers.parseLinkDestination(t.src,i,t.posMax),f.ok&&(P=t.md.normalizeLink(f.str),t.md.validateLink(P)?i=f.pos:P=""),T=i;i<m&&(l=t.src.charCodeAt(i),!(!Bu(l)&&l!==10));i++);if(f=t.md.helpers.parseLinkTitle(t.src,i,t.posMax),i<m&&T!==i&&f.ok)for(h=f.str,i=f.pos;i<m&&(l=t.src.charCodeAt(i),!(!Bu(l)&&l!==10));i++);else h="";if(i>=m||t.src.charCodeAt(i)!==41)return t.pos=w,!1;i++}else{if(typeof t.env.references=="undefined")return!1;if(i<m&&t.src.charCodeAt(i)===91?(T=i+1,i=t.md.helpers.parseLinkLabel(t,i),i>=0?a=t.src.slice(T,i++):i=s+1):i=s+1,a||(a=t.src.slice(u,s)),c=t.env.references[fv(a)],!c)return t.pos=w,!1;P=c.href,h=c.title}return n||(o=t.src.slice(u,s),t.md.inline.parse(o,t.md,t.env,x=[]),_=t.push("image","img",0),_.attrs=r=[["src",P],["alt",""]],_.children=x,_.content=o,h&&r.push(["title",h])),t.pos=i,t.posMax=m,!0}});var sh=A((h8,ah)=>{var pv=/^([a-zA-Z0-9.!#$%&'*+\\/=?^_\`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,_v=/^([a-zA-Z][a-zA-Z0-9+.\\-]{1,31}):([^<>\\x00-\\x20]*)$/;ah.exports=function(t,n){var r,l,o,a,s,u,i=t.pos;if(t.src.charCodeAt(i)!==60)return!1;for(s=t.pos,u=t.posMax;;){if(++i>=u||(a=t.src.charCodeAt(i),a===60))return!1;if(a===62)break}return r=t.src.slice(s+1,i),_v.test(r)?(l=t.md.normalizeLink(r),t.md.validateLink(l)?(n||(o=t.push("link_open","a",1),o.attrs=[["href",l]],o.markup="autolink",o.info="auto",o=t.push("text","",0),o.content=t.md.normalizeLinkText(r),o=t.push("link_close","a",-1),o.markup="autolink",o.info="auto"),t.pos+=r.length+2,!0):!1):pv.test(r)?(l=t.md.normalizeLink("mailto:"+r),t.md.validateLink(l)?(n||(o=t.push("link_open","a",1),o.attrs=[["href",l]],o.markup="autolink",o.info="auto",o=t.push("text","",0),o.content=t.md.normalizeLinkText(r),o=t.push("link_close","a",-1),o.markup="autolink",o.info="auto"),t.pos+=r.length+2,!0):!1):!1}});var Gu=A((d8,Vu)=>{var hv="[a-zA-Z_:][a-zA-Z0-9:._-]*",dv="[^\\"'=<>\`\\\\x00-\\\\x20]+",gv="'[^']*'",xv='"[^"]*"',Av="(?:"+dv+"|"+gv+"|"+xv+")",bv="(?:\\\\s+"+hv+"(?:\\\\s*=\\\\s*"+Av+")?)",uh="<[A-Za-z][A-Za-z0-9\\\\-]*"+bv+"*\\\\s*\\\\/?>",ih="<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>",kv="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",mv="<[?][\\\\s\\\\S]*?[?]>",Tv="<![A-Z]+\\\\s+[^>]*>",vv="<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>",Ev=new RegExp("^(?:"+uh+"|"+ih+"|"+kv+"|"+mv+"|"+Tv+"|"+vv+")"),Ov=new RegExp("^(?:"+uh+"|"+ih+")");Vu.exports.HTML_TAG_RE=Ev;Vu.exports.HTML_OPEN_CLOSE_TAG_RE=Ov});var fh=A((g8,ch)=>{var Sv=Gu().HTML_TAG_RE;function wv(e){return/^<a[>\\s]/i.test(e)}function Rv(e){return/^<\\/a\\s*>/i.test(e)}function Uv(e){var t=e|32;return t>=97&&t<=122}ch.exports=function(t,n){var r,l,o,a,s=t.pos;return!t.md.options.html||(o=t.posMax,t.src.charCodeAt(s)!==60||s+2>=o)||(r=t.src.charCodeAt(s+1),r!==33&&r!==63&&r!==47&&!Uv(r))||(l=t.src.slice(s).match(Sv),!l)?!1:(n||(a=t.push("html_inline","",0),a.content=t.src.slice(s,s+l[0].length),wv(a.content)&&t.linkLevel++,Rv(a.content)&&t.linkLevel--),t.pos+=l[0].length,!0)}});var dh=A((x8,hh)=>{var ph=yu(),yv=ne().has,Nv=ne().isValidEntityCode,_h=ne().fromCodePoint,Cv=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Iv=/^&([a-z][a-z0-9]{1,31});/i;hh.exports=function(t,n){var r,l,o,a,s=t.pos,u=t.posMax;if(t.src.charCodeAt(s)!==38||s+1>=u)return!1;if(r=t.src.charCodeAt(s+1),r===35){if(o=t.src.slice(s).match(Cv),o)return n||(l=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),a=t.push("text_special","",0),a.content=Nv(l)?_h(l):_h(65533),a.markup=o[0],a.info="entity"),t.pos+=o[0].length,!0}else if(o=t.src.slice(s).match(Iv),o&&yv(ph,o[1]))return n||(a=t.push("text_special","",0),a.content=ph[o[1]],a.markup=o[0],a.info="entity"),t.pos+=o[0].length,!0;return!1}});var Ah=A((A8,xh)=>{function gh(e,t){var n,r,l,o,a,s,u,i,c={},f=t.length;if(!!f){var h=0,_=-2,x=[];for(n=0;n<f;n++)if(l=t[n],x.push(0),(t[h].marker!==l.marker||_!==l.token-1)&&(h=n),_=l.token,l.length=l.length||0,!!l.close){for(c.hasOwnProperty(l.marker)||(c[l.marker]=[-1,-1,-1,-1,-1,-1]),a=c[l.marker][(l.open?3:0)+l.length%3],r=h-x[h]-1,s=r;r>a;r-=x[r]+1)if(o=t[r],o.marker===l.marker&&o.open&&o.end<0&&(u=!1,(o.close||l.open)&&(o.length+l.length)%3===0&&(o.length%3!==0||l.length%3!==0)&&(u=!0),!u)){i=r>0&&!t[r-1].open?x[r-1]+1:0,x[n]=n-r+i,x[r]=i,l.open=!1,o.end=n,o.close=!1,s=-1,_=-2;break}s!==-1&&(c[l.marker][(l.open?3:0)+(l.length||0)%3]=s)}}}xh.exports=function(t){var n,r=t.tokens_meta,l=t.tokens_meta.length;for(gh(t,t.delimiters),n=0;n<l;n++)r[n]&&r[n].delimiters&&gh(t,r[n].delimiters)}});var kh=A((b8,bh)=>{bh.exports=function(t){var n,r,l=0,o=t.tokens,a=t.tokens.length;for(n=r=0;n<a;n++)o[n].nesting<0&&l--,o[n].level=l,o[n].nesting>0&&l++,o[n].type==="text"&&n+1<a&&o[n+1].type==="text"?o[n+1].content=o[n].content+o[n+1].content:(n!==r&&(o[r]=o[n]),r++);n!==r&&(o.length=r)}});var Oh=A((k8,Eh)=>{var Ku=Wl(),mh=ne().isWhiteSpace,Th=ne().isPunctChar,vh=ne().isMdAsciiPunct;function Ll(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Ll.prototype.pushPending=function(){var e=new Ku("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};Ll.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new Ku(e,t,n),l=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],l={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(l),r};Ll.prototype.scanDelims=function(e,t){var n=e,r,l,o,a,s,u,i,c,f,h=!0,_=!0,x=this.posMax,T=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;n<x&&this.src.charCodeAt(n)===T;)n++;return o=n-e,l=n<x?this.src.charCodeAt(n):32,i=vh(r)||Th(String.fromCharCode(r)),f=vh(l)||Th(String.fromCharCode(l)),u=mh(r),c=mh(l),c?h=!1:f&&(u||i||(h=!1)),u?_=!1:i&&(c||f||(_=!1)),t?(a=h,s=_):(a=h&&(!_||i),s=_&&(!h||f)),{can_open:a,can_close:s,length:o}};Ll.prototype.Token=Ku;Eh.exports=Ll});var Rh=A((m8,wh)=>{var Sh=Oa(),Hu=[["text",w_()],["linkify",U_()],["newline",$_()],["escape",W_()],["backticks",Q_()],["strikethrough",Mu().tokenize],["emphasis",Fu().tokenize],["link",rh()],["image",oh()],["autolink",sh()],["html_inline",fh()],["entity",dh()]],ju=[["balance_pairs",Ah()],["strikethrough",Mu().postProcess],["emphasis",Fu().postProcess],["fragments_join",kh()]];function Ql(){var e;for(this.ruler=new Sh,e=0;e<Hu.length;e++)this.ruler.push(Hu[e][0],Hu[e][1]);for(this.ruler2=new Sh,e=0;e<ju.length;e++)this.ruler2.push(ju[e][0],ju[e][1])}Ql.prototype.skipToken=function(e){var t,n,r=e.pos,l=this.ruler.getRules(""),o=l.length,a=e.md.options.maxNesting,s=e.cache;if(typeof s[r]!="undefined"){e.pos=s[r];return}if(e.level<a)for(n=0;n<o&&(e.level++,t=l[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,s[r]=e.pos};Ql.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),l=r.length,o=e.posMax,a=e.md.options.maxNesting;e.pos<o;){if(e.level<a)for(n=0;n<l&&(t=r[n](e,!1),!t);n++);if(t){if(e.pos>=o)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Ql.prototype.parse=function(e,t,n,r){var l,o,a,s=new this.State(e,t,n,r);for(this.tokenize(s),o=this.ruler2.getRules(""),a=o.length,l=0;l<a;l++)o[l](s)};Ql.prototype.State=Oh();wh.exports=Ql});var Nh=A((T8,yh)=>{var Xu=ne().isSpace;function zu(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function Uh(e){var t=[],n=0,r=e.length,l,o=!1,a=0,s="";for(l=e.charCodeAt(n);n<r;)l===124&&(o?(s+=e.substring(a,n-1),a=n):(t.push(s+e.substring(a,n)),s="",a=n+1)),o=l===92,n++,l=e.charCodeAt(n);return t.push(s+e.substring(a)),t}yh.exports=function(t,n,r,l){var o,a,s,u,i,c,f,h,_,x,T,P,w,m,S,j,L,E;if(n+2>r||(c=n+1,t.sCount[c]<t.blkIndent)||t.sCount[c]-t.blkIndent>=4||(s=t.bMarks[c]+t.tShift[c],s>=t.eMarks[c])||(L=t.src.charCodeAt(s++),L!==124&&L!==45&&L!==58)||s>=t.eMarks[c]||(E=t.src.charCodeAt(s++),E!==124&&E!==45&&E!==58&&!Xu(E))||L===45&&Xu(E))return!1;for(;s<t.eMarks[c];){if(o=t.src.charCodeAt(s),o!==124&&o!==45&&o!==58&&!Xu(o))return!1;s++}for(a=zu(t,n+1),f=a.split("|"),x=[],u=0;u<f.length;u++){if(T=f[u].trim(),!T){if(u===0||u===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(T))return!1;T.charCodeAt(T.length-1)===58?x.push(T.charCodeAt(0)===58?"center":"right"):T.charCodeAt(0)===58?x.push("left"):x.push("")}if(a=zu(t,n).trim(),a.indexOf("|")===-1||t.sCount[n]-t.blkIndent>=4||(f=Uh(a),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),h=f.length,h===0||h!==x.length))return!1;if(l)return!0;for(m=t.parentType,t.parentType="table",j=t.md.block.ruler.getRules("blockquote"),_=t.push("table_open","table",1),_.map=P=[n,0],_=t.push("thead_open","thead",1),_.map=[n,n+1],_=t.push("tr_open","tr",1),_.map=[n,n+1],u=0;u<f.length;u++)_=t.push("th_open","th",1),x[u]&&(_.attrs=[["style","text-align:"+x[u]]]),_=t.push("inline","",0),_.content=f[u].trim(),_.children=[],_=t.push("th_close","th",-1);for(_=t.push("tr_close","tr",-1),_=t.push("thead_close","thead",-1),c=n+2;c<r&&!(t.sCount[c]<t.blkIndent);c++){for(S=!1,u=0,i=j.length;u<i;u++)if(j[u](t,c,r,!0)){S=!0;break}if(S||(a=zu(t,c).trim(),!a)||t.sCount[c]-t.blkIndent>=4)break;for(f=Uh(a),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),c===n+2&&(_=t.push("tbody_open","tbody",1),_.map=w=[n+2,0]),_=t.push("tr_open","tr",1),_.map=[c,c+1],u=0;u<h;u++)_=t.push("td_open","td",1),x[u]&&(_.attrs=[["style","text-align:"+x[u]]]),_=t.push("inline","",0),_.content=f[u]?f[u].trim():"",_.children=[],_=t.push("td_close","td",-1);_=t.push("tr_close","tr",-1)}return w&&(_=t.push("tbody_close","tbody",-1),w[1]=c),_=t.push("table_close","table",-1),P[1]=c,t.parentType=m,t.line=c,!0}});var Ih=A((v8,Ch)=>{Ch.exports=function(t,n,r){var l,o,a;if(t.sCount[n]-t.blkIndent<4)return!1;for(o=l=n+1;l<r;){if(t.isEmpty(l)){l++;continue}if(t.sCount[l]-t.blkIndent>=4){l++,o=l;continue}break}return t.line=o,a=t.push("code_block","code",0),a.content=t.getLines(n,o,4+t.blkIndent,!1)+\`
\`,a.map=[n,t.line],!0}});var Mh=A((E8,Dh)=>{Dh.exports=function(t,n,r,l){var o,a,s,u,i,c,f,h=!1,_=t.bMarks[n]+t.tShift[n],x=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||_+3>x||(o=t.src.charCodeAt(_),o!==126&&o!==96)||(i=_,_=t.skipChars(_,o),a=_-i,a<3)||(f=t.src.slice(i,_),s=t.src.slice(_,x),o===96&&s.indexOf(String.fromCharCode(o))>=0))return!1;if(l)return!0;for(u=n;u++,!(u>=r||(_=i=t.bMarks[u]+t.tShift[u],x=t.eMarks[u],_<x&&t.sCount[u]<t.blkIndent));)if(t.src.charCodeAt(_)===o&&!(t.sCount[u]-t.blkIndent>=4)&&(_=t.skipChars(_,o),!(_-i<a)&&(_=t.skipSpaces(_),!(_<x)))){h=!0;break}return a=t.sCount[n],t.line=u+(h?1:0),c=t.push("fence","code",0),c.info=s,c.content=t.getLines(n+1,u,a,!0),c.markup=f,c.map=[n,t.line],!0}});var qh=A((O8,Fh)=>{var Ph=ne().isSpace;Fh.exports=function(t,n,r,l){var o,a,s,u,i,c,f,h,_,x,T,P,w,m,S,j,L,E,fe,pt,va=t.lineMax,Y=t.bMarks[n]+t.tShift[n],Te=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(Y++)!==62)return!1;if(l)return!0;for(u=_=t.sCount[n]+1,t.src.charCodeAt(Y)===32?(Y++,u++,_++,o=!1,j=!0):t.src.charCodeAt(Y)===9?(j=!0,(t.bsCount[n]+_)%4===3?(Y++,u++,_++,o=!1):o=!0):j=!1,x=[t.bMarks[n]],t.bMarks[n]=Y;Y<Te&&(a=t.src.charCodeAt(Y),Ph(a));){a===9?_+=4-(_+t.bsCount[n]+(o?1:0))%4:_++;Y++}for(T=[t.bsCount[n]],t.bsCount[n]=t.sCount[n]+1+(j?1:0),c=Y>=Te,m=[t.sCount[n]],t.sCount[n]=_-u,S=[t.tShift[n]],t.tShift[n]=Y-t.bMarks[n],E=t.md.block.ruler.getRules("blockquote"),w=t.parentType,t.parentType="blockquote",h=n+1;h<r&&(pt=t.sCount[h]<t.blkIndent,Y=t.bMarks[h]+t.tShift[h],Te=t.eMarks[h],!(Y>=Te));h++){if(t.src.charCodeAt(Y++)===62&&!pt){for(u=_=t.sCount[h]+1,t.src.charCodeAt(Y)===32?(Y++,u++,_++,o=!1,j=!0):t.src.charCodeAt(Y)===9?(j=!0,(t.bsCount[h]+_)%4===3?(Y++,u++,_++,o=!1):o=!0):j=!1,x.push(t.bMarks[h]),t.bMarks[h]=Y;Y<Te&&(a=t.src.charCodeAt(Y),Ph(a));){a===9?_+=4-(_+t.bsCount[h]+(o?1:0))%4:_++;Y++}c=Y>=Te,T.push(t.bsCount[h]),t.bsCount[h]=t.sCount[h]+1+(j?1:0),m.push(t.sCount[h]),t.sCount[h]=_-u,S.push(t.tShift[h]),t.tShift[h]=Y-t.bMarks[h];continue}if(c)break;for(L=!1,s=0,i=E.length;s<i;s++)if(E[s](t,h,r,!0)){L=!0;break}if(L){t.lineMax=h,t.blkIndent!==0&&(x.push(t.bMarks[h]),T.push(t.bsCount[h]),S.push(t.tShift[h]),m.push(t.sCount[h]),t.sCount[h]-=t.blkIndent);break}x.push(t.bMarks[h]),T.push(t.bsCount[h]),S.push(t.tShift[h]),m.push(t.sCount[h]),t.sCount[h]=-1}for(P=t.blkIndent,t.blkIndent=0,fe=t.push("blockquote_open","blockquote",1),fe.markup=">",fe.map=f=[n,0],t.md.block.tokenize(t,n,h),fe=t.push("blockquote_close","blockquote",-1),fe.markup=">",t.lineMax=va,t.parentType=w,f[1]=t.line,s=0;s<S.length;s++)t.bMarks[s+n]=x[s],t.tShift[s+n]=S[s],t.sCount[s+n]=m[s],t.bsCount[s+n]=T[s];return t.blkIndent=P,!0}});var Vh=A((S8,Bh)=>{var Dv=ne().isSpace;Bh.exports=function(t,n,r,l){var o,a,s,u,i=t.bMarks[n]+t.tShift[n],c=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(o=t.src.charCodeAt(i++),o!==42&&o!==45&&o!==95))return!1;for(a=1;i<c;){if(s=t.src.charCodeAt(i++),s!==o&&!Dv(s))return!1;s===o&&a++}return a<3?!1:(l||(t.line=n+1,u=t.push("hr","hr",0),u.map=[n,t.line],u.markup=Array(a+1).join(String.fromCharCode(o))),!0)}});var Xh=A((w8,jh)=>{var Hh=ne().isSpace;function Gh(e,t){var n,r,l,o;return r=e.bMarks[t]+e.tShift[t],l=e.eMarks[t],n=e.src.charCodeAt(r++),n!==42&&n!==45&&n!==43||r<l&&(o=e.src.charCodeAt(r),!Hh(o))?-1:r}function Kh(e,t){var n,r=e.bMarks[t]+e.tShift[t],l=r,o=e.eMarks[t];if(l+1>=o||(n=e.src.charCodeAt(l++),n<48||n>57))return-1;for(;;){if(l>=o)return-1;if(n=e.src.charCodeAt(l++),n>=48&&n<=57){if(l-r>=10)return-1;continue}if(n===41||n===46)break;return-1}return l<o&&(n=e.src.charCodeAt(l),!Hh(n))?-1:l}function Mv(e,t){var n,r,l=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===l&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}jh.exports=function(t,n,r,l){var o,a,s,u,i,c,f,h,_,x,T,P,w,m,S,j,L,E,fe,pt,va,Y,Te,Ou,Ea,Su,wu,lt,Ru=!1,d_=!0;if(t.sCount[n]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[n]-t.listIndent>=4&&t.sCount[n]<t.blkIndent)return!1;if(l&&t.parentType==="paragraph"&&t.sCount[n]>=t.blkIndent&&(Ru=!0),(Te=Kh(t,n))>=0){if(f=!0,Ea=t.bMarks[n]+t.tShift[n],w=Number(t.src.slice(Ea,Te-1)),Ru&&w!==1)return!1}else if((Te=Gh(t,n))>=0)f=!1;else return!1;if(Ru&&t.skipSpaces(Te)>=t.eMarks[n])return!1;if(P=t.src.charCodeAt(Te-1),l)return!0;for(T=t.tokens.length,f?(lt=t.push("ordered_list_open","ol",1),w!==1&&(lt.attrs=[["start",w]])):lt=t.push("bullet_list_open","ul",1),lt.map=x=[n,0],lt.markup=String.fromCharCode(P),S=n,Ou=!1,wu=t.md.block.ruler.getRules("list"),E=t.parentType,t.parentType="list";S<r;){for(Y=Te,m=t.eMarks[S],c=j=t.sCount[S]+Te-(t.bMarks[n]+t.tShift[n]);Y<m;){if(o=t.src.charCodeAt(Y),o===9)j+=4-(j+t.bsCount[S])%4;else if(o===32)j++;else break;Y++}if(a=Y,a>=m?i=1:i=j-c,i>4&&(i=1),u=c+i,lt=t.push("list_item_open","li",1),lt.markup=String.fromCharCode(P),lt.map=h=[n,0],f&&(lt.info=t.src.slice(Ea,Te-1)),va=t.tight,pt=t.tShift[n],fe=t.sCount[n],L=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=u,t.tight=!0,t.tShift[n]=a-t.bMarks[n],t.sCount[n]=j,a>=m&&t.isEmpty(n+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,n,r,!0),(!t.tight||Ou)&&(d_=!1),Ou=t.line-n>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=L,t.tShift[n]=pt,t.sCount[n]=fe,t.tight=va,lt=t.push("list_item_close","li",-1),lt.markup=String.fromCharCode(P),S=n=t.line,h[1]=S,a=t.bMarks[n],S>=r||t.sCount[S]<t.blkIndent||t.sCount[n]-t.blkIndent>=4)break;for(Su=!1,s=0,_=wu.length;s<_;s++)if(wu[s](t,S,r,!0)){Su=!0;break}if(Su)break;if(f){if(Te=Kh(t,S),Te<0)break;Ea=t.bMarks[S]+t.tShift[S]}else if(Te=Gh(t,S),Te<0)break;if(P!==t.src.charCodeAt(Te-1))break}return f?lt=t.push("ordered_list_close","ol",-1):lt=t.push("bullet_list_close","ul",-1),lt.markup=String.fromCharCode(P),x[1]=S,t.line=S,t.parentType=E,d_&&Mv(t,T),!0}});var Jh=A((R8,zh)=>{var Pv=ne().normalizeReference,Sa=ne().isSpace;zh.exports=function(t,n,r,l){var o,a,s,u,i,c,f,h,_,x,T,P,w,m,S,j,L=0,E=t.bMarks[n]+t.tShift[n],fe=t.eMarks[n],pt=n+1;if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(E)!==91)return!1;for(;++E<fe;)if(t.src.charCodeAt(E)===93&&t.src.charCodeAt(E-1)!==92){if(E+1===fe||t.src.charCodeAt(E+1)!==58)return!1;break}for(u=t.lineMax,S=t.md.block.ruler.getRules("reference"),x=t.parentType,t.parentType="reference";pt<u&&!t.isEmpty(pt);pt++)if(!(t.sCount[pt]-t.blkIndent>3)&&!(t.sCount[pt]<0)){for(m=!1,c=0,f=S.length;c<f;c++)if(S[c](t,pt,u,!0)){m=!0;break}if(m)break}for(w=t.getLines(n,pt,t.blkIndent,!1).trim(),fe=w.length,E=1;E<fe;E++){if(o=w.charCodeAt(E),o===91)return!1;if(o===93){_=E;break}else o===10?L++:o===92&&(E++,E<fe&&w.charCodeAt(E)===10&&L++)}if(_<0||w.charCodeAt(_+1)!==58)return!1;for(E=_+2;E<fe;E++)if(o=w.charCodeAt(E),o===10)L++;else if(!Sa(o))break;if(T=t.md.helpers.parseLinkDestination(w,E,fe),!T.ok||(i=t.md.normalizeLink(T.str),!t.md.validateLink(i)))return!1;for(E=T.pos,L+=T.lines,a=E,s=L,P=E;E<fe;E++)if(o=w.charCodeAt(E),o===10)L++;else if(!Sa(o))break;for(T=t.md.helpers.parseLinkTitle(w,E,fe),E<fe&&P!==E&&T.ok?(j=T.str,E=T.pos,L+=T.lines):(j="",E=a,L=s);E<fe&&(o=w.charCodeAt(E),!!Sa(o));)E++;if(E<fe&&w.charCodeAt(E)!==10&&j)for(j="",E=a,L=s;E<fe&&(o=w.charCodeAt(E),!!Sa(o));)E++;return E<fe&&w.charCodeAt(E)!==10||(h=Pv(w.slice(1,_)),!h)?!1:(l||(typeof t.env.references=="undefined"&&(t.env.references={}),typeof t.env.references[h]=="undefined"&&(t.env.references[h]={title:j,href:i}),t.parentType=x,t.line=n+L+1),!0)}});var $h=A((U8,Zh)=>{Zh.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]});var Wh=A((y8,Yh)=>{var Fv=$h(),qv=Gu().HTML_OPEN_CLOSE_TAG_RE,Lr=[[/^<(script|pre|style|textarea)(?=(\\s|>|$))/i,/<\\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\\?/,/\\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\\[CDATA\\[/,/\\]\\]>/,!0],[new RegExp("^</?("+Fv.join("|")+")(?=(\\\\s|/?>|$))","i"),/^$/,!0],[new RegExp(qv.source+"\\\\s*$"),/^$/,!1]];Yh.exports=function(t,n,r,l){var o,a,s,u,i=t.bMarks[n]+t.tShift[n],c=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(i)!==60)return!1;for(u=t.src.slice(i,c),o=0;o<Lr.length&&!Lr[o][0].test(u);o++);if(o===Lr.length)return!1;if(l)return Lr[o][2];if(a=n+1,!Lr[o][1].test(u)){for(;a<r&&!(t.sCount[a]<t.blkIndent);a++)if(i=t.bMarks[a]+t.tShift[a],c=t.eMarks[a],u=t.src.slice(i,c),Lr[o][1].test(u)){u.length!==0&&a++;break}}return t.line=a,s=t.push("html_block","",0),s.map=[n,a],s.content=t.getLines(n,a,t.blkIndent,!0),!0}});var ed=A((N8,Qh)=>{var Lh=ne().isSpace;Qh.exports=function(t,n,r,l){var o,a,s,u,i=t.bMarks[n]+t.tShift[n],c=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(o=t.src.charCodeAt(i),o!==35||i>=c))return!1;for(a=1,o=t.src.charCodeAt(++i);o===35&&i<c&&a<=6;)a++,o=t.src.charCodeAt(++i);return a>6||i<c&&!Lh(o)?!1:(l||(c=t.skipSpacesBack(c,i),s=t.skipCharsBack(c,35,i),s>i&&Lh(t.src.charCodeAt(s-1))&&(c=s),t.line=n+1,u=t.push("heading_open","h"+String(a),1),u.markup="########".slice(0,a),u.map=[n,t.line],u=t.push("inline","",0),u.content=t.src.slice(i,c).trim(),u.map=[n,t.line],u.children=[],u=t.push("heading_close","h"+String(a),-1),u.markup="########".slice(0,a)),!0)}});var nd=A((C8,td)=>{td.exports=function(t,n,r){var l,o,a,s,u,i,c,f,h,_=n+1,x,T=t.md.block.ruler.getRules("paragraph");if(t.sCount[n]-t.blkIndent>=4)return!1;for(x=t.parentType,t.parentType="paragraph";_<r&&!t.isEmpty(_);_++)if(!(t.sCount[_]-t.blkIndent>3)){if(t.sCount[_]>=t.blkIndent&&(i=t.bMarks[_]+t.tShift[_],c=t.eMarks[_],i<c&&(h=t.src.charCodeAt(i),(h===45||h===61)&&(i=t.skipChars(i,h),i=t.skipSpaces(i),i>=c)))){f=h===61?1:2;break}if(!(t.sCount[_]<0)){for(o=!1,a=0,s=T.length;a<s;a++)if(T[a](t,_,r,!0)){o=!0;break}if(o)break}}return f?(l=t.getLines(n,_,t.blkIndent,!1).trim(),t.line=_+1,u=t.push("heading_open","h"+String(f),1),u.markup=String.fromCharCode(h),u.map=[n,t.line],u=t.push("inline","",0),u.content=l,u.map=[n,t.line-1],u.children=[],u=t.push("heading_close","h"+String(f),-1),u.markup=String.fromCharCode(h),t.parentType=x,!0):!1}});var ld=A((I8,rd)=>{rd.exports=function(t,n){var r,l,o,a,s,u,i=n+1,c=t.md.block.ruler.getRules("paragraph"),f=t.lineMax;for(u=t.parentType,t.parentType="paragraph";i<f&&!t.isEmpty(i);i++)if(!(t.sCount[i]-t.blkIndent>3)&&!(t.sCount[i]<0)){for(l=!1,o=0,a=c.length;o<a;o++)if(c[o](t,i,f,!0)){l=!0;break}if(l)break}return r=t.getLines(n,i,t.blkIndent,!1).trim(),t.line=i,s=t.push("paragraph_open","p",1),s.map=[n,t.line],s=t.push("inline","",0),s.content=r,s.map=[n,t.line],s.children=[],s=t.push("paragraph_close","p",-1),t.parentType=u,!0}});var sd=A((D8,ad)=>{var od=Wl(),wa=ne().isSpace;function Ht(e,t,n,r){var l,o,a,s,u,i,c,f;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",o=this.src,f=!1,a=s=i=c=0,u=o.length;s<u;s++){if(l=o.charCodeAt(s),!f)if(wa(l)){i++,l===9?c+=4-c%4:c++;continue}else f=!0;(l===10||s===u-1)&&(l!==10&&s++,this.bMarks.push(a),this.eMarks.push(s),this.tShift.push(i),this.sCount.push(c),this.bsCount.push(0),f=!1,i=0,c=0,a=s+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Ht.prototype.push=function(e,t,n){var r=new od(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Ht.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Ht.prototype.skipEmptyLines=function(t){for(var n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Ht.prototype.skipSpaces=function(t){for(var n,r=this.src.length;t<r&&(n=this.src.charCodeAt(t),!!wa(n));t++);return t};Ht.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!wa(this.src.charCodeAt(--t)))return t+1;return t};Ht.prototype.skipChars=function(t,n){for(var r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};Ht.prototype.skipCharsBack=function(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};Ht.prototype.getLines=function(t,n,r,l){var o,a,s,u,i,c,f,h=t;if(t>=n)return"";for(c=new Array(n-t),o=0;h<n;h++,o++){for(a=0,f=u=this.bMarks[h],h+1<n||l?i=this.eMarks[h]+1:i=this.eMarks[h];u<i&&a<r;){if(s=this.src.charCodeAt(u),wa(s))s===9?a+=4-(a+this.bsCount[h])%4:a++;else if(u-f<this.tShift[h])a++;else break;u++}a>r?c[o]=new Array(a-r+1).join(" ")+this.src.slice(u,i):c[o]=this.src.slice(u,i)}return c.join("")};Ht.prototype.Token=od;ad.exports=Ht});var id=A((M8,ud)=>{var Bv=Oa(),Ra=[["table",Nh(),["paragraph","reference"]],["code",Ih()],["fence",Mh(),["paragraph","reference","blockquote","list"]],["blockquote",qh(),["paragraph","reference","blockquote","list"]],["hr",Vh(),["paragraph","reference","blockquote","list"]],["list",Xh(),["paragraph","reference","blockquote"]],["reference",Jh()],["html_block",Wh(),["paragraph","reference","blockquote"]],["heading",ed(),["paragraph","reference","blockquote"]],["lheading",nd()],["paragraph",ld()]];function Ua(){this.ruler=new Bv;for(var e=0;e<Ra.length;e++)this.ruler.push(Ra[e][0],Ra[e][1],{alt:(Ra[e][2]||[]).slice()})}Ua.prototype.tokenize=function(e,t,n){for(var r,l,o=this.ruler.getRules(""),a=o.length,s=t,u=!1,i=e.md.options.maxNesting;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n||e.sCount[s]<e.blkIndent));){if(e.level>=i){e.line=n;break}for(l=0;l<a&&(r=o[l](e,s,n,!1),!r);l++);e.tight=!u,e.isEmpty(e.line-1)&&(u=!0),s=e.line,s<n&&e.isEmpty(s)&&(u=!0,s++,e.line=s)}};Ua.prototype.parse=function(e,t,n,r){var l;!e||(l=new this.State(e,t,n,r),this.tokenize(l,l.line,l.lineMax))};Ua.prototype.State=sd();ud.exports=Ua});var fd=A((P8,cd)=>{var Vv=/\\r\\n?|\\n/g,Gv=/\\0/g;cd.exports=function(t){var n;n=t.src.replace(Vv,\`
\`),n=n.replace(Gv,"\\uFFFD"),t.src=n}});var _d=A((F8,pd)=>{pd.exports=function(t){var n;t.inlineMode?(n=new t.Token("inline","",0),n.content=t.src,n.map=[0,1],n.children=[],t.tokens.push(n)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}});var dd=A((q8,hd)=>{hd.exports=function(t){var n=t.tokens,r,l,o;for(l=0,o=n.length;l<o;l++)r=n[l],r.type==="inline"&&t.md.inline.parse(r.content,t.md,t.env,r.children)}});var xd=A((B8,gd)=>{var Kv=ne().arrayReplaceAt;function Hv(e){return/^<a[>\\s]/i.test(e)}function jv(e){return/^<\\/a\\s*>/i.test(e)}gd.exports=function(t){var n,r,l,o,a,s,u,i,c,f,h,_,x,T,P,w,m=t.tokens,S;if(!!t.md.options.linkify){for(r=0,l=m.length;r<l;r++)if(!(m[r].type!=="inline"||!t.md.linkify.pretest(m[r].content)))for(o=m[r].children,x=0,n=o.length-1;n>=0;n--){if(s=o[n],s.type==="link_close"){for(n--;o[n].level!==s.level&&o[n].type!=="link_open";)n--;continue}if(s.type==="html_inline"&&(Hv(s.content)&&x>0&&x--,jv(s.content)&&x++),!(x>0)&&s.type==="text"&&t.md.linkify.test(s.content)){for(c=s.content,S=t.md.linkify.match(c),u=[],_=s.level,h=0,S.length>0&&S[0].index===0&&n>0&&o[n-1].type==="text_special"&&(S=S.slice(1)),i=0;i<S.length;i++)T=S[i].url,P=t.md.normalizeLink(T),t.md.validateLink(P)&&(w=S[i].text,S[i].schema?S[i].schema==="mailto:"&&!/^mailto:/i.test(w)?w=t.md.normalizeLinkText("mailto:"+w).replace(/^mailto:/,""):w=t.md.normalizeLinkText(w):w=t.md.normalizeLinkText("http://"+w).replace(/^http:\\/\\//,""),f=S[i].index,f>h&&(a=new t.Token("text","",0),a.content=c.slice(h,f),a.level=_,u.push(a)),a=new t.Token("link_open","a",1),a.attrs=[["href",P]],a.level=_++,a.markup="linkify",a.info="auto",u.push(a),a=new t.Token("text","",0),a.content=w,a.level=_,u.push(a),a=new t.Token("link_close","a",-1),a.level=--_,a.markup="linkify",a.info="auto",u.push(a),h=S[i].lastIndex);h<c.length&&(a=new t.Token("text","",0),a.content=c.slice(h),a.level=_,u.push(a)),m[r].children=o=Kv(o,n,u)}}}}});var kd=A((V8,bd)=>{var Ad=/\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/,Xv=/\\((c|tm|r)\\)/i,zv=/\\((c|tm|r)\\)/ig,Jv={c:"\\xA9",r:"\\xAE",tm:"\\u2122"};function Zv(e,t){return Jv[t.toLowerCase()]}function $v(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&(n.content=n.content.replace(zv,Zv)),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}function Yv(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&Ad.test(n.content)&&(n.content=n.content.replace(/\\+-/g,"\\xB1").replace(/\\.{2,}/g,"\\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\\u2014").replace(/(^|\\s)--(?=\\s|$)/mg,"$1\\u2013").replace(/(^|[^-\\s])--(?=[^-\\s]|$)/mg,"$1\\u2013")),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}bd.exports=function(t){var n;if(!!t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type==="inline"&&(Xv.test(t.tokens[n].content)&&$v(t.tokens[n].children),Ad.test(t.tokens[n].content)&&Yv(t.tokens[n].children))}});var wd=A((G8,Sd)=>{var md=ne().isWhiteSpace,Td=ne().isPunctChar,vd=ne().isMdAsciiPunct,Wv=/['"]/,Ed=/['"]/g,Od="\\u2019";function ya(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function Lv(e,t){var n,r,l,o,a,s,u,i,c,f,h,_,x,T,P,w,m,S,j,L,E;for(j=[],n=0;n<e.length;n++){for(r=e[n],u=e[n].level,m=j.length-1;m>=0&&!(j[m].level<=u);m--);if(j.length=m+1,r.type!=="text")continue;l=r.content,a=0,s=l.length;e:for(;a<s&&(Ed.lastIndex=a,o=Ed.exec(l),!!o);){if(P=w=!0,a=o.index+1,S=o[0]==="'",c=32,o.index-1>=0)c=l.charCodeAt(o.index-1);else for(m=n-1;m>=0&&!(e[m].type==="softbreak"||e[m].type==="hardbreak");m--)if(!!e[m].content){c=e[m].content.charCodeAt(e[m].content.length-1);break}if(f=32,a<s)f=l.charCodeAt(a);else for(m=n+1;m<e.length&&!(e[m].type==="softbreak"||e[m].type==="hardbreak");m++)if(!!e[m].content){f=e[m].content.charCodeAt(0);break}if(h=vd(c)||Td(String.fromCharCode(c)),_=vd(f)||Td(String.fromCharCode(f)),x=md(c),T=md(f),T?P=!1:_&&(x||h||(P=!1)),x?w=!1:h&&(T||_||(w=!1)),f===34&&o[0]==='"'&&c>=48&&c<=57&&(w=P=!1),P&&w&&(P=h,w=_),!P&&!w){S&&(r.content=ya(r.content,o.index,Od));continue}if(w){for(m=j.length-1;m>=0&&(i=j[m],!(j[m].level<u));m--)if(i.single===S&&j[m].level===u){i=j[m],S?(L=t.md.options.quotes[2],E=t.md.options.quotes[3]):(L=t.md.options.quotes[0],E=t.md.options.quotes[1]),r.content=ya(r.content,o.index,E),e[i.token].content=ya(e[i.token].content,i.pos,L),a+=E.length-1,i.token===n&&(a+=L.length-1),l=r.content,s=l.length,j.length=m;continue e}}P?j.push({token:n,pos:o.index,single:S,level:u}):w&&S&&(r.content=ya(r.content,o.index,Od))}}}Sd.exports=function(t){var n;if(!!t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type!=="inline"||!Wv.test(t.tokens[n].content)||Lv(t.tokens[n].children,t)}});var Ud=A((K8,Rd)=>{Rd.exports=function(t){var n,r,l,o,a,s,u=t.tokens;for(n=0,r=u.length;n<r;n++)if(u[n].type==="inline"){for(l=u[n].children,a=l.length,o=0;o<a;o++)l[o].type==="text_special"&&(l[o].type="text");for(o=s=0;o<a;o++)l[o].type==="text"&&o+1<a&&l[o+1].type==="text"?l[o+1].content=l[o].content+l[o+1].content:(o!==s&&(l[s]=l[o]),s++);o!==s&&(l.length=s)}}});var Cd=A((H8,Nd)=>{var Qv=Wl();function yd(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}yd.prototype.Token=Qv;Nd.exports=yd});var Dd=A((j8,Id)=>{var eE=Oa(),Ju=[["normalize",fd()],["block",_d()],["inline",dd()],["linkify",xd()],["replacements",kd()],["smartquotes",wd()],["text_join",Ud()]];function Zu(){this.ruler=new eE;for(var e=0;e<Ju.length;e++)this.ruler.push(Ju[e][0],Ju[e][1])}Zu.prototype.process=function(e){var t,n,r;for(r=this.ruler.getRules(""),t=0,n=r.length;t<n;t++)r[t](e)};Zu.prototype.State=Cd();Id.exports=Zu});var ot=A((W8,te)=>{var Na={},{LUA_VERSION_MAJOR:rE,LUA_VERSION_MINOR:lE,to_luastring:Gd}=ve(),oE=";";te.exports.LUA_PATH_SEP=oE;var aE="?";te.exports.LUA_PATH_MARK=aE;var sE="!";te.exports.LUA_EXEC_DIR=sE;var Kd=rE+"."+lE;te.exports.LUA_VDIR=Kd;{let e="/";te.exports.LUA_DIRSEP=e;let t="./lua/"+Kd+"/";te.exports.LUA_LDIR=t;let n=t;te.exports.LUA_JSDIR=n;let r=Gd(t+"?.lua;"+t+"?/init.lua;./?.lua;./?/init.lua");te.exports.LUA_PATH_DEFAULT=r;let l=Gd(n+"?.js;"+n+"loadall.js;./?.js");te.exports.LUA_JSPATH_DEFAULT=l}var uE=Na.LUA_COMPAT_FLOATSTRING||!1,iE=2147483647,Wu=-2147483648,cE=Na.LUAI_MAXSTACK||1e6,fE=Na.LUA_IDSIZE||60-1,pE=function(e){return String(e)},_E=function(e){return String(Number(e.toPrecision(14)))},hE=function(e){return e>=Wu&&e<-Wu?e:!1},Hd="",dE="",gE=\`%\${Hd}d\`,xE="%.14g",AE=function(){return 46},bE=function(e,t){if(!t)throw Error(t)},kE=Na.LUAL_BUFFERSIZE||8192,mE=function(e){if(e===0)return[e,0];var t=new DataView(new ArrayBuffer(8));t.setFloat64(0,e);var n=t.getUint32(0)>>>20&2047;n===0&&(t.setFloat64(0,e*Math.pow(2,64)),n=(t.getUint32(0)>>>20&2047)-64);var r=n-1022,l=jd(e,-r);return[l,r]},jd=function(e,t){for(var n=Math.min(3,Math.ceil(Math.abs(t)/1023)),r=e,l=0;l<n;l++)r*=Math.pow(2,Math.floor((t+l)/n));return r};te.exports.LUAI_MAXSTACK=cE;te.exports.LUA_COMPAT_FLOATSTRING=uE;te.exports.LUA_IDSIZE=fE;te.exports.LUA_INTEGER_FMT=gE;te.exports.LUA_INTEGER_FRMLEN=Hd;te.exports.LUA_MAXINTEGER=iE;te.exports.LUA_MININTEGER=Wu;te.exports.LUA_NUMBER_FMT=xE;te.exports.LUA_NUMBER_FRMLEN=dE;te.exports.LUAL_BUFFERSIZE=kE;te.exports.frexp=mE;te.exports.ldexp=jd;te.exports.lua_getlocaledecpoint=AE;te.exports.lua_integer2str=pE;te.exports.lua_number2str=_E;te.exports.lua_numbertointeger=hE;te.exports.luai_apicheck=bE});var ve=A((L8,U)=>{var eo;typeof Uint8Array.from=="function"?eo=Uint8Array.from.bind(Uint8Array):eo=function(e){let t=0,n=e.length,r=new Uint8Array(n);for(;n>t;)r[t]=e[t++];return r};var Lu;if(typeof new Uint8Array().indexOf=="function")Lu=function(e,t,n){return e.indexOf(t,n)};else{let e=[].indexOf;if(e.call(new Uint8Array(1),0)!==0)throw Error("missing .indexOf");Lu=function(t,n,r){return e.call(t,n,r)}}var Qu;typeof Uint8Array.of=="function"?Qu=Uint8Array.of.bind(Uint8Array):Qu=function(){return eo(arguments)};var to=function(e){return e instanceof Uint8Array},TE=function(e,t){if(e!==t){let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1}return!0},jt="cannot convert invalid utf8 to javascript string",vE=function(e,t,n,r){if(!to(e))throw new TypeError("to_jsstring expects a Uint8Array");n===void 0?n=e.length:n=Math.min(e.length,n);let l="";for(let o=t!==void 0?t:0;o<n;){let a=e[o++];if(a<128)l+=String.fromCharCode(a);else if(a<194||a>244){if(!r)throw RangeError(jt);l+="\\uFFFD"}else if(a<=223){if(o>=n){if(!r)throw RangeError(jt);l+="\\uFFFD";continue}let s=e[o++];if((s&192)!==128){if(!r)throw RangeError(jt);l+="\\uFFFD";continue}l+=String.fromCharCode(((a&31)<<6)+(s&63))}else if(a<=239){if(o+1>=n){if(!r)throw RangeError(jt);l+="\\uFFFD";continue}let s=e[o++];if((s&192)!==128){if(!r)throw RangeError(jt);l+="\\uFFFD";continue}let u=e[o++];if((u&192)!==128){if(!r)throw RangeError(jt);l+="\\uFFFD";continue}let i=((a&15)<<12)+((s&63)<<6)+(u&63);if(i<=65535)l+=String.fromCharCode(i);else{i-=65536;let c=(i>>10)+55296,f=i%1024+56320;l+=String.fromCharCode(c,f)}}else{if(o+2>=n){if(!r)throw RangeError(jt);l+="\\uFFFD";continue}let s=e[o++];if((s&192)!==128){if(!r)throw RangeError(jt);l+="\\uFFFD";continue}let u=e[o++];if((u&192)!==128){if(!r)throw RangeError(jt);l+="\\uFFFD";continue}let i=e[o++];if((i&192)!==128){if(!r)throw RangeError(jt);l+="\\uFFFD";continue}let c=((a&7)<<18)+((s&63)<<12)+((u&63)<<6)+(i&63);c-=65536;let f=(c>>10)+55296,h=c%1024+56320;l+=String.fromCharCode(f,h)}}return l},EE=";,/?:@&=+$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789,-_.!~*'()#".split("").reduce(function(e,t){return e[t.charCodeAt(0)]=!0,e},{}),OE=function(e){if(!to(e))throw new TypeError("to_uristring expects a Uint8Array");let t="";for(let n=0;n<e.length;n++){let r=e[n];EE[r]?t+=String.fromCharCode(r):t+="%"+(r<16?"0":"")+r.toString(16)}return t},Xd={},ti=function(e,t){if(typeof e!="string")throw new TypeError("to_luastring expects a javascript string");if(t){let o=Xd[e];if(to(o))return o}let n=e.length,r=Array(n),l=0;for(let o=0;o<n;++o){let a=e.charCodeAt(o);if(a<=127)r[l++]=a;else if(a<=2047)r[l++]=192|a>>6,r[l++]=128|a&63;else{if(a>=55296&&a<=56319&&o+1<n){let s=e.charCodeAt(o+1);s>=56320&&s<=57343&&(o++,a=(a-55296)*1024+s+9216)}a<=65535?(r[l++]=224|a>>12,r[l++]=128|a>>6&63,r[l++]=128|a&63):(r[l++]=240|a>>18,r[l++]=128|a>>12&63,r[l++]=128|a>>6&63,r[l++]=128|a&63)}}return r=eo(r),t&&(Xd[e]=r),r},SE=function(e){if(!to(e))if(typeof e=="string")e=ti(e);else throw new TypeError("expects an array of bytes or javascript string");return e};U.exports.luastring_from=eo;U.exports.luastring_indexOf=Lu;U.exports.luastring_of=Qu;U.exports.is_luastring=to;U.exports.luastring_eq=TE;U.exports.to_jsstring=vE;U.exports.to_uristring=OE;U.exports.to_luastring=ti;U.exports.from_userstring=SE;var wE=ti("\\x1BLua"),zd="5",Jd="3",RE=503,Zd="4",$d="Lua "+zd+"."+Jd,Yd=$d+"."+Zd,UE=Yd+"  Copyright (C) 1994-2017 Lua.org, PUC-Rio",yE="R. Ierusalimschy, L. H. de Figueiredo, W. Celes";U.exports.LUA_SIGNATURE=wE;U.exports.LUA_VERSION_MAJOR=zd;U.exports.LUA_VERSION_MINOR=Jd;U.exports.LUA_VERSION_NUM=RE;U.exports.LUA_VERSION_RELEASE=Zd;U.exports.LUA_VERSION=$d;U.exports.LUA_RELEASE=Yd;U.exports.LUA_COPYRIGHT=UE;U.exports.LUA_AUTHORS=yE;var NE={LUA_OK:0,LUA_YIELD:1,LUA_ERRRUN:2,LUA_ERRSYNTAX:3,LUA_ERRMEM:4,LUA_ERRGCMM:5,LUA_ERRERR:6},We={LUA_TNONE:-1,LUA_TNIL:0,LUA_TBOOLEAN:1,LUA_TLIGHTUSERDATA:2,LUA_TNUMBER:3,LUA_TSTRING:4,LUA_TTABLE:5,LUA_TFUNCTION:6,LUA_TUSERDATA:7,LUA_TTHREAD:8,LUA_NUMTAGS:9};We.LUA_TSHRSTR=We.LUA_TSTRING|0<<4;We.LUA_TLNGSTR=We.LUA_TSTRING|1<<4;We.LUA_TNUMFLT=We.LUA_TNUMBER|0<<4;We.LUA_TNUMINT=We.LUA_TNUMBER|1<<4;We.LUA_TLCL=We.LUA_TFUNCTION|0<<4;We.LUA_TLCF=We.LUA_TFUNCTION|1<<4;We.LUA_TCCL=We.LUA_TFUNCTION|2<<4;var CE=0,IE=1,DE=2,ME=3,PE=4,FE=5,qE=6,BE=7,VE=8,GE=9,KE=10,HE=11,jE=12,XE=13,zE=0,JE=1,ZE=2,$E=20,{LUAI_MAXSTACK:YE}=ot(),Wd=-YE-1e3,WE=function(e){return Wd-e},LE=1,Ld=2,QE=Ld,ei=class{constructor(){this.event=NaN,this.name=null,this.namewhat=null,this.what=null,this.source=null,this.currentline=NaN,this.linedefined=NaN,this.lastlinedefined=NaN,this.nups=NaN,this.nparams=NaN,this.isvararg=NaN,this.istailcall=NaN,this.short_src=null,this.i_ci=null}},Qd=0,e0=1,t0=2,n0=3,eO=4,tO=1<<Qd,nO=1<<e0,rO=1<<t0,lO=1<<n0;U.exports.LUA_HOOKCALL=Qd;U.exports.LUA_HOOKCOUNT=n0;U.exports.LUA_HOOKLINE=t0;U.exports.LUA_HOOKRET=e0;U.exports.LUA_HOOKTAILCALL=eO;U.exports.LUA_MASKCALL=tO;U.exports.LUA_MASKCOUNT=lO;U.exports.LUA_MASKLINE=rO;U.exports.LUA_MASKRET=nO;U.exports.LUA_MINSTACK=$E;U.exports.LUA_MULTRET=-1;U.exports.LUA_OPADD=CE;U.exports.LUA_OPBAND=BE;U.exports.LUA_OPBNOT=XE;U.exports.LUA_OPBOR=VE;U.exports.LUA_OPBXOR=GE;U.exports.LUA_OPDIV=FE;U.exports.LUA_OPEQ=zE;U.exports.LUA_OPIDIV=qE;U.exports.LUA_OPLE=ZE;U.exports.LUA_OPLT=JE;U.exports.LUA_OPMOD=ME;U.exports.LUA_OPMUL=DE;U.exports.LUA_OPPOW=PE;U.exports.LUA_OPSHL=KE;U.exports.LUA_OPSHR=HE;U.exports.LUA_OPSUB=IE;U.exports.LUA_OPUNM=jE;U.exports.LUA_REGISTRYINDEX=Wd;U.exports.LUA_RIDX_GLOBALS=Ld;U.exports.LUA_RIDX_LAST=QE;U.exports.LUA_RIDX_MAINTHREAD=LE;U.exports.constant_types=We;U.exports.lua_Debug=ei;U.exports.lua_upvalueindex=WE;U.exports.thread_status=NE});var _t=A((Q8,Fe)=>{var Xt=ve(),r0="0",l0="1",oO=1,o0="4",a0="Fengari "+r0+"."+l0,s0=a0+"."+o0,u0="B. Giannangeli, Daurnimator",aO=s0+"  Copyright (C) 2017-2018 "+u0+\`
Based on: \`+Xt.LUA_COPYRIGHT;Fe.exports.FENGARI_AUTHORS=u0;Fe.exports.FENGARI_COPYRIGHT=aO;Fe.exports.FENGARI_RELEASE=s0;Fe.exports.FENGARI_VERSION=a0;Fe.exports.FENGARI_VERSION_MAJOR=r0;Fe.exports.FENGARI_VERSION_MINOR=l0;Fe.exports.FENGARI_VERSION_NUM=oO;Fe.exports.FENGARI_VERSION_RELEASE=o0;Fe.exports.is_luastring=Xt.is_luastring;Fe.exports.luastring_eq=Xt.luastring_eq;Fe.exports.luastring_from=Xt.luastring_from;Fe.exports.luastring_indexOf=Xt.luastring_indexOf;Fe.exports.luastring_of=Xt.luastring_of;Fe.exports.to_jsstring=Xt.to_jsstring;Fe.exports.to_luastring=Xt.to_luastring;Fe.exports.to_uristring=Xt.to_uristring;Fe.exports.from_userstring=Xt.from_userstring});var at=A((e6,un)=>{var{luai_apicheck:i0}=ot(),c0=function(e){if(!e)throw Error("assertion failed")};un.exports.lua_assert=c0;un.exports.luai_apicheck=i0||function(e,t){return c0(t)};var sO=function(e,t,n){return i0(e,t&&n)};un.exports.api_check=sO;var uO=200;un.exports.LUAI_MAXCCALLS=uO;var iO=32;un.exports.LUA_MINBUFFER=iO;var cO=function(e,t,n){let r=t%n;return r*n<0&&(r+=n),r};un.exports.luai_nummod=cO;var fO=2147483647;un.exports.MAX_INT=fO;var pO=-2147483648;un.exports.MIN_INT=pO});var ni=A((t6,cr)=>{var{luastring_of:_O}=ve(),el=_O(0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,22,22,22,22,22,22,22,22,22,22,4,4,4,4,4,4,4,21,21,21,21,21,21,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,5,4,21,21,21,21,21,21,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),f0=0,p0=1,hO=2,dO=3,gO=4,xO=function(e){return(el[e+1]&1<<p0)!==0},AO=function(e){return(el[e+1]&1<<gO)!==0},bO=function(e){return(el[e+1]&1<<hO)!==0},kO=function(e){return(el[e+1]&1<<dO)!==0},mO=function(e){return(el[e+1]&1<<f0)!==0},TO=function(e){return(el[e+1]&(1<<f0|1<<p0))!==0};cr.exports.lisdigit=xO;cr.exports.lislalnum=TO;cr.exports.lislalpha=mO;cr.exports.lisprint=bO;cr.exports.lisspace=kO;cr.exports.lisxdigit=AO});var zt=A((n6,Mn)=>{var{is_luastring:vO,luastring_eq:EO,luastring_from:OO,to_luastring:SO}=ve(),{lua_assert:no}=at(),fr=class{constructor(t,n){this.hash=null,this.realstring=n}getstr(){return this.realstring}tsslen(){return this.realstring.length}},wO=function(e,t){return no(e instanceof fr),no(t instanceof fr),e==t||EO(e.realstring,t.realstring)},_0=function(e){no(vO(e));let t=e.length,n="|";for(let r=0;r<t;r++)n+=e[r].toString(16);return n},RO=function(e){return no(e instanceof fr),e.hash===null&&(e.hash=_0(e.getstr())),e.hash},ri=function(e,t){return no(t instanceof Uint8Array),new fr(e,t)},UO=function(e,t){return ri(e,OO(t))},yO=function(e,t){return ri(e,SO(t))};Mn.exports.luaS_eqlngstr=wO;Mn.exports.luaS_hash=_0;Mn.exports.luaS_hashlongstr=RO;Mn.exports.luaS_bless=ri;Mn.exports.luaS_new=UO;Mn.exports.luaS_newliteral=yO;Mn.exports.TString=fr});var Jt=A((r6,Ct)=>{var{constant_types:{LUA_TBOOLEAN:NO,LUA_TCCL:CO,LUA_TLCF:IO,LUA_TLCL:DO,LUA_TLIGHTUSERDATA:MO,LUA_TLNGSTR:PO,LUA_TNIL:g0,LUA_TNUMFLT:FO,LUA_TNUMINT:ai,LUA_TSHRSTR:qO,LUA_TTABLE:BO,LUA_TTHREAD:VO,LUA_TUSERDATA:GO},to_luastring:li}=ve(),{lua_assert:lo}=at(),oi=fn(),Le=ht(),{luaS_hashlongstr:x0,TString:KO}=zt(),HO=cn(),h0=new WeakMap,d0=function(e){let t=h0.get(e);return t||(t={},h0.set(e,t)),t},si=function(e,t){switch(t.type){case g0:return oi.luaG_runerror(e,li("table index is nil",!0));case FO:if(isNaN(t.value))return oi.luaG_runerror(e,li("table index is NaN",!0));case ai:case NO:case BO:case DO:case IO:case CO:case GO:case VO:return t.value;case qO:case PO:return x0(t.tsvalue());case MO:{let n=t.value;switch(typeof n){case"string":return"*"+n;case"number":return"#"+n;case"boolean":return n?"?true":"?false";case"function":return d0(n);case"object":if(n instanceof HO.lua_State&&n.l_G===e.l_G||n instanceof ro||n instanceof Le.Udata||n instanceof Le.LClosure||n instanceof Le.CClosure)return d0(n);default:return n}}default:throw new Error("unknown key type: "+t.type)}},ro=class{constructor(t){this.id=t.l_G.id_counter++,this.strong=new Map,this.dead_strong=new Map,this.dead_weak=void 0,this.f=void 0,this.l=void 0,this.metatable=null,this.flags=-1}},jO=function(e){e.flags=0},A0=function(e,t,n,r){e.dead_strong.clear(),e.dead_weak=void 0;let l=null,o={key:n,value:r,p:l=e.l,n:void 0};e.f||(e.f=o),l&&(l.n=o),e.strong.set(t,o),e.l=o},XO=function(e){return typeof e=="object"?e!==null:typeof e=="function"},b0=function(e,t){let n=e.strong.get(t);if(n){n.key.setdeadvalue(),n.value=void 0;let r=n.n,l=n.p;n.p=void 0,l&&(l.n=r),r&&(r.p=l),e.f===n&&(e.f=r),e.l===n&&(e.l=l),e.strong.delete(t),XO(t)?(e.dead_weak||(e.dead_weak=new WeakMap),e.dead_weak.set(t,n)):e.dead_strong.set(t,n)}},zO=function(e){return new ro(e)},ui=function(e,t){let n=e.strong.get(t);return n?n.value:Le.luaO_nilobject},k0=function(e,t){return lo(typeof t=="number"&&(t|0)===t),ui(e,t)},JO=function(e,t){return lo(t instanceof KO),ui(e,x0(t))},ZO=function(e,t,n){return lo(n instanceof Le.TValue),n.ttisnil()||n.ttisfloat()&&isNaN(n.value)?Le.luaO_nilobject:ui(t,si(e,n))},$O=function(e,t,n){lo(typeof t=="number"&&(t|0)===t&&n instanceof Le.TValue);let r=t;if(n.ttisnil()){b0(e,r);return}let l=e.strong.get(r);if(l)l.value.setfrom(n);else{let o=new Le.TValue(ai,t),a=new Le.TValue(n.type,n.value);A0(e,r,o,a)}},YO=function(e,t,n,r){lo(n instanceof Le.TValue);let l=si(e,n);if(r.ttisnil()){b0(t,l);return}let o=t.strong.get(l);if(o)o.value.setfrom(r);else{let a,s=n.value;n.ttisfloat()&&(s|0)===s?a=new Le.TValue(ai,s):a=new Le.TValue(n.type,s);let u=new Le.TValue(r.type,r.value);A0(t,l,a,u)}},WO=function(e){let t=0,n=e.strong.size+1;for(;n-t>1;){let r=Math.floor((t+n)/2);k0(e,r).ttisnil()?n=r:t=r}return t},LO=function(e,t,n){let r=e.stack[n],l;if(r.type===g0){if(l=t.f,!l)return!1}else{let o=si(e,r);if(l=t.strong.get(o),l){if(l=l.n,!l)return!1}else{if(l=t.dead_weak&&t.dead_weak.get(o)||t.dead_strong.get(o),!l)return oi.luaG_runerror(e,li("invalid key to 'next'"));do if(l=l.n,!l)return!1;while(l.key.ttisdeadkey())}}return Le.setobj2s(e,n,l.key),Le.setobj2s(e,n+1,l.value),!0};Ct.exports.invalidateTMcache=jO;Ct.exports.luaH_get=ZO;Ct.exports.luaH_getint=k0;Ct.exports.luaH_getn=WO;Ct.exports.luaH_getstr=JO;Ct.exports.luaH_setfrom=YO;Ct.exports.luaH_setint=$O;Ct.exports.luaH_new=zO;Ct.exports.luaH_next=LO;Ct.exports.Table=ro});var gr=A((l6,O)=>{var QO=["MOVE","LOADK","LOADKX","LOADBOOL","LOADNIL","GETUPVAL","GETTABUP","GETTABLE","SETTABUP","SETUPVAL","SETTABLE","NEWTABLE","SELF","ADD","SUB","MUL","MOD","POW","DIV","IDIV","BAND","BOR","BXOR","SHL","SHR","UNM","BNOT","NOT","LEN","CONCAT","JMP","EQ","LT","LE","TEST","TESTSET","CALL","TAILCALL","RETURN","FORLOOP","FORPREP","TFORCALL","TFORLOOP","SETLIST","CLOSURE","VARARG","EXTRAARG"],eS={OP_MOVE:0,OP_LOADK:1,OP_LOADKX:2,OP_LOADBOOL:3,OP_LOADNIL:4,OP_GETUPVAL:5,OP_GETTABUP:6,OP_GETTABLE:7,OP_SETTABUP:8,OP_SETUPVAL:9,OP_SETTABLE:10,OP_NEWTABLE:11,OP_SELF:12,OP_ADD:13,OP_SUB:14,OP_MUL:15,OP_MOD:16,OP_POW:17,OP_DIV:18,OP_IDIV:19,OP_BAND:20,OP_BOR:21,OP_BXOR:22,OP_SHL:23,OP_SHR:24,OP_UNM:25,OP_BNOT:26,OP_NOT:27,OP_LEN:28,OP_CONCAT:29,OP_JMP:30,OP_EQ:31,OP_LT:32,OP_LE:33,OP_TEST:34,OP_TESTSET:35,OP_CALL:36,OP_TAILCALL:37,OP_RETURN:38,OP_FORLOOP:39,OP_FORPREP:40,OP_TFORCALL:41,OP_TFORLOOP:42,OP_SETLIST:43,OP_CLOSURE:44,OP_VARARG:45,OP_EXTRAARG:46},Ae=0,pe=1,Qe=2,K=3,G=0,Ca=1,oo=2,m0=3,io=[0<<7|1<<6|Qe<<4|Ae<<2|G,0<<7|1<<6|K<<4|Ae<<2|Ca,0<<7|1<<6|Ae<<4|Ae<<2|Ca,0<<7|1<<6|pe<<4|pe<<2|G,0<<7|1<<6|pe<<4|Ae<<2|G,0<<7|1<<6|pe<<4|Ae<<2|G,0<<7|1<<6|pe<<4|K<<2|G,0<<7|1<<6|Qe<<4|K<<2|G,0<<7|0<<6|K<<4|K<<2|G,0<<7|0<<6|pe<<4|Ae<<2|G,0<<7|0<<6|K<<4|K<<2|G,0<<7|1<<6|pe<<4|pe<<2|G,0<<7|1<<6|Qe<<4|K<<2|G,0<<7|1<<6|K<<4|K<<2|G,0<<7|1<<6|K<<4|K<<2|G,0<<7|1<<6|K<<4|K<<2|G,0<<7|1<<6|K<<4|K<<2|G,0<<7|1<<6|K<<4|K<<2|G,0<<7|1<<6|K<<4|K<<2|G,0<<7|1<<6|K<<4|K<<2|G,0<<7|1<<6|K<<4|K<<2|G,0<<7|1<<6|K<<4|K<<2|G,0<<7|1<<6|K<<4|K<<2|G,0<<7|1<<6|K<<4|K<<2|G,0<<7|1<<6|K<<4|K<<2|G,0<<7|1<<6|Qe<<4|Ae<<2|G,0<<7|1<<6|Qe<<4|Ae<<2|G,0<<7|1<<6|Qe<<4|Ae<<2|G,0<<7|1<<6|Qe<<4|Ae<<2|G,0<<7|1<<6|Qe<<4|Qe<<2|G,0<<7|0<<6|Qe<<4|Ae<<2|oo,1<<7|0<<6|K<<4|K<<2|G,1<<7|0<<6|K<<4|K<<2|G,1<<7|0<<6|K<<4|K<<2|G,1<<7|0<<6|Ae<<4|pe<<2|G,1<<7|1<<6|Qe<<4|pe<<2|G,0<<7|1<<6|pe<<4|pe<<2|G,0<<7|1<<6|pe<<4|pe<<2|G,0<<7|0<<6|pe<<4|Ae<<2|G,0<<7|1<<6|Qe<<4|Ae<<2|oo,0<<7|1<<6|Qe<<4|Ae<<2|oo,0<<7|0<<6|Ae<<4|pe<<2|G,0<<7|1<<6|Qe<<4|Ae<<2|oo,0<<7|0<<6|pe<<4|pe<<2|G,0<<7|1<<6|pe<<4|Ae<<2|Ca,0<<7|1<<6|pe<<4|Ae<<2|G,0<<7|0<<6|pe<<4|pe<<2|m0],tS=function(e){return io[e]&3},nS=function(e){return io[e]>>4&3},rS=function(e){return io[e]>>2&3},lS=function(e){return io[e]&1<<6},oS=function(e){return io[e]&1<<7},Pn=9,Fn=9,pr=Pn+Fn,hr=8,ao=Pn+Fn+hr,tl=6,Zt=0,qn=Zt+tl,dr=qn+hr,so=dr+Pn,_r=dr,uo=qn,T0=(1<<pr)-1,Ia=T0>>1,aS=(1<<ao)-1,v0=(1<<hr)-1,sS=(1<<Fn)-1,uS=(1<<Pn)-1,co=1<<Fn-1,iS=co-1,cS=v0,fS=function(e){return e&co},pS=function(e){return e&~co},_S=function(e){return e|co},He=function(e,t){return~(-1<<e)<<t},E0=function(e,t){return~He(e,t)},hS=function(e){return e.opcode},dS=function(e,t){return e.code=e.code&E0(tl,Zt)|t<<Zt&He(tl,Zt),nl(e)},fo=function(e,t,n,r){return e.code=e.code&E0(r,n)|t<<n&He(r,n),nl(e)},gS=function(e){return e.A},xS=function(e,t){return fo(e,t,qn,hr)},AS=function(e){return e.B},bS=function(e,t){return fo(e,t,so,Fn)},kS=function(e){return e.C},mS=function(e,t){return fo(e,t,dr,Pn)},TS=function(e){return e.Bx},O0=function(e,t){return fo(e,t,_r,pr)},vS=function(e){return e.Ax},ES=function(e,t){return fo(e,t,uo,ao)},OS=function(e){return e.sBx},SS=function(e,t){return O0(e,t+Ia)},nl=function(e){if(typeof e=="number")return{code:e,opcode:e>>Zt&He(tl,0),A:e>>qn&He(hr,0),B:e>>so&He(Fn,0),C:e>>dr&He(Pn,0),Bx:e>>_r&He(pr,0),Ax:e>>uo&He(ao,0),sBx:(e>>_r&He(pr,0))-Ia};{let t=e.code;return e.opcode=t>>Zt&He(tl,0),e.A=t>>qn&He(hr,0),e.B=t>>so&He(Fn,0),e.C=t>>dr&He(Pn,0),e.Bx=t>>_r&He(pr,0),e.Ax=t>>uo&He(ao,0),e.sBx=(t>>_r&He(pr,0))-Ia,e}},wS=function(e,t,n,r){return nl(e<<Zt|t<<qn|n<<so|r<<dr)},RS=function(e,t,n){return nl(e<<Zt|t<<qn|n<<_r)},US=function(e,t){return nl(e<<Zt|t<<uo)},yS=50;O.exports.BITRK=co;O.exports.CREATE_ABC=wS;O.exports.CREATE_ABx=RS;O.exports.CREATE_Ax=US;O.exports.GET_OPCODE=hS;O.exports.GETARG_A=gS;O.exports.GETARG_B=AS;O.exports.GETARG_C=kS;O.exports.GETARG_Bx=TS;O.exports.GETARG_Ax=vS;O.exports.GETARG_sBx=OS;O.exports.INDEXK=pS;O.exports.ISK=fS;O.exports.LFIELDS_PER_FLUSH=yS;O.exports.MAXARG_A=v0;O.exports.MAXARG_Ax=aS;O.exports.MAXARG_B=sS;O.exports.MAXARG_Bx=T0;O.exports.MAXARG_C=uS;O.exports.MAXARG_sBx=Ia;O.exports.MAXINDEXRK=iS;O.exports.NO_REG=cS;O.exports.OpArgK=K;O.exports.OpArgN=Ae;O.exports.OpArgR=Qe;O.exports.OpArgU=pe;O.exports.OpCodes=QO;O.exports.OpCodesI=eS;O.exports.POS_A=qn;O.exports.POS_Ax=uo;O.exports.POS_B=so;O.exports.POS_Bx=_r;O.exports.POS_C=dr;O.exports.POS_OP=Zt;O.exports.RKASK=_S;O.exports.SETARG_A=xS;O.exports.SETARG_Ax=ES;O.exports.SETARG_B=bS;O.exports.SETARG_Bx=O0;O.exports.SETARG_C=mS;O.exports.SETARG_sBx=SS;O.exports.SET_OPCODE=dS;O.exports.SIZE_A=hr;O.exports.SIZE_Ax=ao;O.exports.SIZE_B=Fn;O.exports.SIZE_Bx=pr;O.exports.SIZE_C=Pn;O.exports.SIZE_OP=tl;O.exports.fullins=nl;O.exports.getBMode=nS;O.exports.getCMode=rS;O.exports.getOpMode=tS;O.exports.iABC=G;O.exports.iABx=Ca;O.exports.iAsBx=oo;O.exports.iAx=m0;O.exports.testAMode=lS;O.exports.testTMode=oS});var Ar=A((o6,Se)=>{var{LUA_MASKLINE:NS,LUA_MASKCOUNT:CS,LUA_MULTRET:IS,constant_types:{LUA_TBOOLEAN:DS,LUA_TLCF:MS,LUA_TLIGHTUSERDATA:PS,LUA_TLNGSTR:y0,LUA_TNIL:FS,LUA_TNUMBER:N0,LUA_TNUMFLT:qS,LUA_TNUMINT:BS,LUA_TSHRSTR:C0,LUA_TTABLE:I0,LUA_TUSERDATA:VS},to_luastring:$t}=ve(),{INDEXK:D0,ISK:M0,LFIELDS_PER_FLUSH:GS,OpCodesI:{OP_ADD:P0,OP_BAND:F0,OP_BNOT:q0,OP_BOR:B0,OP_BXOR:V0,OP_CALL:fi,OP_CLOSURE:KS,OP_CONCAT:G0,OP_DIV:K0,OP_EQ:H0,OP_EXTRAARG:ii,OP_FORLOOP:HS,OP_FORPREP:jS,OP_GETTABLE:j0,OP_GETTABUP:X0,OP_GETUPVAL:XS,OP_IDIV:z0,OP_JMP:J0,OP_LE:pi,OP_LEN:Z0,OP_LOADBOOL:zS,OP_LOADK:JS,OP_LOADKX:ZS,OP_LOADNIL:$S,OP_LT:$0,OP_MOD:Y0,OP_MOVE:YS,OP_MUL:W0,OP_NEWTABLE:WS,OP_NOT:LS,OP_POW:L0,OP_RETURN:QS,OP_SELF:Q0,OP_SETLIST:ew,OP_SETTABLE:tw,OP_SETTABUP:nw,OP_SETUPVAL:rw,OP_SHL:eg,OP_SHR:tg,OP_SUB:ng,OP_TAILCALL:lw,OP_TEST:ow,OP_TESTSET:aw,OP_TFORCALL:rg,OP_TFORLOOP:_i,OP_UNM:lg,OP_VARARG:sw}}=gr(),{LUA_MAXINTEGER:uw,LUA_MININTEGER:iw,lua_numbertointeger:cw}=ot(),{lua_assert:Dt,luai_nummod:fw}=at(),re=ht(),Ma=kr(),Vn=cn(),{luaS_bless:pw,luaS_eqlngstr:_w,luaS_hashlongstr:S0}=zt(),qe=Mt(),R=br(),xr=Jt(),dt=fn(),hw=function(e){let t=e.ci,n=t.l_base,r=t.l_code[t.l_savedpc-1],l=r.opcode;switch(l){case P0:case ng:case W0:case K0:case z0:case F0:case B0:case V0:case eg:case tg:case Y0:case L0:case lg:case q0:case Z0:case X0:case j0:case Q0:{re.setobjs2s(e,n+r.A,e.top-1),delete e.stack[--e.top];break}case pi:case $0:case H0:{let o=!e.stack[e.top-1].l_isfalse();delete e.stack[--e.top],t.callstatus&Vn.CIST_LEQ&&(Dt(l===pi),t.callstatus^=Vn.CIST_LEQ,o=!o),Dt(t.l_code[t.l_savedpc].opcode===J0),o!==!!r.A&&t.l_savedpc++;break}case G0:{let o=e.top-1,a=r.B,s=o-1-(n+a);re.setobjs2s(e,o-2,o),s>1&&(e.top=o-1,bi(e,s)),re.setobjs2s(e,t.l_base+r.A,e.top-1),qe.adjust_top(e,t.top);break}case rg:{Dt(t.l_code[t.l_savedpc].opcode===_i),qe.adjust_top(e,t.top);break}case fi:{r.C-1>=0&&qe.adjust_top(e,t.top);break}}},w0=function(e,t,n){return t+n.A},Bn=function(e,t,n){return t+n.B},je=function(e,t,n,r){return M0(r.B)?n[D0(r.B)]:e.stack[t+r.B]},Ee=function(e,t,n,r){return M0(r.C)?n[D0(r.C)]:e.stack[t+r.C]},dw=function(e){let t=e.ci;t.callstatus|=Vn.CIST_FRESH;e:for(;;){Dt(t===e.ci);let n=t.func.value,r=n.p.k,l=t.l_base,o=t.l_code[t.l_savedpc++];e.hookmask&(NS|CS)&&dt.luaG_traceexec(e);let a=w0(e,l,o);switch(o.opcode){case YS:{re.setobjs2s(e,a,Bn(e,l,o));break}case JS:{let u=r[o.Bx];re.setobj2s(e,a,u);break}case ZS:{Dt(t.l_code[t.l_savedpc].opcode===ii);let u=r[t.l_code[t.l_savedpc++].Ax];re.setobj2s(e,a,u);break}case zS:{e.stack[a].setbvalue(o.B!==0),o.C!==0&&t.l_savedpc++;break}case $S:{for(let u=0;u<=o.B;u++)e.stack[a+u].setnilvalue();break}case XS:{let u=o.B;re.setobj2s(e,a,n.upvals[u]);break}case X0:{let u=n.upvals[o.B],i=Ee(e,l,r,o);Da(e,u,i,a);break}case j0:{let u=e.stack[Bn(e,l,o)],i=Ee(e,l,r,o);Da(e,u,i,a);break}case nw:{let u=n.upvals[o.A],i=je(e,l,r,o),c=Ee(e,l,r,o);di(e,u,i,c);break}case rw:{n.upvals[o.B].setfrom(e.stack[a]);break}case tw:{let u=e.stack[a],i=je(e,l,r,o),c=Ee(e,l,r,o);di(e,u,i,c);break}case WS:{e.stack[a].sethvalue(xr.luaH_new(e));break}case Q0:{let u=Bn(e,l,o),i=Ee(e,l,r,o);re.setobjs2s(e,a+1,u),Da(e,e.stack[u],i,a);break}case P0:{let u=je(e,l,r,o),i=Ee(e,l,r,o),c,f;u.ttisinteger()&&i.ttisinteger()?e.stack[a].setivalue(u.value+i.value|0):(c=Oe(u))!==!1&&(f=Oe(i))!==!1?e.stack[a].setfltvalue(c+f):R.luaT_trybinTM(e,u,i,e.stack[a],R.TMS.TM_ADD);break}case ng:{let u=je(e,l,r,o),i=Ee(e,l,r,o),c,f;u.ttisinteger()&&i.ttisinteger()?e.stack[a].setivalue(u.value-i.value|0):(c=Oe(u))!==!1&&(f=Oe(i))!==!1?e.stack[a].setfltvalue(c-f):R.luaT_trybinTM(e,u,i,e.stack[a],R.TMS.TM_SUB);break}case W0:{let u=je(e,l,r,o),i=Ee(e,l,r,o),c,f;u.ttisinteger()&&i.ttisinteger()?e.stack[a].setivalue(cg(u.value,i.value)):(c=Oe(u))!==!1&&(f=Oe(i))!==!1?e.stack[a].setfltvalue(c*f):R.luaT_trybinTM(e,u,i,e.stack[a],R.TMS.TM_MUL);break}case Y0:{let u=je(e,l,r,o),i=Ee(e,l,r,o),c,f;u.ttisinteger()&&i.ttisinteger()?e.stack[a].setivalue(pg(e,u.value,i.value)):(c=Oe(u))!==!1&&(f=Oe(i))!==!1?e.stack[a].setfltvalue(fw(e,c,f)):R.luaT_trybinTM(e,u,i,e.stack[a],R.TMS.TM_MOD);break}case L0:{let u=je(e,l,r,o),i=Ee(e,l,r,o),c,f;(c=Oe(u))!==!1&&(f=Oe(i))!==!1?e.stack[a].setfltvalue(Math.pow(c,f)):R.luaT_trybinTM(e,u,i,e.stack[a],R.TMS.TM_POW);break}case K0:{let u=je(e,l,r,o),i=Ee(e,l,r,o),c,f;(c=Oe(u))!==!1&&(f=Oe(i))!==!1?e.stack[a].setfltvalue(c/f):R.luaT_trybinTM(e,u,i,e.stack[a],R.TMS.TM_DIV);break}case z0:{let u=je(e,l,r,o),i=Ee(e,l,r,o),c,f;u.ttisinteger()&&i.ttisinteger()?e.stack[a].setivalue(fg(e,u.value,i.value)):(c=Oe(u))!==!1&&(f=Oe(i))!==!1?e.stack[a].setfltvalue(Math.floor(c/f)):R.luaT_trybinTM(e,u,i,e.stack[a],R.TMS.TM_IDIV);break}case F0:{let u=je(e,l,r,o),i=Ee(e,l,r,o),c,f;(c=It(u))!==!1&&(f=It(i))!==!1?e.stack[a].setivalue(c&f):R.luaT_trybinTM(e,u,i,e.stack[a],R.TMS.TM_BAND);break}case B0:{let u=je(e,l,r,o),i=Ee(e,l,r,o),c,f;(c=It(u))!==!1&&(f=It(i))!==!1?e.stack[a].setivalue(c|f):R.luaT_trybinTM(e,u,i,e.stack[a],R.TMS.TM_BOR);break}case V0:{let u=je(e,l,r,o),i=Ee(e,l,r,o),c,f;(c=It(u))!==!1&&(f=It(i))!==!1?e.stack[a].setivalue(c^f):R.luaT_trybinTM(e,u,i,e.stack[a],R.TMS.TM_BXOR);break}case eg:{let u=je(e,l,r,o),i=Ee(e,l,r,o),c,f;(c=It(u))!==!1&&(f=It(i))!==!1?e.stack[a].setivalue(hi(c,f)):R.luaT_trybinTM(e,u,i,e.stack[a],R.TMS.TM_SHL);break}case tg:{let u=je(e,l,r,o),i=Ee(e,l,r,o),c,f;(c=It(u))!==!1&&(f=It(i))!==!1?e.stack[a].setivalue(hi(c,-f)):R.luaT_trybinTM(e,u,i,e.stack[a],R.TMS.TM_SHR);break}case lg:{let u=e.stack[Bn(e,l,o)],i;u.ttisinteger()?e.stack[a].setivalue(-u.value|0):(i=Oe(u))!==!1?e.stack[a].setfltvalue(-i):R.luaT_trybinTM(e,u,u,e.stack[a],R.TMS.TM_UNM);break}case q0:{let u=e.stack[Bn(e,l,o)];u.ttisinteger()?e.stack[a].setivalue(~u.value):R.luaT_trybinTM(e,u,u,e.stack[a],R.TMS.TM_BNOT);break}case LS:{let u=e.stack[Bn(e,l,o)];e.stack[a].setbvalue(u.l_isfalse());break}case Z0:{ig(e,e.stack[a],e.stack[Bn(e,l,o)]);break}case G0:{let u=o.B,i=o.C;e.top=l+i+1,bi(e,i-u+1);let c=l+u;re.setobjs2s(e,a,c),qe.adjust_top(e,t.top);break}case J0:{og(e,t,o,0);break}case H0:{gi(e,je(e,l,r,o),Ee(e,l,r,o))!==o.A?t.l_savedpc++:po(e,t);break}case $0:{ag(e,je(e,l,r,o),Ee(e,l,r,o))!==o.A?t.l_savedpc++:po(e,t);break}case pi:{sg(e,je(e,l,r,o),Ee(e,l,r,o))!==o.A?t.l_savedpc++:po(e,t);break}case ow:{(o.C?e.stack[a].l_isfalse():!e.stack[a].l_isfalse())?t.l_savedpc++:po(e,t);break}case aw:{let u=Bn(e,l,o),i=e.stack[u];(o.C?i.l_isfalse():!i.l_isfalse())?t.l_savedpc++:(re.setobjs2s(e,a,u),po(e,t));break}case fi:{let u=o.B,i=o.C-1;if(u!==0&&qe.adjust_top(e,a+u),qe.luaD_precall(e,a,i))i>=0&&qe.adjust_top(e,t.top);else{t=e.ci;continue e}break}case lw:{let u=o.B;if(u!==0&&qe.adjust_top(e,a+u),!qe.luaD_precall(e,a,IS)){let i=e.ci,c=i.previous,f=i.func,h=i.funcOff,_=c.funcOff,x=i.l_base+f.value.p.numparams;n.p.p.length>0&&Ma.luaF_close(e,c.l_base);for(let T=0;h+T<x;T++)re.setobjs2s(e,_+T,h+T);c.l_base=_+(i.l_base-h),c.top=_+(e.top-h),qe.adjust_top(e,c.top),c.l_code=i.l_code,c.l_savedpc=i.l_savedpc,c.callstatus|=Vn.CIST_TAIL,c.next=null,t=e.ci=c,Dt(e.top===c.l_base+e.stack[_].value.p.maxstacksize);continue e}break}case QS:{n.p.p.length>0&&Ma.luaF_close(e,l);let u=qe.luaD_poscall(e,t,a,o.B!==0?o.B-1:e.top-a);if(t.callstatus&Vn.CIST_FRESH)return;t=e.ci,u&&qe.adjust_top(e,t.top),Dt(t.callstatus&Vn.CIST_LUA),Dt(t.l_code[t.l_savedpc-1].opcode===fi);continue e}case HS:{if(e.stack[a].ttisinteger()){let u=e.stack[a+2].value,i=e.stack[a].value+u|0,c=e.stack[a+1].value;(0<u?i<=c:c<=i)&&(t.l_savedpc+=o.sBx,e.stack[a].chgivalue(i),e.stack[a+3].setivalue(i))}else{let u=e.stack[a+2].value,i=e.stack[a].value+u,c=e.stack[a+1].value;(0<u?i<=c:c<=i)&&(t.l_savedpc+=o.sBx,e.stack[a].chgfltvalue(i),e.stack[a+3].setfltvalue(i))}break}case jS:{let u=e.stack[a],i=e.stack[a+1],c=e.stack[a+2],f;if(u.ttisinteger()&&c.ttisinteger()&&(f=xw(i,c.value))){let h=f.stopnow?0:u.value;i.value=f.ilimit,u.value=h-c.value|0}else{let h,_,x;(h=Oe(i))===!1&&dt.luaG_runerror(e,$t("'for' limit must be a number",!0)),e.stack[a+1].setfltvalue(h),(_=Oe(c))===!1&&dt.luaG_runerror(e,$t("'for' step must be a number",!0)),e.stack[a+2].setfltvalue(_),(x=Oe(u))===!1&&dt.luaG_runerror(e,$t("'for' initial value must be a number",!0)),e.stack[a].setfltvalue(x-_)}t.l_savedpc+=o.sBx;break}case rg:{let u=a+3;re.setobjs2s(e,u+2,a+2),re.setobjs2s(e,u+1,a+1),re.setobjs2s(e,u,a),qe.adjust_top(e,u+3),qe.luaD_call(e,u,o.C),qe.adjust_top(e,t.top),o=t.l_code[t.l_savedpc++],a=w0(e,l,o),Dt(o.opcode===_i)}case _i:{e.stack[a+1].ttisnil()||(re.setobjs2s(e,a,a+1),t.l_savedpc+=o.sBx);break}case ew:{let u=o.B,i=o.C;u===0&&(u=e.top-a-1),i===0&&(Dt(t.l_code[t.l_savedpc].opcode===ii),i=t.l_code[t.l_savedpc++].Ax);let c=e.stack[a].value,f=(i-1)*GS+u;for(;u>0;u--)xr.luaH_setint(c,f--,e.stack[a+u]);qe.adjust_top(e,t.top);break}case KS:{let u=n.p.p[o.Bx],i=kw(u,n.upvals,e.stack,l);i===null?mw(e,u,n.upvals,l,a):e.stack[a].setclLvalue(i);break}case sw:{let u=o.B-1,i=l-t.funcOff-n.p.numparams-1,c;for(i<0&&(i=0),u<0&&(u=i,qe.luaD_checkstack(e,i),qe.adjust_top(e,a+i)),c=0;c<u&&c<i;c++)re.setobjs2s(e,a+c,l-i+c);for(;c<u;c++)e.stack[a+c].setnilvalue();break}case ii:throw Error("invalid opcode")}}},og=function(e,t,n,r){let l=n.A;l!==0&&Ma.luaF_close(e,t.l_base+l-1),t.l_savedpc+=n.sBx+r},po=function(e,t){og(e,t,t.l_code[t.l_savedpc],1)},ag=function(e,t,n){if(t.ttisnumber()&&n.ttisnumber())return Aw(t,n)?1:0;if(t.ttisstring()&&n.ttisstring())return ug(t.tsvalue(),n.tsvalue())<0?1:0;{let r=R.luaT_callorderTM(e,t,n,R.TMS.TM_LT);return r===null&&dt.luaG_ordererror(e,t,n),r?1:0}},sg=function(e,t,n){let r;return t.ttisnumber()&&n.ttisnumber()?bw(t,n)?1:0:t.ttisstring()&&n.ttisstring()?ug(t.tsvalue(),n.tsvalue())<=0?1:0:(r=R.luaT_callorderTM(e,t,n,R.TMS.TM_LE),r!==null?r?1:0:(e.ci.callstatus|=Vn.CIST_LEQ,r=R.luaT_callorderTM(e,n,t,R.TMS.TM_LT),e.ci.callstatus^=Vn.CIST_LEQ,r===null&&dt.luaG_ordererror(e,t,n),r?0:1))},gi=function(e,t,n){if(t.ttype()!==n.ttype())return t.ttnov()!==n.ttnov()||t.ttnov()!==N0?0:t.value===n.value?1:0;let r;switch(t.ttype()){case FS:return 1;case DS:return t.value==n.value?1:0;case PS:case BS:case qS:case MS:return t.value===n.value?1:0;case C0:case y0:return _w(t.tsvalue(),n.tsvalue())?1:0;case VS:case I0:if(t.value===n.value)return 1;if(e===null)return 0;r=R.fasttm(e,t.value.metatable,R.TMS.TM_EQ),r===null&&(r=R.fasttm(e,n.value.metatable,R.TMS.TM_EQ));break;default:return t.value===n.value?1:0}if(r===null)return 0;let l=new re.TValue;return R.luaT_callTM(e,r,t,n,l,1),l.l_isfalse()?0:1},gw=function(e,t){return gi(null,e,t)},xw=function(e,t){let n=!1,r=Pa(e,t<0?2:1);if(r===!1){let l=Oe(e);if(l===!1)return!1;0<l?(r=uw,t<0&&(n=!0)):(r=iw,t>=0&&(n=!0))}return{stopnow:n,ilimit:r}},Pa=function(e,t){if(e.ttisfloat()){let n=e.value,r=Math.floor(n);if(n!==r){if(t===0)return!1;t>1&&(r+=1)}return cw(r)}else{if(e.ttisinteger())return e.value;if(Ai(e)){let n=new re.TValue;if(re.luaO_str2num(e.svalue(),n)===e.vslen()+1)return Pa(n,t)}}return!1},It=function(e){return e.ttisinteger()?e.value:Pa(e,0)},Oe=function(e){if(e.ttnov()===N0)return e.value;if(Ai(e)){let t=new re.TValue;if(re.luaO_str2num(e.svalue(),t)===e.vslen()+1)return t.value}return!1},Aw=function(e,t){return e.value<t.value},bw=function(e,t){return e.value<=t.value},ug=function(e,t){let n=S0(e),r=S0(t);return n===r?0:n<r?-1:1},ig=function(e,t,n){let r;switch(n.ttype()){case I0:{let l=n.value;if(r=R.fasttm(e,l.metatable,R.TMS.TM_LEN),r!==null)break;t.setivalue(xr.luaH_getn(l));return}case C0:case y0:t.setivalue(n.vslen());return;default:{r=R.luaT_gettmbyobj(e,n,R.TMS.TM_LEN),r.ttisnil()&&dt.luaG_typeerror(e,n,$t("get length of",!0));break}}R.luaT_callTM(e,r,n,n,t,1)},cg=Math.imul||function(e,t){let n=e>>>16&65535,r=e&65535,l=t>>>16&65535,o=t&65535;return r*o+(n*o+r*l<<16>>>0)|0},fg=function(e,t,n){return n===0&&dt.luaG_runerror(e,$t("attempt to divide by zero")),Math.floor(t/n)|0},pg=function(e,t,n){return n===0&&dt.luaG_runerror(e,$t("attempt to perform 'n%%0'")),t-Math.floor(t/n)*n|0},R0=32,hi=function(e,t){return t<0?t<=-R0?0:e>>>-t:t>=R0?0:e<<t},kw=function(e,t,n,r){let l=e.cache;if(l!==null){let o=e.upvalues,a=o.length;for(let s=0;s<a;s++){let u=o[s].instack?n[r+o[s].idx]:t[o[s].idx];if(l.upvals[s]!==u)return null}}return l},mw=function(e,t,n,r,l){let o=t.upvalues.length,a=t.upvalues,s=new re.LClosure(e,o);s.p=t,e.stack[l].setclLvalue(s);for(let u=0;u<o;u++)a[u].instack?s.upvals[u]=Ma.luaF_findupval(e,r+a[u].idx):s.upvals[u]=n[a[u].idx];t.cache=s},xi=function(e){return e.ttisnumber()},Ai=function(e){return e.ttisstring()},ci=function(e,t){let n=e.stack[t];return n.ttisstring()?!0:xi(n)?(re.luaO_tostring(e,n),!0):!1},U0=function(e){return e.ttisstring()&&e.vslen()===0},Tw=function(e,t,n,r){let l=0;do{let o=e.stack[t-n],a=o.vslen(),s=o.svalue();r.set(s,l),l+=a}while(--n>0)},bi=function(e,t){Dt(t>=2);do{let n=e.top,r=2;if(!(e.stack[n-2].ttisstring()||xi(e.stack[n-2]))||!ci(e,n-1))R.luaT_trybinTM(e,e.stack[n-2],e.stack[n-1],e.stack[n-2],R.TMS.TM_CONCAT);else if(U0(e.stack[n-1]))ci(e,n-2);else if(U0(e.stack[n-2]))re.setobjs2s(e,n-2,n-1);else{let l=e.stack[n-1].vslen();for(r=1;r<t&&ci(e,n-r-1);r++)l+=e.stack[n-r-1].vslen();let o=new Uint8Array(l);Tw(e,n,r,o);let a=pw(e,o);re.setsvalue2s(e,n-r,a)}for(t-=r-1;e.top>n-(r-1);)delete e.stack[--e.top]}while(t>1)},_g=2e3,Da=function(e,t,n,r){for(let l=0;l<_g;l++){let o;if(!t.ttistable())o=R.luaT_gettmbyobj(e,t,R.TMS.TM_INDEX),o.ttisnil()&&dt.luaG_typeerror(e,t,$t("index",!0));else{let a=xr.luaH_get(e,t.value,n);if(a.ttisnil()){if(o=R.fasttm(e,t.value.metatable,R.TMS.TM_INDEX),o===null){e.stack[r].setnilvalue();return}}else{re.setobj2s(e,r,a);return}}if(o.ttisfunction()){R.luaT_callTM(e,o,t,n,e.stack[r],1);return}t=o}dt.luaG_runerror(e,$t("'__index' chain too long; possible loop",!0))},di=function(e,t,n,r){for(let l=0;l<_g;l++){let o;if(t.ttistable()){let a=t.value;if(!xr.luaH_get(e,a,n).ttisnil()||(o=R.fasttm(e,a.metatable,R.TMS.TM_NEWINDEX))===null){xr.luaH_setfrom(e,a,n,r),xr.invalidateTMcache(a);return}}else(o=R.luaT_gettmbyobj(e,t,R.TMS.TM_NEWINDEX)).ttisnil()&&dt.luaG_typeerror(e,t,$t("index",!0));if(o.ttisfunction()){R.luaT_callTM(e,o,t,n,r,0);return}t=o}dt.luaG_runerror(e,$t("'__newindex' chain too long; possible loop",!0))};Se.exports.cvt2str=xi;Se.exports.cvt2num=Ai;Se.exports.luaV_gettable=Da;Se.exports.luaV_concat=bi;Se.exports.luaV_div=fg;Se.exports.luaV_equalobj=gi;Se.exports.luaV_execute=dw;Se.exports.luaV_finishOp=hw;Se.exports.luaV_imul=cg;Se.exports.luaV_lessequal=sg;Se.exports.luaV_lessthan=ag;Se.exports.luaV_mod=pg;Se.exports.luaV_objlen=ig;Se.exports.luaV_rawequalobj=gw;Se.exports.luaV_shiftl=hi;Se.exports.luaV_tointeger=Pa;Se.exports.settable=di;Se.exports.tointeger=It;Se.exports.tonumber=Oe});var br=A((a6,Ot)=>{var{constant_types:{LUA_TTABLE:vw,LUA_TUSERDATA:Ew},to_luastring:Q}=ve(),{lua_assert:Ow}=at(),rl=ht(),hg=Mt(),Sw=cn(),{luaS_bless:ww,luaS_new:se}=zt(),mi=Jt(),Fa=fn(),dg=Ar(),Rw=["no value","nil","boolean","userdata","number","string","table","function","userdata","thread","proto"].map(e=>Q(e)),gg=function(e){return Rw[e+1]},J={TM_INDEX:0,TM_NEWINDEX:1,TM_GC:2,TM_MODE:3,TM_LEN:4,TM_EQ:5,TM_ADD:6,TM_SUB:7,TM_MUL:8,TM_MOD:9,TM_POW:10,TM_DIV:11,TM_IDIV:12,TM_BAND:13,TM_BOR:14,TM_BXOR:15,TM_SHL:16,TM_SHR:17,TM_UNM:18,TM_BNOT:19,TM_LT:20,TM_LE:21,TM_CONCAT:22,TM_CALL:23,TM_N:24},Uw=function(e){e.l_G.tmname[J.TM_INDEX]=new se(e,Q("__index",!0)),e.l_G.tmname[J.TM_NEWINDEX]=new se(e,Q("__newindex",!0)),e.l_G.tmname[J.TM_GC]=new se(e,Q("__gc",!0)),e.l_G.tmname[J.TM_MODE]=new se(e,Q("__mode",!0)),e.l_G.tmname[J.TM_LEN]=new se(e,Q("__len",!0)),e.l_G.tmname[J.TM_EQ]=new se(e,Q("__eq",!0)),e.l_G.tmname[J.TM_ADD]=new se(e,Q("__add",!0)),e.l_G.tmname[J.TM_SUB]=new se(e,Q("__sub",!0)),e.l_G.tmname[J.TM_MUL]=new se(e,Q("__mul",!0)),e.l_G.tmname[J.TM_MOD]=new se(e,Q("__mod",!0)),e.l_G.tmname[J.TM_POW]=new se(e,Q("__pow",!0)),e.l_G.tmname[J.TM_DIV]=new se(e,Q("__div",!0)),e.l_G.tmname[J.TM_IDIV]=new se(e,Q("__idiv",!0)),e.l_G.tmname[J.TM_BAND]=new se(e,Q("__band",!0)),e.l_G.tmname[J.TM_BOR]=new se(e,Q("__bor",!0)),e.l_G.tmname[J.TM_BXOR]=new se(e,Q("__bxor",!0)),e.l_G.tmname[J.TM_SHL]=new se(e,Q("__shl",!0)),e.l_G.tmname[J.TM_SHR]=new se(e,Q("__shr",!0)),e.l_G.tmname[J.TM_UNM]=new se(e,Q("__unm",!0)),e.l_G.tmname[J.TM_BNOT]=new se(e,Q("__bnot",!0)),e.l_G.tmname[J.TM_LT]=new se(e,Q("__lt",!0)),e.l_G.tmname[J.TM_LE]=new se(e,Q("__le",!0)),e.l_G.tmname[J.TM_CONCAT]=new se(e,Q("__concat",!0)),e.l_G.tmname[J.TM_CALL]=new se(e,Q("__call",!0))},yw=Q("__name",!0),Nw=function(e,t){let n;if(t.ttistable()&&(n=t.value.metatable)!==null||t.ttisfulluserdata()&&(n=t.value.metatable)!==null){let r=mi.luaH_getstr(n,ww(e,yw));if(r.ttisstring())return r.svalue()}return gg(t.ttnov())},xg=function(e,t,n,r,l,o){let a=e.top;if(rl.pushobj2s(e,t),rl.pushobj2s(e,n),rl.pushobj2s(e,r),o||rl.pushobj2s(e,l),e.ci.callstatus&Sw.CIST_LUA?hg.luaD_call(e,a,o):hg.luaD_callnoyield(e,a,o),o){let s=e.stack[e.top-1];delete e.stack[--e.top],l.setfrom(s)}},Ti=function(e,t,n,r,l){let o=ki(e,t,l);return o.ttisnil()&&(o=ki(e,n,l)),o.ttisnil()?!1:(xg(e,o,t,n,r,1),!0)},Cw=function(e,t,n,r,l){if(!Ti(e,t,n,r,l))switch(l){case J.TM_CONCAT:return Fa.luaG_concaterror(e,t,n);case J.TM_BAND:case J.TM_BOR:case J.TM_BXOR:case J.TM_SHL:case J.TM_SHR:case J.TM_BNOT:{let o=dg.tonumber(t),a=dg.tonumber(n);return o!==!1&&a!==!1?Fa.luaG_tointerror(e,t,n):Fa.luaG_opinterror(e,t,n,Q("perform bitwise operation on",!0))}default:return Fa.luaG_opinterror(e,t,n,Q("perform arithmetic on",!0))}},Iw=function(e,t,n,r){let l=new rl.TValue;return Ti(e,t,n,l,r)?!l.l_isfalse():null},Dw=function(e,t,n){return t===null||t.flags&1<<n?null:Ag(t,n,e.l_G.tmname[n])},Ag=function(e,t,n){let r=mi.luaH_getstr(e,n);return Ow(t<=J.TM_EQ),r.ttisnil()?(e.flags|=1<<t,null):r},ki=function(e,t,n){let r;switch(t.ttnov()){case vw:case Ew:r=t.value.metatable;break;default:r=e.l_G.mt[t.ttnov()]}return r?mi.luaH_getstr(r,e.l_G.tmname[n]):rl.luaO_nilobject};Ot.exports.fasttm=Dw;Ot.exports.TMS=J;Ot.exports.luaT_callTM=xg;Ot.exports.luaT_callbinTM=Ti;Ot.exports.luaT_trybinTM=Cw;Ot.exports.luaT_callorderTM=Iw;Ot.exports.luaT_gettm=Ag;Ot.exports.luaT_gettmbyobj=ki;Ot.exports.luaT_init=Uw;Ot.exports.luaT_objtypename=Nw;Ot.exports.ttypename=gg});var cn=A((s6,ye)=>{var{LUA_MINSTACK:kg,LUA_RIDX_GLOBALS:Mw,LUA_RIDX_MAINTHREAD:Pw,constant_types:{LUA_NUMTAGS:Fw,LUA_TNIL:mg,LUA_TTABLE:qw,LUA_TTHREAD:Tg},thread_status:{LUA_OK:vg}}=ve(),_o=ht(),Bw=Mt(),Eg=xo(),qa=Jt(),Og=br(),Sg=5,bg=2*kg,ho=class{constructor(){this.func=null,this.funcOff=NaN,this.top=NaN,this.previous=null,this.next=null,this.l_base=NaN,this.l_code=null,this.l_savedpc=NaN,this.c_k=null,this.c_old_errfunc=null,this.c_ctx=null,this.nresults=NaN,this.callstatus=NaN}},go=class{constructor(t){this.id=t.id_counter++,this.base_ci=new ho,this.top=NaN,this.stack_last=NaN,this.oldpc=NaN,this.l_G=t,this.stack=null,this.ci=null,this.errorJmp=null,this.nCcalls=0,this.hook=null,this.hookmask=0,this.basehookcount=0,this.allowhook=1,this.hookcount=this.basehookcount,this.nny=1,this.status=vg,this.errfunc=0}},vi=class{constructor(){this.id_counter=1,this.ids=new WeakMap,this.mainthread=null,this.l_registry=new _o.TValue(mg,null),this.panic=null,this.atnativeerror=null,this.version=null,this.tmname=new Array(Og.TMS.TM_N),this.mt=new Array(Fw)}},Vw=function(e){let t=new ho;return e.ci.next=t,t.previous=e.ci,t.next=null,e.ci=t,t},wg=function(e){let t=e.ci;t.next=null},Rg=function(e,t){e.stack=new Array(bg),e.top=0,e.stack_last=bg-Sg;let n=e.base_ci;n.next=n.previous=null,n.callstatus=0,n.funcOff=e.top,n.func=e.stack[e.top],e.stack[e.top++]=new _o.TValue(mg,null),n.top=e.top+kg,e.ci=n},Ug=function(e){e.ci=e.base_ci,wg(e),e.stack=null},Gw=function(e,t){let n=qa.luaH_new(e);t.l_registry.sethvalue(n),qa.luaH_setint(n,Pw,new _o.TValue(Tg,e)),qa.luaH_setint(n,Mw,new _o.TValue(qw,qa.luaH_new(e)))},Kw=function(e){let t=e.l_G;Rg(e,e),Gw(e,t),Og.luaT_init(e),t.version=Eg.lua_version(null)},Hw=function(e){let t=e.l_G,n=new go(t);return e.stack[e.top]=new _o.TValue(Tg,n),Eg.api_incr_top(e),n.hookmask=e.hookmask,n.basehookcount=e.basehookcount,n.hook=e.hook,n.hookcount=n.basehookcount,Rg(n,e),n},jw=function(e,t){Ug(t)},Xw=function(){let e=new vi,t=new go(e);return e.mainthread=t,Bw.luaD_rawrunprotected(t,Kw,null)!==vg&&(t=null),t},zw=function(e){Ug(e)},Jw=function(e){e=e.l_G.mainthread,zw(e)};ye.exports.lua_State=go;ye.exports.CallInfo=ho;ye.exports.CIST_OAH=1<<0;ye.exports.CIST_LUA=1<<1;ye.exports.CIST_HOOKED=1<<2;ye.exports.CIST_FRESH=1<<3;ye.exports.CIST_YPCALL=1<<4;ye.exports.CIST_TAIL=1<<5;ye.exports.CIST_HOOKYIELD=1<<6;ye.exports.CIST_LEQ=1<<7;ye.exports.CIST_FIN=1<<8;ye.exports.EXTRA_STACK=Sg;ye.exports.lua_close=Jw;ye.exports.lua_newstate=Xw;ye.exports.lua_newthread=Hw;ye.exports.luaE_extendCI=Vw;ye.exports.luaE_freeCI=wg;ye.exports.luaE_freethread=jw});var ht=A((u6,oe)=>{var{LUA_OPADD:Di,LUA_OPBAND:Kg,LUA_OPBNOT:Hg,LUA_OPBOR:jg,LUA_OPBXOR:Xg,LUA_OPDIV:zg,LUA_OPIDIV:Jg,LUA_OPMOD:Zg,LUA_OPMUL:$g,LUA_OPPOW:Yg,LUA_OPSHL:Wg,LUA_OPSHR:Lg,LUA_OPSUB:Qg,LUA_OPUNM:ex,constant_types:{LUA_NUMTAGS:tx,LUA_TBOOLEAN:yg,LUA_TCCL:Ng,LUA_TFUNCTION:Cg,LUA_TLCF:Ig,LUA_TLCL:Dg,LUA_TLIGHTUSERDATA:Mg,LUA_TLNGSTR:Ri,LUA_TNIL:Ao,LUA_TNUMBER:Zw,LUA_TNUMFLT:Ei,LUA_TNUMINT:Oi,LUA_TSHRSTR:$w,LUA_TSTRING:Yw,LUA_TTABLE:Pg,LUA_TTHREAD:Fg,LUA_TUSERDATA:qg},from_userstring:Ww,luastring_indexOf:Ui,luastring_of:Lw,to_jsstring:nx,to_luastring:Xe}=ve(),{lisdigit:Va,lisprint:Qw,lisspace:Ga,lisxdigit:rx}=ni(),eR=fn(),Ba=Mt(),tR=cn(),{luaS_bless:nR,luaS_new:rR}=zt(),lR=Jt(),{LUA_COMPAT_FLOATSTRING:oR,ldexp:aR,lua_integer2str:sR,lua_number2str:uR}=ot(),St=Ar(),{MAX_INT:lx,luai_nummod:iR,lua_assert:mr}=at(),Bg=br(),cR=tx,yi=tx+1,Gn=class{constructor(t,n){this.type=t,this.value=n}ttype(){return this.type&63}ttnov(){return this.type&15}checktag(t){return this.type===t}checktype(t){return this.ttnov()===t}ttisnumber(){return this.checktype(Zw)}ttisfloat(){return this.checktag(Ei)}ttisinteger(){return this.checktag(Oi)}ttisnil(){return this.checktag(Ao)}ttisboolean(){return this.checktag(yg)}ttislightuserdata(){return this.checktag(Mg)}ttisstring(){return this.checktype(Yw)}ttisshrstring(){return this.checktag($w)}ttislngstring(){return this.checktag(Ri)}ttistable(){return this.checktag(Pg)}ttisfunction(){return this.checktype(Cg)}ttisclosure(){return(this.type&31)===Cg}ttisCclosure(){return this.checktag(Ng)}ttisLclosure(){return this.checktag(Dg)}ttislcf(){return this.checktag(Ig)}ttisfulluserdata(){return this.checktag(qg)}ttisthread(){return this.checktag(Fg)}ttisdeadkey(){return this.checktag(yi)}l_isfalse(){return this.ttisnil()||this.ttisboolean()&&this.value===!1}setfltvalue(t){this.type=Ei,this.value=t}chgfltvalue(t){mr(this.type==Ei),this.value=t}setivalue(t){this.type=Oi,this.value=t}chgivalue(t){mr(this.type==Oi),this.value=t}setnilvalue(){this.type=Ao,this.value=null}setfvalue(t){this.type=Ig,this.value=t}setpvalue(t){this.type=Mg,this.value=t}setbvalue(t){this.type=yg,this.value=t}setsvalue(t){this.type=Ri,this.value=t}setuvalue(t){this.type=qg,this.value=t}setthvalue(t){this.type=Fg,this.value=t}setclLvalue(t){this.type=Dg,this.value=t}setclCvalue(t){this.type=Ng,this.value=t}sethvalue(t){this.type=Pg,this.value=t}setdeadvalue(){this.type=yi,this.value=null}setfrom(t){this.type=t.type,this.value=t.value}tsvalue(){return mr(this.ttisstring()),this.value}svalue(){return this.tsvalue().getstr()}vslen(){return this.tsvalue().tsslen()}jsstring(t,n){return nx(this.svalue(),t,n,!0)}},fR=function(e,t){e.stack[e.top++]=new Gn(t.type,t.value)},pR=function(e,t){e.stack[e.top++]=new Gn(Ri,t)},_R=function(e,t,n){e.stack[t].setfrom(e.stack[n])},hR=function(e,t,n){e.stack[t].setfrom(n)},ox=function(e,t,n){e.stack[t].setsvalue(n)},ax=new Gn(Ao,null);Object.freeze(ax);oe.exports.luaO_nilobject=ax;var Ka=class{constructor(t,n){this.id=t.l_G.id_counter++,this.p=null,this.nupvalues=n,this.upvals=new Array(n)}},Ha=class{constructor(t,n,r){for(this.id=t.l_G.id_counter++,this.f=n,this.nupvalues=r,this.upvalue=new Array(r);r--;)this.upvalue[r]=new Gn(Ao,null)}},ja=class{constructor(t,n){this.id=t.l_G.id_counter++,this.metatable=null,this.uservalue=new Gn(Ao,null),this.len=n,this.data=Object.create(null)}},Ni=class{constructor(){this.varname=null,this.startpc=NaN,this.endpc=NaN}},ll=Xe("..."),Si=Xe('[string "'),wi=Xe('"]'),dR=function(e,t){let n=e.length,r;if(e[0]===61)n<t?(r=new Uint8Array(n-1),r.set(e.subarray(1))):(r=new Uint8Array(t),r.set(e.subarray(1,t+1)));else if(e[0]===64)n<=t?(r=new Uint8Array(n-1),r.set(e.subarray(1))):(r=new Uint8Array(t),r.set(ll),t-=ll.length,r.set(e.subarray(n-t),ll.length));else{r=new Uint8Array(t);let l=Ui(e,10);r.set(Si);let o=Si.length;t-=Si.length+ll.length+wi.length,n<t&&l===-1?(r.set(e,o),o+=e.length):(l!==-1&&(n=l),n>t&&(n=t),r.set(e.subarray(0,n),o),o+=n,r.set(ll,o),o+=ll.length),r.set(wi,o),o+=wi.length,r=r.subarray(0,o)}return r},Mi=function(e){return Va(e)?e-48:(e&223)-55},ol=8,sx=function(e,t){let n=1;if(mr(t<=1114111),t<128)e[ol-1]=t;else{let r=63;do e[ol-n++]=128|t&63,t>>=6,r>>=1;while(t>r);e[ol-n]=~r<<1|t}return n},gR=30,xR=function(e){let t=0,n=0,r=0,l=0,o=0,a,s=!1;for(;Ga(e[t]);)t++;if(((a=e[t]===45)||e[t]===43)&&t++,!(e[t]===48&&(e[t+1]===120||e[t+1]===88)))return null;for(t+=2;;t++)if(e[t]===46){if(s)break;s=!0}else if(rx(e[t]))r===0&&e[t]===48?l++:++r<=gR?n=n*16+Mi(e[t]):o++,s&&o--;else break;if(l+r===0)return null;if(o*=4,e[t]===112||e[t]===80){let u=0,i;if(t++,((i=e[t]===45)||e[t]===43)&&t++,!Va(e[t]))return null;for(;Va(e[t]);)u=u*10+e[t++]-48;i&&(u=-u),o+=u}return a&&(n=-n),{n:aR(n,o),i:t}},AR=function(e){try{e=nx(e)}catch(r){return null}let t=/^[\\t\\v\\f \\n\\r]*[+-]?(?:[0-9]+\\.?[0-9]*|\\.[0-9]*)(?:[eE][+-]?[0-9]+)?/.exec(e);if(!t)return null;let n=parseFloat(t[0]);return isNaN(n)?null:{n,i:t[0].length}},bR=function(e,t){let n=t==="x"?xR(e):AR(e);if(n===null)return null;for(;Ga(e[n.i]);)n.i++;return n.i===e.length||e[n.i]===0?n:null},kR=[46,120,88,110,78],mR={[46]:".",[120]:"x",[88]:"x",[110]:"n",[78]:"n"},TR=function(e){let t=e.length,n=0;for(let o=0;o<t;o++){let a=e[o];if(kR.indexOf(a)!==-1){n=a;break}}let r=mR[n];return r==="n"?null:bR(e,r)},Vg=Math.floor(lx/10),vR=lx%10,ER=function(e){let t=0,n=0,r=!0,l;for(;Ga(e[t]);)t++;if(((l=e[t]===45)||e[t]===43)&&t++,e[t]===48&&(e[t+1]===120||e[t+1]===88))for(t+=2;t<e.length&&rx(e[t]);t++)n=n*16+Mi(e[t])|0,r=!1;else for(;t<e.length&&Va(e[t]);t++){let o=e[t]-48;if(n>=Vg&&(n>Vg||o>vR+l))return null;n=n*10+o|0,r=!1}for(;t<e.length&&Ga(e[t]);)t++;return r||t!==e.length&&e[t]!==0?null:{n:(l?-n:n)|0,i:t}},OR=function(e,t){let n=ER(e);return n!==null?(t.setivalue(n.n),n.i+1):(n=TR(e),n!==null?(t.setfltvalue(n.n),n.i+1):0)},Ci=function(e,t){let n;if(t.ttisinteger())n=Xe(sR(t.value));else{let r=uR(t.value);!oR&&/^[-0123456789]+$/.test(r)&&(r+=".0"),n=Xe(r)}t.setsvalue(nR(e,n))},st=function(e,t){Ba.luaD_inctop(e),ox(e,e.top-1,rR(e,t))},ux=function(e,t,n){let r=0,l=0,o=0,a;for(;a=Ui(t,37,l),a!=-1;){switch(st(e,t.subarray(l,a)),t[a+1]){case 115:{let s=n[o++];if(s===null)s=Xe("(null)",!0);else{s=Ww(s);let u=Ui(s,0);u!==-1&&(s=s.subarray(0,u))}st(e,s);break}case 99:{let s=n[o++];Qw(s)?st(e,Lw(s)):ix(e,Xe("<\\\\%d>",!0),s);break}case 100:case 73:Ba.luaD_inctop(e),e.stack[e.top-1].setivalue(n[o++]),Ci(e,e.stack[e.top-1]);break;case 102:Ba.luaD_inctop(e),e.stack[e.top-1].setfltvalue(n[o++]),Ci(e,e.stack[e.top-1]);break;case 112:{let s=n[o++];if(s instanceof tR.lua_State||s instanceof lR.Table||s instanceof ja||s instanceof Ka||s instanceof Ha)st(e,Xe("0x"+s.id.toString(16)));else switch(typeof s){case"undefined":st(e,Xe("undefined"));break;case"number":st(e,Xe("Number("+s+")"));break;case"string":st(e,Xe("String("+JSON.stringify(s)+")"));break;case"boolean":st(e,Xe(s?"Boolean(true)":"Boolean(false)"));break;case"object":if(s===null){st(e,Xe("null"));break}case"function":{let u=e.l_G.ids.get(s);u||(u=e.l_G.id_counter++,e.l_G.ids.set(s,u)),st(e,Xe("0x"+u.toString(16)));break}default:st(e,Xe("<id NYI>"))}break}case 85:{let s=new Uint8Array(ol),u=sx(s,n[o++]);st(e,s.subarray(ol-u));break}case 37:st(e,Xe("%",!0));break;default:eR.luaG_runerror(e,Xe("invalid option '%%%c' to 'lua_pushfstring'"),t[a+1])}r+=2,l=a+2}return Ba.luaD_checkstack(e,1),st(e,t.subarray(l)),r>0&&St.luaV_concat(e,r+1),e.stack[e.top-1].svalue()},ix=function(e,t,...n){return ux(e,t,n)},SR=function(e){let t=0;if(e<8)return e;for(;e>=8<<4;)e=e+15>>4,t+=4;for(;e>=8<<1;)e=e+1>>1,t++;return t+1<<3|e-8},Gg=function(e,t,n,r){switch(t){case Di:return n+r|0;case Qg:return n-r|0;case $g:return St.luaV_imul(n,r);case Zg:return St.luaV_mod(e,n,r);case Jg:return St.luaV_div(e,n,r);case Kg:return n&r;case jg:return n|r;case Xg:return n^r;case Wg:return St.luaV_shiftl(n,r);case Lg:return St.luaV_shiftl(n,-r);case ex:return 0-n|0;case Hg:return-1^n;default:mr(0)}},Ii=function(e,t,n,r){switch(t){case Di:return n+r;case Qg:return n-r;case $g:return n*r;case zg:return n/r;case Yg:return Math.pow(n,r);case Jg:return Math.floor(n/r);case ex:return-n;case Zg:return iR(e,n,r);default:mr(0)}},wR=function(e,t,n,r,l){let o=typeof l=="number"?e.stack[l]:l;switch(t){case Kg:case jg:case Xg:case Wg:case Lg:case Hg:{let a,s;if((a=St.tointeger(n))!==!1&&(s=St.tointeger(r))!==!1){o.setivalue(Gg(e,t,a,s));return}else break}case zg:case Yg:{let a,s;if((a=St.tonumber(n))!==!1&&(s=St.tonumber(r))!==!1){o.setfltvalue(Ii(e,t,a,s));return}else break}default:{let a,s;if(n.ttisinteger()&&r.ttisinteger()){o.setivalue(Gg(e,t,n.value,r.value));return}else if((a=St.tonumber(n))!==!1&&(s=St.tonumber(r))!==!1){o.setfltvalue(Ii(e,t,a,s));return}else break}}mr(e!==null),Bg.luaT_trybinTM(e,n,r,l,t-Di+Bg.TMS.TM_ADD)};oe.exports.CClosure=Ha;oe.exports.LClosure=Ka;oe.exports.LUA_TDEADKEY=yi;oe.exports.LUA_TPROTO=cR;oe.exports.LocVar=Ni;oe.exports.TValue=Gn;oe.exports.Udata=ja;oe.exports.UTF8BUFFSZ=ol;oe.exports.luaO_arith=wR;oe.exports.luaO_chunkid=dR;oe.exports.luaO_hexavalue=Mi;oe.exports.luaO_int2fb=SR;oe.exports.luaO_pushfstring=ix;oe.exports.luaO_pushvfstring=ux;oe.exports.luaO_str2num=OR;oe.exports.luaO_tostring=Ci;oe.exports.luaO_utf8esc=sx;oe.exports.numarith=Ii;oe.exports.pushobj2s=fR;oe.exports.pushsvalue2s=pR;oe.exports.setobjs2s=_R;oe.exports.setobj2s=hR;oe.exports.setsvalue2s=ox});var kr=A((i6,Kn)=>{var{constant_types:{LUA_TNIL:RR}}=ve(),Fi=ht(),Pi=class{constructor(t){this.id=t.l_G.id_counter++,this.k=[],this.p=[],this.code=[],this.cache=null,this.lineinfo=[],this.upvalues=[],this.numparams=0,this.is_vararg=!1,this.maxstacksize=0,this.locvars=[],this.linedefined=0,this.lastlinedefined=0,this.source=null}},UR=function(e,t){return new Fi.LClosure(e,t)},yR=function(e,t){return e.stack[t]},NR=function(e,t){for(let n=t;n<e.top;n++){let r=e.stack[n];e.stack[n]=new Fi.TValue(r.type,r.value)}},CR=function(e,t){for(let n=0;n<t.nupvalues;n++)t.upvals[n]=new Fi.TValue(RR,null)},IR=function(e,t,n){for(let r=0;r<e.locvars.length&&e.locvars[r].startpc<=n;r++)if(n<e.locvars[r].endpc&&(t--,t===0))return e.locvars[r].varname.getstr();return null};Kn.exports.MAXUPVAL=255;Kn.exports.Proto=Pi;Kn.exports.luaF_findupval=yR;Kn.exports.luaF_close=NR;Kn.exports.luaF_getlocalname=IR;Kn.exports.luaF_initupvals=CR;Kn.exports.luaF_newLclosure=UR});var bo=A((c6,Yt)=>{var{lua_assert:cx}=at(),qi=class{constructor(){this.buffer=null,this.n=0}},DR=function(e){return e.buffer.subarray(0,e.n)},MR=function(e,t){e.n-=t},PR=function(e){e.n=0},FR=function(e,t,n){let r=new Uint8Array(n);t.buffer&&r.set(t.buffer),t.buffer=r},Bi=class{constructor(t,n,r){this.L=t,cx(typeof n=="function","ZIO requires a reader"),this.reader=n,this.data=r,this.n=0,this.buffer=null,this.off=0}zgetc(){return this.n-- >0?this.buffer[this.off++]:Vi(this)}},Xa=-1,Vi=function(e){let t=e.reader(e.L,e.data);if(t===null)return Xa;cx(t instanceof Uint8Array,"Should only load binary of array of bytes");let n=t.length;return n===0?Xa:(e.buffer=t,e.off=0,e.n=n-1,e.buffer[e.off++])},qR=function(e,t,n,r){for(;r;){if(e.n===0){if(Vi(e)===Xa)return r;e.n++,e.off--}let l=r<=e.n?r:e.n;for(let o=0;o<l;o++)t[n++]=e.buffer[e.off++];e.n-=l,e.n===0&&(e.buffer=null),r-=l}return 0};Yt.exports.EOZ=Xa;Yt.exports.luaZ_buffer=DR;Yt.exports.luaZ_buffremove=MR;Yt.exports.luaZ_fill=Vi;Yt.exports.luaZ_read=qR;Yt.exports.luaZ_resetbuffer=PR;Yt.exports.luaZ_resizebuffer=FR;Yt.exports.MBuffer=qi;Yt.exports.ZIO=Bi});var La=A((f6,xt)=>{var{constant_types:{LUA_TBOOLEAN:BR,LUA_TLNGSTR:VR},thread_status:{LUA_ERRSYNTAX:GR},to_luastring:Ne}=ve(),{LUA_MINBUFFER:KR,MAX_INT:_x,lua_assert:sl}=at(),HR=fn(),jR=Mt(),{lisdigit:$a,lislalnum:XR,lislalpha:zR,lisspace:JR,lisxdigit:Xi}=ni(),gt=ht(),{luaS_bless:ZR,luaS_hash:$R,luaS_hashlongstr:zi,luaS_new:YR}=zt(),WR=Jt(),{EOZ:ul,luaZ_buffer:Ji,luaZ_buffremove:ko,luaZ_resetbuffer:za,luaZ_resizebuffer:hx}=bo(),V=257,dx=Ne("_ENV",!0),LR=V,QR=V+1,eU=V+2,tU=V+3,nU=V+4,rU=V+5,lU=V+6,oU=V+7,aU=V+8,sU=V+9,uU=V+10,iU=V+11,cU=V+12,fU=V+13,pU=V+14,_U=V+15,hU=V+16,dU=V+17,gU=V+18,xU=V+19,AU=V+20,bU=V+21,gx=V+22,xx=V+23,Ax=V+24,bx=V+25,kx=V+26,mx=V+27,Tx=V+28,vx=V+29,Ex=V+30,Ox=V+31,pn=V+32,Ja=V+33,Zi=V+34,$i=V+35,Tr=V+36,kU={TK_AND:LR,TK_BREAK:QR,TK_DO:eU,TK_ELSE:tU,TK_ELSEIF:nU,TK_END:rU,TK_FALSE:lU,TK_FOR:oU,TK_FUNCTION:aU,TK_GOTO:sU,TK_IF:uU,TK_IN:iU,TK_LOCAL:cU,TK_NIL:fU,TK_NOT:pU,TK_OR:_U,TK_REPEAT:hU,TK_RETURN:dU,TK_THEN:gU,TK_TRUE:xU,TK_UNTIL:AU,TK_WHILE:bU,TK_IDIV:gx,TK_CONCAT:xx,TK_DOTS:Ax,TK_EQ:bx,TK_GE:kx,TK_LE:mx,TK_NE:Tx,TK_SHL:vx,TK_SHR:Ex,TK_DBCOLON:Ox,TK_EOS:pn,TK_FLT:Ja,TK_INT:Zi,TK_NAME:$i,TK_STRING:Tr},Yi=["and","break","do","else","elseif","end","false","for","function","goto","if","in","local","nil","not","or","repeat","return","then","true","until","while","//","..","...","==",">=","<=","~=","<<",">>","::","<eof>","<number>","<integer>","<name>","<string>"].map((e,t)=>Ne(e)),mo=class{constructor(){this.r=NaN,this.i=NaN,this.ts=null}},Za=class{constructor(){this.token=NaN,this.seminfo=new mo}},Ki=class{constructor(){this.current=NaN,this.linenumber=NaN,this.lastline=NaN,this.t=new Za,this.lookahead=new Za,this.fs=null,this.L=null,this.z=null,this.buff=null,this.h=null,this.dyd=null,this.source=null,this.envn=null}},Ya=function(e,t){let n=e.buff;if(n.n+1>n.buffer.length){n.buffer.length>=_x/2&&_n(e,Ne("lexical element too long",!0),0);let r=n.buffer.length*2;hx(e.L,n,r)}n.buffer[n.n++]=t<0?255+t+1:t},Sx=function(e,t){if(t<V)return gt.luaO_pushfstring(e.L,Ne("'%c'",!0),t);{let n=Yi[t-V];return t<pn?gt.luaO_pushfstring(e.L,Ne("'%s'",!0),n):n}},To=function(e){return e.current===10||e.current===13},we=function(e){e.current=e.z.zgetc()},be=function(e){Ya(e,e.current),we(e)},mU=new gt.TValue(BR,!0),Wa=function(e,t){let n=e.L,r=YR(n,t),l=e.h.strong.get(zi(r));if(l)r=l.key.tsvalue();else{let o=new gt.TValue(VR,r);WR.luaH_setfrom(n,e.h,o,mU)}return r},vo=function(e){let t=e.current;sl(To(e)),we(e),To(e)&&e.current!==t&&we(e),++e.linenumber>=_x&&_n(e,Ne("chunk has too many lines",!0),0)},TU=function(e,t,n,r,l){t.t={token:0,seminfo:new mo},t.L=e,t.current=l,t.lookahead={token:pn,seminfo:new mo},t.z=n,t.fs=null,t.linenumber=1,t.lastline=1,t.source=r,t.envn=ZR(e,dx),hx(e,t.buff,KR)},Wt=function(e,t){return e.current===t?(we(e),!0):!1},Gi=function(e,t){return e.current===t[0].charCodeAt(0)||e.current===t[1].charCodeAt(0)?(be(e),!0):!1},fx=function(e,t){let n="Ee",r=e.current;for(sl($a(e.current)),be(e),r===48&&Gi(e,"xX")&&(n="Pp");;)if(Gi(e,n)&&Gi(e,"-+"),Xi(e.current))be(e);else if(e.current===46)be(e);else break;let l=new gt.TValue;return gt.luaO_str2num(Ji(e.buff),l)===0&&_n(e,Ne("malformed number",!0),Ja),l.ttisinteger()?(t.i=l.value,Zi):(sl(l.ttisfloat()),t.r=l.value,Ja)},vU=function(e,t){switch(t){case $i:case Tr:case Ja:case Zi:return gt.luaO_pushfstring(e.L,Ne("'%s'",!0),Ji(e.buff));default:return Sx(e,t)}},_n=function(e,t,n){t=HR.luaG_addinfo(e.L,t,e.source,e.linenumber),n&&gt.luaO_pushfstring(e.L,Ne("%s near %s"),t,vU(e,n)),jR.luaD_throw(e.L,GR)},EU=function(e,t){_n(e,t,e.t.token)},Hi=function(e){let t=0,n=e.current;for(sl(n===91||n===93),be(e);e.current===61;)be(e),t++;return e.current===n?t:-t-1},px=function(e,t,n){let r=e.linenumber;be(e),To(e)&&vo(e);let l=!1;for(;!l;)switch(e.current){case ul:{let a=\`unfinished long \${t?"string":"comment"} (starting at line \${r})\`;_n(e,Ne(a),pn);break}case 93:{Hi(e)===n&&(be(e),l=!0);break}case 10:case 13:{Ya(e,10),vo(e),t||za(e.buff);break}default:t?be(e):we(e)}t&&(t.ts=Wa(e,e.buff.buffer.subarray(2+n,e.buff.n-(2+n))))},al=function(e,t,n){t||(e.current!==ul&&be(e),_n(e,n,Tr))},ji=function(e){return be(e),al(e,Xi(e.current),Ne("hexadecimal digit expected",!0)),gt.luaO_hexavalue(e.current)},OU=function(e){let t=ji(e);return t=(t<<4)+ji(e),ko(e.buff,2),t},SU=function(e){let t=4;be(e),al(e,e.current===123,Ne("missing '{'",!0));let n=ji(e);for(be(e);Xi(e.current);)t++,n=(n<<4)+gt.luaO_hexavalue(e.current),al(e,n<=1114111,Ne("UTF-8 value too large",!0)),be(e);return al(e,e.current===125,Ne("missing '}'",!0)),we(e),ko(e.buff,t),n},wU=function(e){let t=new Uint8Array(gt.UTF8BUFFSZ),n=gt.luaO_utf8esc(t,SU(e));for(;n>0;n--)Ya(e,t[gt.UTF8BUFFSZ-n])},RU=function(e){let t=0,n;for(n=0;n<3&&$a(e.current);n++)t=10*t+e.current-48,be(e);return al(e,t<=255,Ne("decimal escape too large",!0)),ko(e.buff,n),t},UU=function(e,t,n){for(be(e);e.current!==t;)switch(e.current){case ul:_n(e,Ne("unfinished string",!0),pn);break;case 10:case 13:_n(e,Ne("unfinished string",!0),Tr);break;case 92:{be(e);let r,l;switch(e.current){case 97:l=7,r="read_save";break;case 98:l=8,r="read_save";break;case 102:l=12,r="read_save";break;case 110:l=10,r="read_save";break;case 114:l=13,r="read_save";break;case 116:l=9,r="read_save";break;case 118:l=11,r="read_save";break;case 120:l=OU(e),r="read_save";break;case 117:wU(e),r="no_save";break;case 10:case 13:vo(e),l=10,r="only_save";break;case 92:case 34:case 39:l=e.current,r="read_save";break;case ul:r="no_save";break;case 122:{for(ko(e.buff,1),we(e);JR(e.current);)To(e)?vo(e):we(e);r="no_save";break}default:{al(e,$a(e.current),Ne("invalid escape sequence",!0)),l=RU(e),r="only_save";break}}r==="read_save"&&we(e),(r==="read_save"||r==="only_save")&&(ko(e.buff,1),Ya(e,l));break}default:be(e)}be(e),n.ts=Wa(e,e.buff.buffer.subarray(1,e.buff.n-1))},Wi=Object.create(null);Yi.forEach((e,t)=>Wi[$R(e)]=t);var yU=function(e){let t=Wi[zi(e)];return t!==void 0&&t<=22},wx=function(e,t){for(za(e.buff);;)switch(sl(typeof e.current=="number"),e.current){case 10:case 13:{vo(e);break}case 32:case 12:case 9:case 11:{we(e);break}case 45:{if(we(e),e.current!==45)return 45;if(we(e),e.current===91){let n=Hi(e);if(za(e.buff),n>=0){px(e,null,n),za(e.buff);break}}for(;!To(e)&&e.current!==ul;)we(e);break}case 91:{let n=Hi(e);return n>=0?(px(e,t,n),Tr):(n!==-1&&_n(e,Ne("invalid long string delimiter",!0),Tr),91)}case 61:return we(e),Wt(e,61)?bx:61;case 60:return we(e),Wt(e,61)?mx:Wt(e,60)?vx:60;case 62:return we(e),Wt(e,61)?kx:Wt(e,62)?Ex:62;case 47:return we(e),Wt(e,47)?gx:47;case 126:return we(e),Wt(e,61)?Tx:126;case 58:return we(e),Wt(e,58)?Ox:58;case 34:case 39:return UU(e,e.current,t),Tr;case 46:return be(e),Wt(e,46)?Wt(e,46)?Ax:xx:$a(e.current)?fx(e,t):46;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return fx(e,t);case ul:return pn;default:if(zR(e.current)){do be(e);while(XR(e.current));let n=Wa(e,Ji(e.buff));t.ts=n;let r=Wi[zi(n)];return r!==void 0&&r<=22?r+V:$i}else{let n=e.current;return we(e),n}}},NU=function(e){e.lastline=e.linenumber,e.lookahead.token!==pn?(e.t.token=e.lookahead.token,e.t.seminfo.i=e.lookahead.seminfo.i,e.t.seminfo.r=e.lookahead.seminfo.r,e.t.seminfo.ts=e.lookahead.seminfo.ts,e.lookahead.token=pn):e.t.token=wx(e,e.t.seminfo)},CU=function(e){return sl(e.lookahead.token===pn),e.lookahead.token=wx(e,e.lookahead.seminfo),e.lookahead.token};xt.exports.FIRST_RESERVED=V;xt.exports.LUA_ENV=dx;xt.exports.LexState=Ki;xt.exports.RESERVED=kU;xt.exports.isreserved=yU;xt.exports.luaX_lookahead=CU;xt.exports.luaX_newstring=Wa;xt.exports.luaX_next=NU;xt.exports.luaX_setinput=TU;xt.exports.luaX_syntaxerror=EU;xt.exports.luaX_token2str=Sx;xt.exports.luaX_tokens=Yi});var eA=A((p6,q)=>{var{LUA_MULTRET:ec,LUA_OPADD:IU,LUA_OPBAND:DU,LUA_OPBNOT:MU,LUA_OPBOR:PU,LUA_OPBXOR:FU,LUA_OPDIV:qU,LUA_OPIDIV:BU,LUA_OPMOD:VU,LUA_OPSHL:GU,LUA_OPSHR:KU,LUA_OPUNM:HU,constant_types:{LUA_TBOOLEAN:jU,LUA_TLIGHTUSERDATA:XU,LUA_TLNGSTR:zU,LUA_TNIL:JU,LUA_TNUMFLT:Mx,LUA_TNUMINT:tc,LUA_TTABLE:ZU},to_luastring:nc}=ve(),{lua_assert:_e}=at(),rc=La(),lc=ht(),y=gr(),ee=cc(),Rx=Jt(),Ux=Ar(),z=y.OpCodesI,Lt=lc.TValue,$U=255,le=-1,B={OPR_ADD:0,OPR_SUB:1,OPR_MUL:2,OPR_MOD:3,OPR_POW:4,OPR_DIV:5,OPR_IDIV:6,OPR_BAND:7,OPR_BOR:8,OPR_BXOR:9,OPR_SHL:10,OPR_SHR:11,OPR_CONCAT:12,OPR_EQ:13,OPR_LT:14,OPR_LE:15,OPR_NE:16,OPR_GT:17,OPR_GE:18,OPR_AND:19,OPR_OR:20,OPR_NOBINOPR:21},Eo={OPR_MINUS:0,OPR_BNOT:1,OPR_NOT:2,OPR_LEN:3,OPR_NOUNOPR:4},cl=function(e){return e.t!==e.f},Li=function(e,t){let n=ee.expkind;if(cl(e))return!1;switch(e.k){case n.VKINT:return t?new Lt(tc,e.u.ival):!0;case n.VKFLT:return t?new Lt(Mx,e.u.nval):!0;default:return!1}},Px=function(e,t,n){let r,l=t+n-1;if(e.pc>e.lasttarget&&(r=e.f.code[e.pc-1],r.opcode===z.OP_LOADNIL)){let o=r.A,a=o+r.B;if(o<=t&&t<=a+1||t<=o&&o<=l+1){o<t&&(t=o),a>l&&(l=a),y.SETARG_A(r,t),y.SETARG_B(r,l-t);return}}ze(e,z.OP_LOADNIL,t,n-1,0)},hn=function(e,t){return e.f.code[t.u.info]},il=function(e,t){let n=e.f.code[t].sBx;return n===le?le:t+1+n},Qi=function(e,t,n){let r=e.f.code[t],l=n-(t+1);_e(n!==le),Math.abs(l)>y.MAXARG_sBx&&rc.luaX_syntaxerror(e.ls,nc("control structure too long",!0)),y.SETARG_sBx(r,l)},Hn=function(e,t,n){if(n===le)return t;if(t===le)t=n;else{let r=t,l=il(e,r);for(;l!==le;)r=l,l=il(e,r);Qi(e,r,n)}return t},ns=function(e){let t=e.jpc;e.jpc=le;let n=Gx(e,z.OP_JMP,0,le);return n=Hn(e,n,t),n},YU=function(e,t){return Vx(e,ns(e),t)},WU=function(e,t,n){ze(e,z.OP_RETURN,t,n+1,0)},Oo=function(e,t,n,r,l){return ze(e,t,n,r,l),ns(e)},rs=function(e){return e.lasttarget=e.pc,e.pc},Fx=function(e,t){return t>=1&&y.testTMode(e.f.code[t-1].opcode)?t-1:t},qx=function(e,t){return e.f.code[Fx(e,t)]},Bx=function(e,t,n){let r=Fx(e,t),l=e.f.code[r];return l.opcode!==z.OP_TESTSET?!1:(n!==y.NO_REG&&n!==l.B?y.SETARG_A(l,n):e.f.code[r]=y.CREATE_ABC(z.OP_TEST,l.B,0,l.C),!0)},yx=function(e,t){for(;t!==le;t=il(e,t))Bx(e,t,y.NO_REG)},es=function(e,t,n,r,l){for(;t!==le;){let o=il(e,t);Bx(e,t,r)?Qi(e,t,n):Qi(e,t,l),t=o}},LU=function(e){es(e,e.jpc,e.pc,y.NO_REG,e.pc),e.jpc=le},So=function(e,t){rs(e),e.jpc=Hn(e,e.jpc,t)},Vx=function(e,t,n){n===e.pc?So(e,t):(_e(n<e.pc),es(e,t,n,y.NO_REG,n))},QU=function(e,t,n){for(n++;t!==le;t=il(e,t)){let r=e.f.code[t];_e(r.opcode===z.OP_JMP&&(r.A===0||r.A>=n)),y.SETARG_A(r,n)}},ls=function(e,t){let n=e.f;return LU(e),n.code[e.pc]=t,n.lineinfo[e.pc]=e.ls.lastline,e.pc++},ze=function(e,t,n,r,l){return _e(y.getOpMode(t)===y.iABC),_e(y.getBMode(t)!==y.OpArgN||r===0),_e(y.getCMode(t)!==y.OpArgN||l===0),_e(n<=y.MAXARG_A&&r<=y.MAXARG_B&&l<=y.MAXARG_C),ls(e,y.CREATE_ABC(t,n,r,l))},ts=function(e,t,n,r){return _e(y.getOpMode(t)===y.iABx||y.getOpMode(t)===y.iAsBx),_e(y.getCMode(t)===y.OpArgN),_e(n<=y.MAXARG_A&&r<=y.MAXARG_Bx),ls(e,y.CREATE_ABx(t,n,r))},Gx=function(e,t,n,r){return ts(e,t,n,r+y.MAXARG_sBx)},Kx=function(e,t){return _e(t<=y.MAXARG_Ax),ls(e,y.CREATE_Ax(z.OP_EXTRAARG,t))},Qa=function(e,t,n){if(n<=y.MAXARG_Bx)return ts(e,z.OP_LOADK,t,n);{let r=ts(e,z.OP_LOADKX,t,0);return Kx(e,n),r}},Hx=function(e,t){let n=e.freereg+t;n>e.f.maxstacksize&&(n>=$U&&rc.luaX_syntaxerror(e.ls,nc("function or expression needs too many registers",!0)),e.f.maxstacksize=n)},wo=function(e,t){Hx(e,t),e.freereg+=t},vr=function(e,t){!y.ISK(t)&&t>=e.nactvar&&(e.freereg--,_e(t===e.freereg))},dn=function(e,t){t.k===ee.expkind.VNONRELOC&&vr(e,t.u.info)},jx=function(e,t,n){let r=t.k===ee.expkind.VNONRELOC?t.u.info:-1,l=n.k===ee.expkind.VNONRELOC?n.u.info:-1;r>l?(vr(e,r),vr(e,l)):(vr(e,l),vr(e,r))},Ro=function(e,t,n){let r=e.f,l=Rx.luaH_get(e.L,e.ls.h,t);if(l.ttisinteger()){let a=l.value;if(a<e.nk&&r.k[a].ttype()===n.ttype()&&r.k[a].value===n.value)return a}let o=e.nk;return Rx.luaH_setfrom(e.L,e.ls.h,t,new lc.TValue(tc,o)),r.k[o]=n,e.nk++,o},ey=function(e,t){let n=new Lt(zU,t);return Ro(e,n,n)},oc=function(e,t){let n=new Lt(XU,t),r=new Lt(tc,t);return Ro(e,n,r)},ac=function(e,t){let n=new Lt(Mx,t);return Ro(e,n,n)},Nx=function(e,t){let n=new Lt(jU,t);return Ro(e,n,n)},ty=function(e){let t=new Lt(JU,null),n=new Lt(ZU,e.ls.h);return Ro(e,n,t)},Xx=function(e,t,n){let r=ee.expkind;if(t.k===r.VCALL)y.SETARG_C(hn(e,t),n+1);else if(t.k===r.VVARARG){let l=hn(e,t);y.SETARG_B(l,n+1),y.SETARG_A(l,e.freereg),wo(e,1)}else _e(n===ec)},ny=function(e,t){Xx(e,t,ec)},zx=function(e,t){let n=ee.expkind;t.k===n.VCALL?(_e(hn(e,t).C===2),t.k=n.VNONRELOC,t.u.info=hn(e,t).A):t.k===n.VVARARG&&(y.SETARG_B(hn(e,t),2),t.k=n.VRELOCABLE)},Qt=function(e,t){let n=ee.expkind;switch(t.k){case n.VLOCAL:{t.k=n.VNONRELOC;break}case n.VUPVAL:{t.u.info=ze(e,z.OP_GETUPVAL,0,t.u.info,0),t.k=n.VRELOCABLE;break}case n.VINDEXED:{let r;vr(e,t.u.ind.idx),t.u.ind.vt===n.VLOCAL?(vr(e,t.u.ind.t),r=z.OP_GETTABLE):(_e(t.u.ind.vt===n.VUPVAL),r=z.OP_GETTABUP),t.u.info=ze(e,r,0,t.u.ind.t,t.u.ind.idx),t.k=n.VRELOCABLE;break}case n.VVARARG:case n.VCALL:{zx(e,t);break}default:break}},Cx=function(e,t,n,r){return rs(e),ze(e,z.OP_LOADBOOL,t,n,r)},Jx=function(e,t,n){let r=ee.expkind;switch(Qt(e,t),t.k){case r.VNIL:{Px(e,n,1);break}case r.VFALSE:case r.VTRUE:{ze(e,z.OP_LOADBOOL,n,t.k===r.VTRUE,0);break}case r.VK:{Qa(e,n,t.u.info);break}case r.VKFLT:{Qa(e,n,ac(e,t.u.nval));break}case r.VKINT:{Qa(e,n,oc(e,t.u.ival));break}case r.VRELOCABLE:{let l=hn(e,t);y.SETARG_A(l,n);break}case r.VNONRELOC:{n!==t.u.info&&ze(e,z.OP_MOVE,n,t.u.info,0);break}default:{_e(t.k===r.VJMP);return}}t.u.info=n,t.k=r.VNONRELOC},Zx=function(e,t){t.k!==ee.expkind.VNONRELOC&&(wo(e,1),Jx(e,t,e.freereg-1))},Ix=function(e,t){for(;t!==le;t=il(e,t))if(qx(e,t).opcode!==z.OP_TESTSET)return!0;return!1},sc=function(e,t,n){let r=ee.expkind;if(Jx(e,t,n),t.k===r.VJMP&&(t.t=Hn(e,t.t,t.u.info)),cl(t)){let l,o=le,a=le;if(Ix(e,t.t)||Ix(e,t.f)){let s=t.k===r.VJMP?le:ns(e);o=Cx(e,n,0,1),a=Cx(e,n,1,0),So(e,s)}l=rs(e),es(e,t.f,l,n,o),es(e,t.t,l,n,a)}t.f=t.t=le,t.u.info=n,t.k=r.VNONRELOC},os=function(e,t){Qt(e,t),dn(e,t),wo(e,1),sc(e,t,e.freereg-1)},Er=function(e,t){if(Qt(e,t),t.k===ee.expkind.VNONRELOC){if(!cl(t))return t.u.info;if(t.u.info>=e.nactvar)return sc(e,t,t.u.info),t.u.info}return os(e,t),t.u.info},ry=function(e,t){(t.k!==ee.expkind.VUPVAL||cl(t))&&Er(e,t)},uc=function(e,t){cl(t)?Er(e,t):Qt(e,t)},gn=function(e,t){let n=ee.expkind,r=!1;switch(uc(e,t),t.k){case n.VTRUE:t.u.info=Nx(e,!0),r=!0;break;case n.VFALSE:t.u.info=Nx(e,!1),r=!0;break;case n.VNIL:t.u.info=ty(e),r=!0;break;case n.VKINT:t.u.info=oc(e,t.u.ival),r=!0;break;case n.VKFLT:t.u.info=ac(e,t.u.nval),r=!0;break;case n.VK:r=!0;break;default:break}return r&&(t.k=n.VK,t.u.info<=y.MAXINDEXRK)?y.RKASK(t.u.info):Er(e,t)},ly=function(e,t,n){let r=ee.expkind;switch(t.k){case r.VLOCAL:{dn(e,n),sc(e,n,t.u.info);return}case r.VUPVAL:{let l=Er(e,n);ze(e,z.OP_SETUPVAL,l,t.u.info,0);break}case r.VINDEXED:{let l=t.u.ind.vt===r.VLOCAL?z.OP_SETTABLE:z.OP_SETTABUP,o=gn(e,n);ze(e,l,t.u.ind.t,t.u.ind.idx,o);break}}dn(e,n)},oy=function(e,t,n){Er(e,t);let r=t.u.info;dn(e,t),t.u.info=e.freereg,t.k=ee.expkind.VNONRELOC,wo(e,2),ze(e,z.OP_SELF,t.u.info,r,gn(e,n)),dn(e,n)},$x=function(e,t){let n=qx(e,t.u.info);_e(y.testTMode(n.opcode)&&n.opcode!==z.OP_TESTSET&&n.opcode!==z.OP_TEST),y.SETARG_A(n,!n.A)},Yx=function(e,t,n){if(t.k===ee.expkind.VRELOCABLE){let r=hn(e,t);if(r.opcode===z.OP_NOT)return e.pc--,Oo(e,z.OP_TEST,r.B,0,!n)}return Zx(e,t),dn(e,t),Oo(e,z.OP_TESTSET,y.NO_REG,t.u.info,n)},Wx=function(e,t){let n=ee.expkind,r;switch(Qt(e,t),t.k){case n.VJMP:{$x(e,t),r=t.u.info;break}case n.VK:case n.VKFLT:case n.VKINT:case n.VTRUE:{r=le;break}default:{r=Yx(e,t,0);break}}t.f=Hn(e,t.f,r),So(e,t.t),t.t=le},Lx=function(e,t){let n=ee.expkind,r;switch(Qt(e,t),t.k){case n.VJMP:{r=t.u.info;break}case n.VNIL:case n.VFALSE:{r=le;break}default:{r=Yx(e,t,1);break}}t.t=Hn(e,t.t,r),So(e,t.f),t.f=le},ay=function(e,t){let n=ee.expkind;switch(Qt(e,t),t.k){case n.VNIL:case n.VFALSE:{t.k=n.VTRUE;break}case n.VK:case n.VKFLT:case n.VKINT:case n.VTRUE:{t.k=n.VFALSE;break}case n.VJMP:{$x(e,t);break}case n.VRELOCABLE:case n.VNONRELOC:{Zx(e,t),dn(e,t),t.u.info=ze(e,z.OP_NOT,0,t.u.info,0),t.k=n.VRELOCABLE;break}}{let r=t.f;t.f=t.t,t.t=r}yx(e,t.f),yx(e,t.t)},sy=function(e,t,n){let r=ee.expkind;_e(!cl(t)&&(ee.vkisinreg(t.k)||t.k===r.VUPVAL)),t.u.ind.t=t.u.info,t.u.ind.idx=gn(e,n),t.u.ind.vt=t.k===r.VUPVAL?r.VUPVAL:r.VLOCAL,t.k=r.VINDEXED},uy=function(e,t,n){switch(e){case DU:case PU:case FU:case GU:case KU:case MU:return Ux.tointeger(t)!==!1&&Ux.tointeger(n)!==!1;case qU:case BU:case VU:return n.value!==0;default:return 1}},Qx=function(e,t,n){let r=ee.expkind,l,o;if(!(l=Li(t,!0))||!(o=Li(n,!0))||!uy(e,l,o))return 0;let a=new Lt;if(lc.luaO_arith(null,e,l,o,a),a.ttisinteger())t.k=r.VKINT,t.u.ival=a.value;else{let s=a.value;if(isNaN(s)||s===0)return!1;t.k=r.VKFLT,t.u.nval=s}return!0},iy=function(e,t,n,r){let l=Er(e,n);dn(e,n),n.u.info=ze(e,t,0,l,0),n.k=ee.expkind.VRELOCABLE,ic(e,r)},Dx=function(e,t,n,r,l){let o=gn(e,r),a=gn(e,n);jx(e,n,r),n.u.info=ze(e,t,0,a,o),n.k=ee.expkind.VRELOCABLE,ic(e,l)},cy=function(e,t,n,r){let l=ee.expkind,o;n.k===l.VK?o=y.RKASK(n.u.info):(_e(n.k===l.VNONRELOC),o=n.u.info);let a=gn(e,r);switch(jx(e,n,r),t){case B.OPR_NE:{n.u.info=Oo(e,z.OP_EQ,0,o,a);break}case B.OPR_GT:case B.OPR_GE:{let s=t-B.OPR_NE+z.OP_EQ;n.u.info=Oo(e,s,1,a,o);break}default:{let s=t-B.OPR_EQ+z.OP_EQ;n.u.info=Oo(e,s,1,o,a);break}}n.k=l.VJMP},fy=function(e,t,n,r){let l=new ee.expdesc;switch(l.k=ee.expkind.VKINT,l.u.ival=l.u.nval=l.u.info=0,l.t=le,l.f=le,t){case Eo.OPR_MINUS:case Eo.OPR_BNOT:if(Qx(t+HU,n,l))break;case Eo.OPR_LEN:iy(e,t+z.OP_UNM,n,r);break;case Eo.OPR_NOT:ay(e,n);break}},py=function(e,t,n){switch(t){case B.OPR_AND:{Wx(e,n);break}case B.OPR_OR:{Lx(e,n);break}case B.OPR_CONCAT:{os(e,n);break}case B.OPR_ADD:case B.OPR_SUB:case B.OPR_MUL:case B.OPR_DIV:case B.OPR_IDIV:case B.OPR_MOD:case B.OPR_POW:case B.OPR_BAND:case B.OPR_BOR:case B.OPR_BXOR:case B.OPR_SHL:case B.OPR_SHR:{Li(n,!1)||gn(e,n);break}default:{gn(e,n);break}}},_y=function(e,t,n,r,l){let o=ee.expkind;switch(t){case B.OPR_AND:{_e(n.t===le),Qt(e,r),r.f=Hn(e,r.f,n.f),n.to(r);break}case B.OPR_OR:{_e(n.f===le),Qt(e,r),r.t=Hn(e,r.t,n.t),n.to(r);break}case B.OPR_CONCAT:{uc(e,r);let a=hn(e,r);r.k===o.VRELOCABLE&&a.opcode===z.OP_CONCAT?(_e(n.u.info===a.B-1),dn(e,n),y.SETARG_B(a,n.u.info),n.k=o.VRELOCABLE,n.u.info=r.u.info):(os(e,r),Dx(e,z.OP_CONCAT,n,r,l));break}case B.OPR_ADD:case B.OPR_SUB:case B.OPR_MUL:case B.OPR_DIV:case B.OPR_IDIV:case B.OPR_MOD:case B.OPR_POW:case B.OPR_BAND:case B.OPR_BOR:case B.OPR_BXOR:case B.OPR_SHL:case B.OPR_SHR:{Qx(t+IU,n,r)||Dx(e,t+z.OP_ADD,n,r,l);break}case B.OPR_EQ:case B.OPR_LT:case B.OPR_LE:case B.OPR_NE:case B.OPR_GT:case B.OPR_GE:{cy(e,t,n,r);break}}return n},ic=function(e,t){e.f.lineinfo[e.pc-1]=t},hy=function(e,t,n,r){let l=(n-1)/y.LFIELDS_PER_FLUSH+1,o=r===ec?0:r;_e(r!==0&&r<=y.LFIELDS_PER_FLUSH),l<=y.MAXARG_C?ze(e,z.OP_SETLIST,t,o,l):l<=y.MAXARG_Ax?(ze(e,z.OP_SETLIST,t,o,0),Kx(e,l)):rc.luaX_syntaxerror(e.ls,nc("constructor too long",!0)),e.freereg=t+1};q.exports.BinOpr=B;q.exports.NO_JUMP=le;q.exports.UnOpr=Eo;q.exports.getinstruction=hn;q.exports.luaK_checkstack=Hx;q.exports.luaK_code=ls;q.exports.luaK_codeABC=ze;q.exports.luaK_codeABx=ts;q.exports.luaK_codeAsBx=Gx;q.exports.luaK_codek=Qa;q.exports.luaK_concat=Hn;q.exports.luaK_dischargevars=Qt;q.exports.luaK_exp2RK=gn;q.exports.luaK_exp2anyreg=Er;q.exports.luaK_exp2anyregup=ry;q.exports.luaK_exp2nextreg=os;q.exports.luaK_exp2val=uc;q.exports.luaK_fixline=ic;q.exports.luaK_getlabel=rs;q.exports.luaK_goiffalse=Lx;q.exports.luaK_goiftrue=Wx;q.exports.luaK_indexed=sy;q.exports.luaK_infix=py;q.exports.luaK_intK=oc;q.exports.luaK_jump=ns;q.exports.luaK_jumpto=YU;q.exports.luaK_nil=Px;q.exports.luaK_numberK=ac;q.exports.luaK_patchclose=QU;q.exports.luaK_patchlist=Vx;q.exports.luaK_patchtohere=So;q.exports.luaK_posfix=_y;q.exports.luaK_prefix=fy;q.exports.luaK_reserveregs=wo;q.exports.luaK_ret=WU;q.exports.luaK_self=oy;q.exports.luaK_setlist=hy;q.exports.luaK_setmultret=ny;q.exports.luaK_setoneret=zx;q.exports.luaK_setreturns=Xx;q.exports.luaK_storevar=ly;q.exports.luaK_stringK=ey});var cc=A((_6,xl)=>{var{LUA_MULTRET:Ec,to_luastring:de}=ve(),{BinOpr:{OPR_ADD:dy,OPR_AND:gy,OPR_BAND:xy,OPR_BOR:Ay,OPR_BXOR:by,OPR_CONCAT:ky,OPR_DIV:my,OPR_EQ:Ty,OPR_GE:vy,OPR_GT:Ey,OPR_IDIV:Oy,OPR_LE:Sy,OPR_LT:wy,OPR_MOD:Ry,OPR_MUL:Uy,OPR_NE:yy,OPR_NOBINOPR:uA,OPR_OR:Ny,OPR_POW:Cy,OPR_SHL:Iy,OPR_SHR:Dy,OPR_SUB:My},UnOpr:{OPR_BNOT:Py,OPR_LEN:Fy,OPR_MINUS:qy,OPR_NOT:By,OPR_NOUNOPR:iA},NO_JUMP:fl,getinstruction:_c,luaK_checkstack:Vy,luaK_codeABC:hl,luaK_codeABx:Gy,luaK_codeAsBx:fc,luaK_codek:Ky,luaK_concat:Hy,luaK_dischargevars:jy,luaK_exp2RK:tA,luaK_exp2anyreg:Xy,luaK_exp2anyregup:cA,luaK_exp2nextreg:tn,luaK_exp2val:zy,luaK_fixline:as,luaK_getlabel:Oc,luaK_goiffalse:Jy,luaK_goiftrue:fA,luaK_indexed:Sc,luaK_infix:Zy,luaK_intK:$y,luaK_jump:Uo,luaK_jumpto:Yy,luaK_nil:Wy,luaK_patchclose:cs,luaK_patchlist:wc,luaK_patchtohere:yo,luaK_posfix:Ly,luaK_prefix:Qy,luaK_reserveregs:pl,luaK_ret:pA,luaK_self:eN,luaK_setlist:hc,luaK_setmultret:Rc,luaK_setoneret:tN,luaK_setreturns:nN,luaK_storevar:dc,luaK_stringK:rN}=eA(),nA=Mt(),Uc=kr(),F=La(),{LUAI_MAXCCALLS:_A,MAX_INT:hA,lua_assert:ut}=at(),en=ht(),{OpCodesI:{OP_CALL:lN,OP_CLOSURE:oN,OP_FORLOOP:aN,OP_FORPREP:sN,OP_GETUPVAL:uN,OP_MOVE:iN,OP_NEWTABLE:cN,OP_SETTABLE:fN,OP_TAILCALL:pN,OP_TFORCALL:_N,OP_TFORLOOP:hN,OP_VARARG:dN},LFIELDS_PER_FLUSH:gN,SETARG_B:xN,SETARG_C:dA,SET_OPCODE:AN}=gr(),{luaS_eqlngstr:bN,luaS_new:kN,luaS_newliteral:gA}=zt(),mN=Jt(),xA=Uc.Proto,b=F.RESERVED,TN=200,fs=function(e){return e===I.VCALL||e===I.VVARARG},dl=function(e,t){return bN(e,t)},Pt=class{constructor(){this.previous=null,this.firstlabel=NaN,this.firstgoto=NaN,this.nactvar=NaN,this.upval=NaN,this.isloop=NaN}},I={VVOID:0,VNIL:1,VTRUE:2,VFALSE:3,VK:4,VKFLT:5,VKINT:6,VNONRELOC:7,VLOCAL:8,VUPVAL:9,VINDEXED:10,VJMP:11,VRELOCABLE:12,VCALL:13,VVARARG:14},vN=function(e){return I.VLOCAL<=e&&e<=I.VINDEXED},EN=function(e){return e===I.VNONRELOC||e===I.VLOCAL},ae=class{constructor(){this.k=NaN,this.u={ival:NaN,nval:NaN,info:NaN,ind:{idx:NaN,t:NaN,vt:NaN}},this.t=NaN,this.f=NaN}to(t){this.k=t.k,this.u=t.u,this.t=t.t,this.f=t.f}},ss=class{constructor(){this.f=null,this.prev=null,this.ls=null,this.bl=null,this.pc=NaN,this.lasttarget=NaN,this.jpc=NaN,this.nk=NaN,this.np=NaN,this.firstlocal=NaN,this.nlocvars=NaN,this.nactvar=NaN,this.nups=NaN,this.freereg=NaN}},gc=class{constructor(){this.idx=NaN}},xc=class{constructor(){this.name=null,this.pc=NaN,this.line=NaN,this.nactvar=NaN}},us=class{constructor(){this.arr=[],this.n=NaN,this.size=NaN}},Ac=class{constructor(){this.actvar={arr:[],n:NaN,size:NaN},this.gt=new us,this.label=new us}},yc=function(e,t){e.t.token=0,F.luaX_syntaxerror(e,t)},AA=function(e,t){F.luaX_syntaxerror(e,en.luaO_pushfstring(e.L,de("%s expected",!0),F.luaX_token2str(e,t)))},ON=function(e,t,n){let r=e.ls.L,l=e.f.linedefined,o=l===0?de("main function",!0):en.luaO_pushfstring(r,de("function at line %d",!0),l),a=en.luaO_pushfstring(r,de("too many %s (limit is %d) in %s",!0),n,t,o);F.luaX_syntaxerror(e.ls,a)},gl=function(e,t,n,r){t>n&&ON(e,n,r)},et=function(e,t){return e.t.token===t?(F.luaX_next(e),!0):!1},Nc=function(e,t){e.t.token!==t&&AA(e,t)},At=function(e,t){Nc(e,t),F.luaX_next(e)},Cc=function(e,t,n){t||F.luaX_syntaxerror(e,n)},kn=function(e,t,n,r){et(e,t)||(r===e.linenumber?AA(e,t):F.luaX_syntaxerror(e,en.luaO_pushfstring(e.L,de("%s expected (to close %s at line %d)"),F.luaX_token2str(e,t),F.luaX_token2str(e,n),r)))},mn=function(e){Nc(e,b.TK_NAME);let t=e.t.seminfo.ts;return F.luaX_next(e),t},Ze=function(e,t,n){e.f=e.t=fl,e.k=t,e.u.info=n},ps=function(e,t,n){Ze(t,I.VK,rN(e.fs,n))},Ic=function(e,t){ps(e,t,mn(e))},SN=function(e,t){let n=e.fs,r=n.f;return r.locvars[n.nlocvars]=new en.LocVar,r.locvars[n.nlocvars].varname=t,n.nlocvars++},Sr=function(e,t){let n=e.fs,r=e.dyd,l=SN(e,t);gl(n,r.actvar.n+1-n.firstlocal,TN,de("local variables",!0)),r.actvar.arr[r.actvar.n]=new gc,r.actvar.arr[r.actvar.n].idx=l,r.actvar.n++},Or=function(e,t){Sr(e,F.luaX_newstring(e,de(t,!0)))},No=function(e,t){let n=e.ls.dyd.actvar.arr[e.firstlocal+t].idx;return ut(n<e.nlocvars),e.f.locvars[n]},_l=function(e,t){let n=e.fs;for(n.nactvar=n.nactvar+t;t;t--)No(n,n.nactvar-t).startpc=n.pc},wN=function(e,t){for(e.ls.dyd.actvar.n-=e.nactvar-t;e.nactvar>t;)No(e,--e.nactvar).endpc=e.pc},RN=function(e,t){let n=e.f.upvalues;for(let r=0;r<e.nups;r++)if(dl(n[r].name,t))return r;return-1},bA=function(e,t,n){let r=e.f;return gl(e,e.nups+1,Uc.MAXUPVAL,de("upvalues",!0)),r.upvalues[e.nups]={instack:n.k===I.VLOCAL,idx:n.u.info,name:t},e.nups++},UN=function(e,t){for(let n=e.nactvar-1;n>=0;n--)if(dl(t,No(e,n).varname))return n;return-1},yN=function(e,t){let n=e.bl;for(;n.nactvar>t;)n=n.previous;n.upval=1},bc=function(e,t,n,r){if(e===null)Ze(n,I.VVOID,0);else{let l=UN(e,t);if(l>=0)Ze(n,I.VLOCAL,l),r||yN(e,l);else{let o=RN(e,t);if(o<0){if(bc(e.prev,t,n,0),n.k===I.VVOID)return;o=bA(e,t,n)}Ze(n,I.VUPVAL,o)}}},kA=function(e,t){let n=mn(e),r=e.fs;if(bc(r,n,t,1),t.k===I.VVOID){let l=new ae;bc(r,e.envn,t,1),ut(t.k!==I.VVOID),ps(e,l,n),Sc(r,t,l)}},Dc=function(e,t,n,r){let l=e.fs,o=t-n;if(fs(r.k))o++,o<0&&(o=0),nN(l,r,o),o>1&&pl(l,o-1);else if(r.k!==I.VVOID&&tn(l,r),o>0){let a=l.freereg;pl(l,o),Wy(l,a,o)}n>t&&(e.fs.freereg-=n-t)},mA=function(e){let t=e.L;++t.nCcalls,gl(e.fs,t.nCcalls,_A,de("JS levels",!0))},TA=function(e){return e.L.nCcalls--},vA=function(e,t,n){let r=e.fs,l=e.dyd.gt,o=l.arr[t];if(ut(dl(o.name,n.name)),o.nactvar<n.nactvar){let a=No(r,o.nactvar).varname,s=en.luaO_pushfstring(e.L,de("<goto %s> at line %d jumps into the scope of local '%s'"),o.name.getstr(),o.line,a.getstr());yc(e,s)}wc(r,o.pc,n.pc);for(let a=t;a<l.n-1;a++)l.arr[a]=l.arr[a+1];l.n--},EA=function(e,t){let n=e.fs.bl,r=e.dyd,l=r.gt.arr[t];for(let o=n.firstlabel;o<r.label.n;o++){let a=r.label.arr[o];if(dl(a.name,l.name))return l.nactvar>a.nactvar&&(n.upval||r.label.n>n.firstlabel)&&cs(e.fs,l.pc,a.nactvar),vA(e,t,a),!0}return!1},Mc=function(e,t,n,r,l){let o=t.n;return t.arr[o]=new xc,t.arr[o].name=n,t.arr[o].line=r,t.arr[o].nactvar=e.fs.nactvar,t.arr[o].pc=l,t.n=o+1,o},OA=function(e,t){let n=e.dyd.gt,r=e.fs.bl.firstgoto;for(;r<n.n;)dl(n.arr[r].name,t.name)?vA(e,r,t):r++},NN=function(e,t){let n=t.firstgoto,r=e.ls.dyd.gt;for(;n<r.n;){let l=r.arr[n];l.nactvar>t.nactvar&&(t.upval&&cs(e,l.pc,t.nactvar),l.nactvar=t.nactvar),EA(e.ls,n)||n++}},xn=function(e,t,n){t.isloop=n,t.nactvar=e.nactvar,t.firstlabel=e.ls.dyd.label.n,t.firstgoto=e.ls.dyd.gt.n,t.upval=0,t.previous=e.bl,e.bl=t,ut(e.freereg===e.nactvar)},CN=function(e){let t=gA(e.L,"break"),n=Mc(e,e.dyd.label,t,0,e.fs.pc);OA(e,e.dyd.label.arr[n])},IN=function(e,t){let n=F.isreserved(t.name)?"<%s> at line %d not inside a loop":"no visible label '%s' for <goto> at line %d";n=en.luaO_pushfstring(e.L,de(n),t.name.getstr(),t.line),yc(e,n)},DN=function(e){let t=e.L,n=new xA(t),r=e.fs,l=r.f;return l.p[r.np++]=n,n},MN=function(e,t){let n=e.fs.prev;Ze(t,I.VRELOCABLE,Gy(n,oN,0,n.np-1)),tn(n,t)},SA=function(e,t,n){t.prev=e.fs,t.ls=e,e.fs=t,t.pc=0,t.lasttarget=0,t.jpc=fl,t.freereg=0,t.nk=0,t.np=0,t.nups=0,t.nlocvars=0,t.nactvar=0,t.firstlocal=e.dyd.actvar.n,t.bl=null;let r=t.f;r.source=e.source,r.maxstacksize=2,xn(t,n,!1)},An=function(e){let t=e.bl,n=e.ls;if(t.previous&&t.upval){let r=Uo(e);cs(e,r,t.nactvar),yo(e,r)}t.isloop&&CN(n),e.bl=t.previous,wN(e,t.nactvar),ut(t.nactvar===e.nactvar),e.freereg=e.nactvar,n.dyd.label.n=t.firstlabel,t.previous?NN(e,t):t.firstgoto<n.dyd.gt.n&&IN(n,n.dyd.gt.arr[t.firstgoto])},wA=function(e){let t=e.fs;pA(t,0,0),An(t),ut(t.bl===null),e.fs=t.prev},_s=function(e,t){switch(e.t.token){case b.TK_ELSE:case b.TK_ELSEIF:case b.TK_END:case b.TK_EOS:return!0;case b.TK_UNTIL:return t;default:return!1}},Co=function(e){for(;!_s(e,1);){if(e.t.token===b.TK_RETURN){vc(e);return}vc(e)}},kc=function(e,t){let n=e.fs,r=new ae;cA(n,t),F.luaX_next(e),Ic(e,r),Sc(n,t,r)},RA=function(e,t){F.luaX_next(e),bn(e,t),zy(e.fs,t),At(e,93)},mc=class{constructor(){this.v=new ae,this.t=new ae,this.nh=NaN,this.na=NaN,this.tostore=NaN}},rA=function(e,t){let n=e.fs,r=e.fs.freereg,l=new ae,o=new ae;e.t.token===b.TK_NAME?(gl(n,t.nh,hA,de("items in a constructor",!0)),Ic(e,l)):RA(e,l),t.nh++,At(e,61);let a=tA(n,l);bn(e,o),hl(n,fN,t.t.u.info,a,tA(n,o)),n.freereg=r},PN=function(e,t){t.v.k!==I.VVOID&&(tn(e,t.v),t.v.k=I.VVOID,t.tostore===gN&&(hc(e,t.t.u.info,t.na,t.tostore),t.tostore=0))},FN=function(e,t){t.tostore!==0&&(fs(t.v.k)?(Rc(e,t.v),hc(e,t.t.u.info,t.na,Ec),t.na--):(t.v.k!==I.VVOID&&tn(e,t.v),hc(e,t.t.u.info,t.na,t.tostore)))},lA=function(e,t){bn(e,t.v),gl(e.fs,t.na,hA,de("items in a constructor",!0)),t.na++,t.tostore++},qN=function(e,t){switch(e.t.token){case b.TK_NAME:{F.luaX_lookahead(e)!==61?lA(e,t):rA(e,t);break}case 91:{rA(e,t);break}default:{lA(e,t);break}}},UA=function(e,t){let n=e.fs,r=e.linenumber,l=hl(n,cN,0,0,0),o=new mc;o.na=o.nh=o.tostore=0,o.t=t,Ze(t,I.VRELOCABLE,l),Ze(o.v,I.VVOID,0),tn(e.fs,t),At(e,123);do{if(ut(o.v.k===I.VVOID||o.tostore>0),e.t.token===125)break;PN(n,o),qN(e,o)}while(et(e,44)||et(e,59));kn(e,125,123,r),FN(n,o),xN(n.f.code[l],en.luaO_int2fb(o.na)),dA(n.f.code[l],en.luaO_int2fb(o.nh))},BN=function(e){let t=e.fs,n=t.f,r=0;if(n.is_vararg=!1,e.t.token!==41)do switch(e.t.token){case b.TK_NAME:{Sr(e,mn(e)),r++;break}case b.TK_DOTS:{F.luaX_next(e),n.is_vararg=!0;break}default:F.luaX_syntaxerror(e,de("<name> or '...' expected",!0))}while(!n.is_vararg&&et(e,44));_l(e,r),n.numparams=t.nactvar,pl(t,t.nactvar)},Pc=function(e,t,n,r){let l=new ss,o=new Pt;l.f=DN(e),l.f.linedefined=r,SA(e,l,o),At(e,40),n&&(Or(e,"self"),_l(e,1)),BN(e),At(e,41),Co(e),l.f.lastlinedefined=e.linenumber,kn(e,b.TK_END,b.TK_FUNCTION,r),MN(e,t),wA(e)},Io=function(e,t){let n=1;for(bn(e,t);et(e,44);)tn(e.fs,t),bn(e,t),n++;return n},oA=function(e,t,n){let r=e.fs,l=new ae;switch(e.t.token){case 40:{F.luaX_next(e),e.t.token===41?l.k=I.VVOID:(Io(e,l),Rc(r,l)),kn(e,41,40,n);break}case 123:{UA(e,l);break}case b.TK_STRING:{ps(e,l,e.t.seminfo.ts),F.luaX_next(e);break}default:F.luaX_syntaxerror(e,de("function arguments expected",!0))}ut(t.k===I.VNONRELOC);let o,a=t.u.info;fs(l.k)?o=Ec:(l.k!==I.VVOID&&tn(r,l),o=r.freereg-(a+1)),Ze(t,I.VCALL,hl(r,lN,a,o+1,2)),as(r,n),r.freereg=a+1},VN=function(e,t){switch(e.t.token){case 40:{let n=e.linenumber;F.luaX_next(e),bn(e,t),kn(e,41,40,n),jy(e.fs,t);return}case b.TK_NAME:{kA(e,t);return}default:F.luaX_syntaxerror(e,de("unexpected symbol",!0))}},Fc=function(e,t){let n=e.fs,r=e.linenumber;for(VN(e,t);;)switch(e.t.token){case 46:{kc(e,t);break}case 91:{let l=new ae;cA(n,t),RA(e,l),Sc(n,t,l);break}case 58:{let l=new ae;F.luaX_next(e),Ic(e,l),eN(n,t,l),oA(e,t,r);break}case 40:case b.TK_STRING:case 123:{tn(n,t),oA(e,t,r);break}default:return}},GN=function(e,t){switch(e.t.token){case b.TK_FLT:{Ze(t,I.VKFLT,0),t.u.nval=e.t.seminfo.r;break}case b.TK_INT:{Ze(t,I.VKINT,0),t.u.ival=e.t.seminfo.i;break}case b.TK_STRING:{ps(e,t,e.t.seminfo.ts);break}case b.TK_NIL:{Ze(t,I.VNIL,0);break}case b.TK_TRUE:{Ze(t,I.VTRUE,0);break}case b.TK_FALSE:{Ze(t,I.VFALSE,0);break}case b.TK_DOTS:{let n=e.fs;Cc(e,n.f.is_vararg,de("cannot use '...' outside a vararg function",!0)),Ze(t,I.VVARARG,hl(n,dN,0,1,0));break}case 123:{UA(e,t);return}case b.TK_FUNCTION:{F.luaX_next(e),Pc(e,t,0,e.linenumber);return}default:{Fc(e,t);return}}F.luaX_next(e)},KN=function(e){switch(e){case b.TK_NOT:return By;case 45:return qy;case 126:return Py;case 35:return Fy;default:return iA}},HN=function(e){switch(e){case 43:return dy;case 45:return My;case 42:return Uy;case 37:return Ry;case 94:return Cy;case 47:return my;case b.TK_IDIV:return Oy;case 38:return xy;case 124:return Ay;case 126:return by;case b.TK_SHL:return Iy;case b.TK_SHR:return Dy;case b.TK_CONCAT:return ky;case b.TK_NE:return yy;case b.TK_EQ:return Ty;case 60:return wy;case b.TK_LE:return Sy;case 62:return Ey;case b.TK_GE:return vy;case b.TK_AND:return gy;case b.TK_OR:return Ny;default:return uA}},aA=[{left:10,right:10},{left:10,right:10},{left:11,right:11},{left:11,right:11},{left:14,right:13},{left:11,right:11},{left:11,right:11},{left:6,right:6},{left:4,right:4},{left:5,right:5},{left:7,right:7},{left:7,right:7},{left:9,right:8},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:3,right:3},{left:2,right:2},{left:1,right:1}],jN=12,Tc=function(e,t,n){mA(e);let r=KN(e.t.token);if(r!==iA){let o=e.linenumber;F.luaX_next(e),Tc(e,t,jN),Qy(e.fs,r,t,o)}else GN(e,t);let l=HN(e.t.token);for(;l!==uA&&aA[l].left>n;){let o=new ae,a=e.linenumber;F.luaX_next(e),Zy(e.fs,l,t);let s=Tc(e,o,aA[l].right);Ly(e.fs,l,t,o,a),l=s}return TA(e),l},bn=function(e,t){Tc(e,t,0)},hs=function(e){let t=e.fs,n=new Pt;xn(t,n,0),Co(e),An(t)},is=class{constructor(){this.prev=null,this.v=new ae}},XN=function(e,t,n){let r=e.fs,l=r.freereg,o=!1;for(;t;t=t.prev)t.v.k===I.VINDEXED&&(t.v.u.ind.vt===n.k&&t.v.u.ind.t===n.u.info&&(o=!0,t.v.u.ind.vt=I.VLOCAL,t.v.u.ind.t=l),n.k===I.VLOCAL&&t.v.u.ind.idx===n.u.info&&(o=!0,t.v.u.ind.idx=l));if(o){let a=n.k===I.VLOCAL?iN:uN;hl(r,a,l,n.u.info,0),pl(r,1)}},yA=function(e,t,n){let r=new ae;if(Cc(e,vN(t.v.k),de("syntax error",!0)),et(e,44)){let l=new is;l.prev=t,Fc(e,l.v),l.v.k!==I.VINDEXED&&XN(e,t,l.v),gl(e.fs,n+e.L.nCcalls,_A,de("JS levels",!0)),yA(e,l,n+1)}else{At(e,61);let l=Io(e,r);if(l!==n)Dc(e,n,l,r);else{tN(e.fs,r),dc(e.fs,t.v,r);return}}Ze(r,I.VNONRELOC,e.fs.freereg-1),dc(e.fs,t.v,r)},NA=function(e){let t=new ae;return bn(e,t),t.k===I.VNIL&&(t.k=I.VFALSE),fA(e.fs,t),t.f},CA=function(e,t){let n=e.linenumber,r;et(e,b.TK_GOTO)?r=mn(e):(F.luaX_next(e),r=gA(e.L,"break"));let l=Mc(e,e.dyd.gt,r,n,t);EA(e,l)},zN=function(e,t,n){for(let r=e.bl.firstlabel;r<t.n;r++)if(dl(n,t.arr[r].name)){let l=en.luaO_pushfstring(e.ls.L,de("label '%s' already defined on line %d",!0),n.getstr(),t.arr[r].line);yc(e.ls,l)}},JN=function(e){for(;e.t.token===59||e.t.token===b.TK_DBCOLON;)vc(e)},ZN=function(e,t,n){let r=e.fs,l=e.dyd.label,o;zN(r,l,t),At(e,b.TK_DBCOLON),o=Mc(e,l,t,n,Oc(r)),JN(e),_s(e,0)&&(l.arr[o].nactvar=r.bl.nactvar),OA(e,l.arr[o])},$N=function(e,t){let n=e.fs,r=new Pt;F.luaX_next(e);let l=Oc(n),o=NA(e);xn(n,r,1),At(e,b.TK_DO),hs(e),Yy(n,l),kn(e,b.TK_END,b.TK_WHILE,t),An(n),yo(n,o)},YN=function(e,t){let n=e.fs,r=Oc(n),l=new Pt,o=new Pt;xn(n,l,1),xn(n,o,0),F.luaX_next(e),Co(e),kn(e,b.TK_UNTIL,b.TK_REPEAT,t);let a=NA(e);o.upval&&cs(n,a,o.nactvar),An(n),wc(n,a,r),An(n)},pc=function(e){let t=new ae;return bn(e,t),tn(e.fs,t),ut(t.k===I.VNONRELOC),t.u.info},IA=function(e,t,n,r,l){let o=new Pt,a=e.fs,s;_l(e,3),At(e,b.TK_DO);let u=l?fc(a,sN,t,fl):Uo(a);xn(a,o,0),_l(e,r),pl(a,r),hs(e),An(a),yo(a,u),l?s=fc(a,aN,t,fl):(hl(a,_N,t,0,r),as(a,n),s=fc(a,hN,t+2,fl)),wc(a,s,u+1),as(a,n)},WN=function(e,t,n){let r=e.fs,l=r.freereg;Or(e,"(for index)"),Or(e,"(for limit)"),Or(e,"(for step)"),Sr(e,t),At(e,61),pc(e),At(e,44),pc(e),et(e,44)?pc(e):(Ky(r,r.freereg,$y(r,1)),pl(r,1)),IA(e,l,n,1,1)},LN=function(e,t){let n=e.fs,r=new ae,l=4,o=n.freereg;for(Or(e,"(for generator)"),Or(e,"(for state)"),Or(e,"(for control)"),Sr(e,t);et(e,44);)Sr(e,mn(e)),l++;At(e,b.TK_IN);let a=e.linenumber;Dc(e,3,Io(e,r),r),Vy(n,3),IA(e,o,a,l-3,0)},QN=function(e,t){let n=e.fs,r=new Pt;xn(n,r,1),F.luaX_next(e);let l=mn(e);switch(e.t.token){case 61:WN(e,l,t);break;case 44:case b.TK_IN:LN(e,l);break;default:F.luaX_syntaxerror(e,de("'=' or 'in' expected",!0))}kn(e,b.TK_END,b.TK_FOR,t),An(n)},sA=function(e,t){let n=new Pt,r=e.fs,l=new ae,o;if(F.luaX_next(e),bn(e,l),At(e,b.TK_THEN),e.t.token===b.TK_GOTO||e.t.token===b.TK_BREAK){for(Jy(e.fs,l),xn(r,n,!1),CA(e,l.t);et(e,59););if(_s(e,0))return An(r),t;o=Uo(r)}else fA(e.fs,l),xn(r,n,!1),o=l.f;return Co(e),An(r),(e.t.token===b.TK_ELSE||e.t.token===b.TK_ELSEIF)&&(t=Hy(r,t,Uo(r))),yo(r,o),t},eC=function(e,t){let n=e.fs,r=fl;for(r=sA(e,r);e.t.token===b.TK_ELSEIF;)r=sA(e,r);et(e,b.TK_ELSE)&&hs(e),kn(e,b.TK_END,b.TK_IF,t),yo(n,r)},tC=function(e){let t=new ae,n=e.fs;Sr(e,mn(e)),_l(e,1),Pc(e,t,0,e.linenumber),No(n,t.u.info).startpc=n.pc},nC=function(e){let t=0,n,r=new ae;do Sr(e,mn(e)),t++;while(et(e,44));et(e,61)?n=Io(e,r):(r.k=I.VVOID,n=0),Dc(e,t,n,r),_l(e,t)},rC=function(e,t){let n=0;for(kA(e,t);e.t.token===46;)kc(e,t);return e.t.token===58&&(n=1,kc(e,t)),n},lC=function(e,t){let n=new ae,r=new ae;F.luaX_next(e);let l=rC(e,n);Pc(e,r,l,t),dc(e.fs,n,r),as(e.fs,t)},oC=function(e){let t=e.fs,n=new is;Fc(e,n.v),e.t.token===61||e.t.token===44?(n.prev=null,yA(e,n,1)):(Cc(e,n.v.k===I.VCALL,de("syntax error",!0)),dA(_c(t,n.v),1))},aC=function(e){let t=e.fs,n=new ae,r,l;_s(e,1)||e.t.token===59?r=l=0:(l=Io(e,n),fs(n.k)?(Rc(t,n),n.k===I.VCALL&&l===1&&(AN(_c(t,n),pN),ut(_c(t,n).A===t.nactvar)),r=t.nactvar,l=Ec):l===1?r=Xy(t,n):(tn(t,n),r=t.nactvar,ut(l===t.freereg-r))),pA(t,r,l),et(e,59)},vc=function(e){let t=e.linenumber;switch(mA(e),e.t.token){case 59:{F.luaX_next(e);break}case b.TK_IF:{eC(e,t);break}case b.TK_WHILE:{$N(e,t);break}case b.TK_DO:{F.luaX_next(e),hs(e),kn(e,b.TK_END,b.TK_DO,t);break}case b.TK_FOR:{QN(e,t);break}case b.TK_REPEAT:{YN(e,t);break}case b.TK_FUNCTION:{lC(e,t);break}case b.TK_LOCAL:{F.luaX_next(e),et(e,b.TK_FUNCTION)?tC(e):nC(e);break}case b.TK_DBCOLON:{F.luaX_next(e),ZN(e,mn(e),t);break}case b.TK_RETURN:{F.luaX_next(e),aC(e);break}case b.TK_BREAK:case b.TK_GOTO:{CA(e,Uo(e.fs));break}default:{oC(e);break}}ut(e.fs.f.maxstacksize>=e.fs.freereg&&e.fs.freereg>=e.fs.nactvar),e.fs.freereg=e.fs.nactvar,TA(e)},sC=function(e,t){let n=new Pt,r=new ae;SA(e,t,n),t.f.is_vararg=!0,Ze(r,I.VLOCAL,0),bA(t,e.envn,r),F.luaX_next(e),Co(e),Nc(e,b.TK_EOS),wA(e)},uC=function(e,t,n,r,l,o){let a=new F.LexState,s=new ss,u=Uc.luaF_newLclosure(e,1);return nA.luaD_inctop(e),e.stack[e.top-1].setclLvalue(u),a.h=mN.luaH_new(e),nA.luaD_inctop(e),e.stack[e.top-1].sethvalue(a.h),s.f=u.p=new xA(e),s.f.source=kN(e,l),a.buff=n,a.dyd=r,r.actvar.n=r.gt.n=r.label.n=0,F.luaX_setinput(e,a,t,s.f.source,o),sC(a,s),ut(!s.prev&&s.nups===1&&!a.fs),ut(r.actvar.n===0&&r.gt.n===0&&r.label.n===0),delete e.stack[--e.top],u};xl.exports.Dyndata=Ac;xl.exports.expkind=I;xl.exports.expdesc=ae;xl.exports.luaY_parser=uC;xl.exports.vkisinreg=EN});var jA=A((h6,HA)=>{var{LUA_SIGNATURE:DA,constant_types:{LUA_TBOOLEAN:MA,LUA_TLNGSTR:PA,LUA_TNIL:FA,LUA_TNUMFLT:qA,LUA_TNUMINT:BA,LUA_TSHRSTR:iC},thread_status:{LUA_ERRSYNTAX:cC},is_luastring:fC,luastring_eq:pC,to_luastring:qc}=ve(),KA=Mt(),Bc=kr(),Al=ht(),{MAXARG_sBx:_C,POS_A:hC,POS_Ax:dC,POS_B:gC,POS_Bx:VA,POS_C:xC,POS_OP:AC,SIZE_A:bC,SIZE_Ax:kC,SIZE_B:mC,SIZE_Bx:GA,SIZE_C:TC,SIZE_OP:vC}=gr(),{lua_assert:Vc}=at(),{luaS_bless:EC}=zt(),{luaZ_read:bl,ZIO:OC}=bo(),SC=[25,147,13,10,26,10],Do=class{constructor(t,n,r){this.intSize=4,this.size_tSize=4,this.instructionSize=4,this.integerSize=4,this.numberSize=8,Vc(n instanceof OC,"BytecodeParser only operates on a ZIO"),Vc(fC(r)),r[0]===64||r[0]===61?this.name=r.subarray(1):r[0]==DA[0]?this.name=qc("binary string",!0):this.name=r,this.L=t,this.Z=n,this.arraybuffer=new ArrayBuffer(Math.max(this.intSize,this.size_tSize,this.instructionSize,this.integerSize,this.numberSize)),this.dv=new DataView(this.arraybuffer),this.u8=new Uint8Array(this.arraybuffer)}read(t){let n=new Uint8Array(t);return bl(this.Z,n,0,t)!==0&&this.error("truncated"),n}LoadByte(){return bl(this.Z,this.u8,0,1)!==0&&this.error("truncated"),this.u8[0]}LoadInt(){return bl(this.Z,this.u8,0,this.intSize)!==0&&this.error("truncated"),this.dv.getInt32(0,!0)}LoadNumber(){return bl(this.Z,this.u8,0,this.numberSize)!==0&&this.error("truncated"),this.dv.getFloat64(0,!0)}LoadInteger(){return bl(this.Z,this.u8,0,this.integerSize)!==0&&this.error("truncated"),this.dv.getInt32(0,!0)}LoadSize_t(){return this.LoadInteger()}LoadString(){let t=this.LoadByte();return t===255&&(t=this.LoadSize_t()),t===0?null:EC(this.L,this.read(t-1))}static MASK1(t,n){return~(-1<<t)<<n}LoadCode(t){let n=this.LoadInt(),r=Do;for(let l=0;l<n;l++){bl(this.Z,this.u8,0,this.instructionSize)!==0&&this.error("truncated");let o=this.dv.getUint32(0,!0);t.code[l]={code:o,opcode:o>>AC&r.MASK1(vC,0),A:o>>hC&r.MASK1(bC,0),B:o>>gC&r.MASK1(mC,0),C:o>>xC&r.MASK1(TC,0),Bx:o>>VA&r.MASK1(GA,0),Ax:o>>dC&r.MASK1(kC,0),sBx:(o>>VA&r.MASK1(GA,0))-_C}}}LoadConstants(t){let n=this.LoadInt();for(let r=0;r<n;r++){let l=this.LoadByte();switch(l){case FA:t.k.push(new Al.TValue(FA,null));break;case MA:t.k.push(new Al.TValue(MA,this.LoadByte()!==0));break;case qA:t.k.push(new Al.TValue(qA,this.LoadNumber()));break;case BA:t.k.push(new Al.TValue(BA,this.LoadInteger()));break;case iC:case PA:t.k.push(new Al.TValue(PA,this.LoadString()));break;default:this.error(\`unrecognized constant '\${l}'\`)}}}LoadProtos(t){let n=this.LoadInt();for(let r=0;r<n;r++)t.p[r]=new Bc.Proto(this.L),this.LoadFunction(t.p[r],t.source)}LoadUpvalues(t){let n=this.LoadInt();for(let r=0;r<n;r++)t.upvalues[r]={name:null,instack:this.LoadByte(),idx:this.LoadByte()}}LoadDebug(t){let n=this.LoadInt();for(let r=0;r<n;r++)t.lineinfo[r]=this.LoadInt();n=this.LoadInt();for(let r=0;r<n;r++)t.locvars[r]={varname:this.LoadString(),startpc:this.LoadInt(),endpc:this.LoadInt()};n=this.LoadInt();for(let r=0;r<n;r++)t.upvalues[r].name=this.LoadString()}LoadFunction(t,n){t.source=this.LoadString(),t.source===null&&(t.source=n),t.linedefined=this.LoadInt(),t.lastlinedefined=this.LoadInt(),t.numparams=this.LoadByte(),t.is_vararg=this.LoadByte()!==0,t.maxstacksize=this.LoadByte(),this.LoadCode(t),this.LoadConstants(t),this.LoadUpvalues(t),this.LoadProtos(t),this.LoadDebug(t)}checkliteral(t,n){let r=this.read(t.length);pC(r,t)||this.error(n)}checkHeader(){this.checkliteral(DA.subarray(1),"not a"),this.LoadByte()!==83&&this.error("version mismatch in"),this.LoadByte()!==0&&this.error("format mismatch in"),this.checkliteral(SC,"corrupted"),this.intSize=this.LoadByte(),this.size_tSize=this.LoadByte(),this.instructionSize=this.LoadByte(),this.integerSize=this.LoadByte(),this.numberSize=this.LoadByte(),this.checksize(this.intSize,4,"int"),this.checksize(this.size_tSize,4,"size_t"),this.checksize(this.instructionSize,4,"instruction"),this.checksize(this.integerSize,4,"integer"),this.checksize(this.numberSize,8,"number"),this.LoadInteger()!==22136&&this.error("endianness mismatch in"),this.LoadNumber()!==370.5&&this.error("float format mismatch in")}error(t){Al.luaO_pushfstring(this.L,qc("%s: %s precompiled chunk"),this.name,qc(t)),KA.luaD_throw(this.L,cC)}checksize(t,n,r){t!==n&&this.error(\`\${r} size mismatch in\`)}},wC=function(e,t,n){let r=new Do(e,t,n);r.checkHeader();let l=Bc.luaF_newLclosure(e,r.LoadByte());return KA.luaD_inctop(e),e.stack[e.top-1].setclLvalue(l),l.p=new Bc.Proto(e),r.LoadFunction(l.p,null),Vc(l.nupvalues===l.p.upvalues.length),l};HA.exports.luaU_undump=wC});var Mt=A((d6,Ce)=>{var{LUA_HOOKCALL:WA,LUA_HOOKRET:RC,LUA_HOOKTAILCALL:UC,LUA_MASKCALL:XA,LUA_MASKLINE:yC,LUA_MASKRET:zA,LUA_MINSTACK:ds,LUA_MULTRET:Xc,LUA_SIGNATURE:NC,constant_types:{LUA_TCCL:JA,LUA_TLCF:CC,LUA_TLCL:IC,LUA_TNIL:ml},thread_status:{LUA_ERRMEM:DC,LUA_ERRERR:zc,LUA_ERRRUN:Jc,LUA_ERRSYNTAX:MC,LUA_OK:Tn,LUA_YIELD:vn},lua_Debug:PC,luastring_indexOf:FC,to_luastring:jn}=ve(),wr=xo(),Po=fn(),Zc=kr(),{api_check:LA,lua_assert:bt,LUAI_MAXCCALLS:Mo}=at(),ge=ht(),qC=gr(),QA=cc(),xe=cn(),{luaS_newliteral:Kc}=zt(),ZA=br(),{LUAI_MAXSTACK:nn}=ot(),BC=jA(),Fo=Ar(),{MBuffer:VC}=bo(),$c=function(e,t){if(e.top<t)for(;e.top<t;)e.stack[e.top++]=new ge.TValue(ml,null);else for(;e.top>t;)delete e.stack[--e.top]},As=function(e,t,n){let r=e.top;for(;e.top<n+1;)e.stack[e.top++]=new ge.TValue(ml,null);switch(t){case DC:{ge.setsvalue2s(e,n,Kc(e,"not enough memory"));break}case zc:{ge.setsvalue2s(e,n,Kc(e,"error in error handling"));break}default:ge.setobjs2s(e,n,r-1)}for(;e.top>n+1;)delete e.stack[--e.top]},eb=nn+200,gs=function(e,t){bt(t<=nn||t==eb),bt(e.stack_last==e.stack.length-xe.EXTRA_STACK),e.stack.length=t,e.stack_last=t-xe.EXTRA_STACK},tb=function(e,t){let n=e.stack.length;if(n>nn)Tl(e,zc);else{let r=e.top+t+xe.EXTRA_STACK,l=2*n;l>nn&&(l=nn),l<r&&(l=r),l>nn?(gs(e,eb),Po.luaG_runerror(e,jn("stack overflow",!0))):gs(e,l)}},kl=function(e,t){e.stack_last-e.top<=t&&tb(e,t)},GC=function(e){let t=e.top;for(let n=e.ci;n!==null;n=n.previous)t<n.top&&(t=n.top);return bt(t<=e.stack_last),t+1},nb=function(e){let t=GC(e),n=t+Math.floor(t/8)+2*xe.EXTRA_STACK;n>nn&&(n=nn),e.stack.length>nn&&xe.luaE_freeCI(e),t<=nn-xe.EXTRA_STACK&&n<e.stack.length&&gs(e,n)},KC=function(e){kl(e,1),e.stack[e.top++]=new ge.TValue(ml,null)},bs=function(e,t,n){let r=e.stack[t];switch(r.type){case JA:case CC:{let l=r.type===JA?r.value.f:r.value;kl(e,ds);let o=xe.luaE_extendCI(e);o.funcOff=t,o.nresults=n,o.func=r,o.top=e.top+ds,bt(o.top<=e.stack_last),o.callstatus=0,e.hookmask&XA&&ms(e,WA,-1);let a=l(e);if(typeof a!="number"||a<0||(a|0)!==a)throw Error("invalid return value from JS function (expected integer)");return wr.api_checknelems(e,a),ks(e,o,e.top-a,a),!0}case IC:{let l,o=r.value.p,a=e.top-t-1,s=o.maxstacksize;if(kl(e,s),o.is_vararg)l=XC(e,o,a);else{for(;a<o.numparams;a++)e.stack[e.top++]=new ge.TValue(ml,null);l=t+1}let u=xe.luaE_extendCI(e);return u.funcOff=t,u.nresults=n,u.func=r,u.l_base=l,u.top=l+s,$c(e,u.top),u.l_code=o.code,u.l_savedpc=0,u.callstatus=xe.CIST_LUA,e.hookmask&XA&&jC(e,u),!1}default:return kl(e,1),zC(e,t,r),bs(e,t,n)}},ks=function(e,t,n,r){let l=t.nresults;e.hookmask&(zA|yC)&&(e.hookmask&zA&&ms(e,RC,-1),e.oldpc=t.previous.l_savedpc);let o=t.funcOff;return e.ci=t.previous,e.ci.next=null,HC(e,n,o,r,l)},HC=function(e,t,n,r,l){switch(l){case 0:break;case 1:{r===0?e.stack[n].setnilvalue():ge.setobjs2s(e,n,t);break}case Xc:{for(let a=0;a<r;a++)ge.setobjs2s(e,n+a,t+a);for(let a=e.top;a>=n+r;a--)delete e.stack[a];return e.top=n+r,!1}default:{let a;if(l<=r)for(a=0;a<l;a++)ge.setobjs2s(e,n+a,t+a);else{for(a=0;a<r;a++)ge.setobjs2s(e,n+a,t+a);for(;a<l;a++)n+a>=e.top?e.stack[n+a]=new ge.TValue(ml,null):e.stack[n+a].setnilvalue()}break}}let o=n+l;for(let a=e.top;a>=o;a--)delete e.stack[a];return e.top=o,!0},ms=function(e,t,n){let r=e.hook;if(r&&e.allowhook){let l=e.ci,o=e.top,a=l.top,s=new PC;s.event=t,s.currentline=n,s.i_ci=l,kl(e,ds),l.top=e.top+ds,bt(l.top<=e.stack_last),e.allowhook=0,l.callstatus|=xe.CIST_HOOKED,r(e,s),bt(!e.allowhook),e.allowhook=1,l.top=a,$c(e,o),l.callstatus&=~xe.CIST_HOOKED}},jC=function(e,t){let n=WA;t.l_savedpc++,t.previous.callstatus&xe.CIST_LUA&&t.previous.l_code[t.previous.l_savedpc-1].opcode==qC.OpCodesI.OP_TAILCALL&&(t.callstatus|=xe.CIST_TAIL,n=UC),ms(e,n,-1),t.l_savedpc--},XC=function(e,t,n){let r=t.numparams,l=e.top-n,o=e.top,a;for(a=0;a<r&&a<n;a++)ge.pushobj2s(e,e.stack[l+a]),e.stack[l+a].setnilvalue();for(;a<r;a++)e.stack[e.top++]=new ge.TValue(ml,null);return o},zC=function(e,t,n){let r=ZA.luaT_gettmbyobj(e,n,ZA.TMS.TM_CALL);r.ttisfunction(r)||Po.luaG_typeerror(e,n,jn("call",!0)),ge.pushobj2s(e,e.stack[e.top-1]);for(let l=e.top-2;l>t;l--)ge.setobjs2s(e,l,l-1);ge.setobj2s(e,t,r)},JC=function(e){e.nCcalls===Mo?Po.luaG_runerror(e,jn("JS stack overflow",!0)):e.nCcalls>=Mo+(Mo>>3)&&Tl(e,zc)},rb=function(e,t,n){++e.nCcalls>=Mo&&JC(e),bs(e,t,n)||Fo.luaV_execute(e),e.nCcalls--},Tl=function(e,t){if(e.errorJmp)throw e.errorJmp.status=t,e.errorJmp;{let n=e.l_G;if(e.status=t,n.mainthread.errorJmp)n.mainthread.stack[n.mainthread.top++]=e.stack[e.top-1],Tl(n.mainthread,t);else{let r=n.panic;throw r&&(As(e,t,e.top),e.ci.top<e.top&&(e.ci.top=e.top),r(e)),new Error(\`Aborted \${t}\`)}}},xs=function(e,t,n){let r=e.nCcalls,l={status:Tn,previous:e.errorJmp};e.errorJmp=l;try{t(e,n)}catch(o){if(l.status===Tn){let a=e.l_G.atnativeerror;if(a)try{if(l.status=Tn,wr.lua_pushcfunction(e,a),wr.lua_pushlightuserdata(e,o),Hc(e,e.top-2,1),e.errfunc!==0){let s=e.errfunc;ge.pushobj2s(e,e.stack[e.top-1]),ge.setobjs2s(e,e.top-2,s),Hc(e,e.top-2,1)}l.status=Jc}catch(s){l.status===Tn&&(l.status=-1)}else l.status=-1}}return e.errorJmp=l.previous,e.nCcalls=r,l.status},$A=function(e,t){let n=e.ci;bt(n.c_k!==null&&e.nny===0),bt(n.callstatus&xe.CIST_YPCALL||t===vn),n.callstatus&xe.CIST_YPCALL&&(n.callstatus&=~xe.CIST_YPCALL,e.errfunc=n.c_old_errfunc),n.nresults===Xc&&e.ci.top<e.top&&(e.ci.top=e.top);let r=n.c_k,l=r(e,t,n.c_ctx);wr.api_checknelems(e,l),ks(e,n,e.top-l,l)},lb=function(e,t){for(t!==null&&$A(e,t);e.ci!==e.base_ci;)e.ci.callstatus&xe.CIST_LUA?(Fo.luaV_finishOp(e),Fo.luaV_execute(e)):$A(e,vn)},ZC=function(e){for(let t=e.ci;t!==null;t=t.previous)if(t.callstatus&xe.CIST_YPCALL)return t;return null},$C=function(e,t){let n=ZC(e);if(n===null)return 0;let r=n.extra;return Zc.luaF_close(e,r),As(e,t,r),e.ci=n,e.allowhook=n.callstatus&xe.CIST_OAH,e.nny=0,nb(e),e.errfunc=n.c_old_errfunc,1},Gc=function(e,t,n){let r=Kc(e,t);if(n===0)ge.pushsvalue2s(e,r),LA(e,e.top<=e.ci.top,"stack overflow");else{for(let l=1;l<n;l++)delete e.stack[--e.top];ge.setsvalue2s(e,e.top-1,r)}return Jc},YC=function(e,t){let n=e.top-t,r=e.ci;e.status===Tn?bs(e,n-1,Xc)||Fo.luaV_execute(e):(bt(e.status===vn),e.status=Tn,r.funcOff=r.extra,r.func=e.stack[r.funcOff],r.callstatus&xe.CIST_LUA?Fo.luaV_execute(e):(r.c_k!==null&&(t=r.c_k(e,vn,r.c_ctx),wr.api_checknelems(e,t),n=e.top-t),ks(e,r,n,t)),lb(e,null))},WC=function(e,t,n){let r=e.nny;if(e.status===Tn){if(e.ci!==e.base_ci)return Gc(e,"cannot resume non-suspended coroutine",n)}else if(e.status!==vn)return Gc(e,"cannot resume dead coroutine",n);if(e.nCcalls=t?t.nCcalls+1:1,e.nCcalls>=Mo)return Gc(e,"JS stack overflow",n);e.nny=0,wr.api_checknelems(e,e.status===Tn?n+1:n);let l=xs(e,YC,n);if(l===-1)l=Jc;else{for(;l>vn&&$C(e,l);)l=xs(e,lb,l);l>vn?(e.status=l,As(e,l,e.top),e.ci.top=e.top):bt(l===e.status)}return e.nny=r,e.nCcalls--,bt(e.nCcalls===(t?t.nCcalls:0)),l},LC=function(e){return e.nny===0},ob=function(e,t,n,r){let l=e.ci;return wr.api_checknelems(e,t),e.nny>0&&(e!==e.l_G.mainthread?Po.luaG_runerror(e,jn("attempt to yield across a JS-call boundary",!0)):Po.luaG_runerror(e,jn("attempt to yield from outside a coroutine",!0))),e.status=vn,l.extra=l.funcOff,l.callstatus&xe.CIST_LUA?LA(e,r===null,"hooks cannot continue after yielding"):(l.c_k=r,r!==null&&(l.c_ctx=n),l.funcOff=e.top-t-1,l.func=e.stack[l.funcOff],Tl(e,vn)),bt(l.callstatus&xe.CIST_HOOKED),0},QC=function(e,t){ob(e,t,0,null)},ab=function(e,t,n,r,l){let o=e.ci,a=e.allowhook,s=e.nny,u=e.errfunc;e.errfunc=l;let i=xs(e,t,n);return i!==Tn&&(Zc.luaF_close(e,r),As(e,i,r),e.ci=o,e.allowhook=a,e.nny=s,nb(e)),e.errfunc=u,i},Hc=function(e,t,n){e.nny++,rb(e,t,n),e.nny--},jc=class{constructor(t,n,r){this.z=t,this.buff=new VC,this.dyd=new QA.Dyndata,this.mode=r,this.name=n}},YA=function(e,t,n){t&&FC(t,n[0])===-1&&(ge.luaO_pushfstring(e,jn("attempt to load a %s chunk (mode is '%s')"),n,t),Tl(e,MC))},eI=function(e,t){let n,r=t.z.zgetc();r===NC[0]?(YA(e,t.mode,jn("binary",!0)),n=BC.luaU_undump(e,t.z,t.name)):(YA(e,t.mode,jn("text",!0)),n=QA.luaY_parser(e,t.z,t.buff,t.dyd,t.name,r)),bt(n.nupvalues===n.p.upvalues.length),Zc.luaF_initupvals(e,n)},tI=function(e,t,n,r){let l=new jc(t,n,r);e.nny++;let o=ab(e,eI,l,e.top,e.errfunc);return e.nny--,o};Ce.exports.adjust_top=$c;Ce.exports.luaD_call=rb;Ce.exports.luaD_callnoyield=Hc;Ce.exports.luaD_checkstack=kl;Ce.exports.luaD_growstack=tb;Ce.exports.luaD_hook=ms;Ce.exports.luaD_inctop=KC;Ce.exports.luaD_pcall=ab;Ce.exports.luaD_poscall=ks;Ce.exports.luaD_precall=bs;Ce.exports.luaD_protectedparser=tI;Ce.exports.luaD_rawrunprotected=xs;Ce.exports.luaD_reallocstack=gs;Ce.exports.luaD_throw=Tl;Ce.exports.lua_isyieldable=LC;Ce.exports.lua_resume=WC;Ce.exports.lua_yield=QC;Ce.exports.lua_yieldk=ob});var fn=A((g6,Be)=>{var{LUA_HOOKCOUNT:nI,LUA_HOOKLINE:rI,LUA_MASKCOUNT:lI,LUA_MASKLINE:sb,constant_types:{LUA_TBOOLEAN:oI,LUA_TNIL:aI,LUA_TTABLE:sI},thread_status:{LUA_ERRRUN:uI,LUA_YIELD:Yc},from_userstring:iI,luastring_eq:pb,luastring_indexOf:ub,to_luastring:Z}=ve(),{api_check:Wc,lua_assert:Qc}=at(),{LUA_IDSIZE:_b}=ot(),ib=xo(),qo=Mt(),vs=kr(),cI=La(),$e=ht(),vl=gr(),it=cn(),cb=Jt(),ue=br(),ef=Ar(),Es=function(e){return Qc(e.callstatus&it.CIST_LUA),e.l_savedpc-1},hb=function(e){return e.func.value.p.lineinfo.length!==0?e.func.value.p.lineinfo[Es(e)]:-1},El=function(e){if(e.status===Yc){let t=e.ci,n=t.funcOff;t.func=e.stack[t.extra],t.funcOff=t.extra,t.extra=n}},fI=function(e,t,n,r){(t===null||n===0)&&(n=0,t=null),e.ci.callstatus&it.CIST_LUA&&(e.oldpc=e.ci.l_savedpc),e.hook=t,e.basehookcount=r,e.hookcount=e.basehookcount,e.hookmask=n},pI=function(e){return e.hook},_I=function(e){return e.hookmask},hI=function(e){return e.basehookcount},dI=function(e,t,n){let r,l;if(t<0)return 0;for(r=e.ci;t>0&&r!==e.base_ci;r=r.previous)t--;return t===0&&r!==e.base_ci?(l=1,n.i_ci=r):l=0,l},Lc=function(e,t){Qc(t<e.upvalues.length);let n=e.upvalues[t].name;return n===null?Z("?",!0):n.getstr()},gI=function(e,t){let n=e.func.value.p.numparams;return t>=e.l_base-e.funcOff-n?null:{pos:e.funcOff+n+t,name:Z("(*vararg)",!0)}},db=function(e,t,n){let r,l=null;if(t.callstatus&it.CIST_LUA){if(n<0)return gI(t,-n);r=t.l_base,l=vs.luaF_getlocalname(t.func.value.p,n,Es(t))}else r=t.funcOff+1;if(l===null)if((t===e.ci?e.top:t.next.funcOff)-r>=n&&n>0)l=Z("(*temporary)",!0);else return null;return{pos:r+(n-1),name:l}},xI=function(e,t,n){let r;if(El(e),t===null)e.stack[e.top-1].ttisLclosure()?r=vs.luaF_getlocalname(e.stack[e.top-1].value.p,n,0):r=null;else{let l=db(e,t.i_ci,n);l?(r=l.name,$e.pushobj2s(e,e.stack[l.pos]),Wc(e,e.top<=e.ci.top,"stack overflow")):r=null}return El(e),r},AI=function(e,t,n){let r;El(e);let l=db(e,t.i_ci,n);return l?(r=l.name,$e.setobjs2s(e,l.pos,e.top-1),delete e.stack[--e.top]):r=null,El(e),r},bI=function(e,t){if(t===null||t instanceof $e.CClosure)e.source=Z("=[JS]",!0),e.linedefined=-1,e.lastlinedefined=-1,e.what=Z("J",!0);else{let n=t.p;e.source=n.source?n.source.getstr():Z("=?",!0),e.linedefined=n.linedefined,e.lastlinedefined=n.lastlinedefined,e.what=e.linedefined===0?Z("main",!0):Z("Lua",!0)}e.short_src=$e.luaO_chunkid(e.source,_b)},kI=function(e,t){if(t===null||t instanceof $e.CClosure)e.stack[e.top]=new $e.TValue(aI,null),ib.api_incr_top(e);else{let n=t.p.lineinfo,r=cb.luaH_new(e);e.stack[e.top]=new $e.TValue(sI,r),ib.api_incr_top(e);let l=new $e.TValue(oI,!0);for(let o=0;o<n.length;o++)cb.luaH_setint(r,n[o],l)}},mI=function(e,t){let n={name:null,funcname:null};return t===null?null:t.callstatus&it.CIST_FIN?(n.name=Z("__gc",!0),n.funcname=Z("metamethod",!0),n):!(t.callstatus&it.CIST_TAIL)&&t.previous.callstatus&it.CIST_LUA?OI(e,t.previous):null},TI=function(e,t,n,r,l){let o=1;for(;t.length>0;t=t.subarray(1))switch(t[0]){case 83:{bI(n,r);break}case 108:{n.currentline=l&&l.callstatus&it.CIST_LUA?hb(l):-1;break}case 117:{n.nups=r===null?0:r.nupvalues,r===null||r instanceof $e.CClosure?(n.isvararg=!0,n.nparams=0):(n.isvararg=r.p.is_vararg,n.nparams=r.p.numparams);break}case 116:{n.istailcall=l?l.callstatus&it.CIST_TAIL:0;break}case 110:{let a=mI(e,l);a===null?(n.namewhat=Z("",!0),n.name=null):(n.namewhat=a.funcname,n.name=a.name);break}case 76:case 102:break;default:o=0}return o},vI=function(e,t,n){t=iI(t);let r,l,o,a;return El(e),t[0]===62?(o=null,a=e.stack[e.top-1],Wc(e,a.ttisfunction(),"function expected"),t=t.subarray(1),e.top--):(o=n.i_ci,a=o.func,Qc(o.func.ttisfunction())),l=a.ttisclosure()?a.value:null,r=TI(e,t,n,l,o),ub(t,102)>=0&&($e.pushobj2s(e,a),Wc(e,e.top<=e.ci.top,"stack overflow")),El(e),ub(t,76)>=0&&kI(e,l),r},fb=function(e,t,n){let r={name:null,funcname:null};if(vl.ISK(n)){let l=e.k[vl.INDEXK(n)];if(l.ttisstring())return r.name=l.svalue(),r}else{let l=Os(e,t,n);if(l&&l.funcname[0]===99)return l}return r.name=Z("?",!0),r},Ts=function(e,t){return e<t?-1:e},EI=function(e,t,n){let r=-1,l=0,o=vl.OpCodesI;for(let a=0;a<t;a++){let s=e.code[a],u=s.A;switch(s.opcode){case o.OP_LOADNIL:{let i=s.B;u<=n&&n<=u+i&&(r=Ts(a,l));break}case o.OP_TFORCALL:{n>=u+2&&(r=Ts(a,l));break}case o.OP_CALL:case o.OP_TAILCALL:{n>=u&&(r=Ts(a,l));break}case o.OP_JMP:{let i=s.sBx,c=a+1+i;a<c&&c<=t&&c>l&&(l=c);break}default:vl.testAMode(s.opcode)&&n===u&&(r=Ts(a,l));break}}return r},Os=function(e,t,n){let r={name:vs.luaF_getlocalname(e,n+1,t),funcname:null};if(r.name)return r.funcname=Z("local",!0),r;let l=EI(e,t,n),o=vl.OpCodesI;if(l!==-1){let a=e.code[l];switch(a.opcode){case o.OP_MOVE:{let s=a.B;if(s<a.A)return Os(e,l,s);break}case o.OP_GETTABUP:case o.OP_GETTABLE:{let s=a.C,u=a.B,i=a.opcode===o.OP_GETTABLE?vs.luaF_getlocalname(e,u+1,l):Lc(e,u);return r.name=fb(e,l,s).name,r.funcname=i&&pb(i,cI.LUA_ENV)?Z("global",!0):Z("field",!0),r}case o.OP_GETUPVAL:return r.name=Lc(e,a.B),r.funcname=Z("upvalue",!0),r;case o.OP_LOADK:case o.OP_LOADKX:{let s=a.opcode===o.OP_LOADK?a.Bx:e.code[l+1].Ax;if(e.k[s].ttisstring())return r.name=e.k[s].svalue(),r.funcname=Z("constant",!0),r;break}case o.OP_SELF:{let s=a.C;return r.name=fb(e,l,s).name,r.funcname=Z("method",!0),r}default:break}}return null},OI=function(e,t){let n={name:null,funcname:null},r=0,l=t.func.value.p,o=Es(t),a=l.code[o],s=vl.OpCodesI;if(t.callstatus&it.CIST_HOOKED)return n.name=Z("?",!0),n.funcname=Z("hook",!0),n;switch(a.opcode){case s.OP_CALL:case s.OP_TAILCALL:return Os(l,o,a.A);case s.OP_TFORCALL:return n.name=Z("for iterator",!0),n.funcname=Z("for iterator",!0),n;case s.OP_SELF:case s.OP_GETTABUP:case s.OP_GETTABLE:r=ue.TMS.TM_INDEX;break;case s.OP_SETTABUP:case s.OP_SETTABLE:r=ue.TMS.TM_NEWINDEX;break;case s.OP_ADD:r=ue.TMS.TM_ADD;break;case s.OP_SUB:r=ue.TMS.TM_SUB;break;case s.OP_MUL:r=ue.TMS.TM_MUL;break;case s.OP_MOD:r=ue.TMS.TM_MOD;break;case s.OP_POW:r=ue.TMS.TM_POW;break;case s.OP_DIV:r=ue.TMS.TM_DIV;break;case s.OP_IDIV:r=ue.TMS.TM_IDIV;break;case s.OP_BAND:r=ue.TMS.TM_BAND;break;case s.OP_BOR:r=ue.TMS.TM_BOR;break;case s.OP_BXOR:r=ue.TMS.TM_BXOR;break;case s.OP_SHL:r=ue.TMS.TM_SHL;break;case s.OP_SHR:r=ue.TMS.TM_SHR;break;case s.OP_UNM:r=ue.TMS.TM_UNM;break;case s.OP_BNOT:r=ue.TMS.TM_BNOT;break;case s.OP_LEN:r=ue.TMS.TM_LEN;break;case s.OP_CONCAT:r=ue.TMS.TM_CONCAT;break;case s.OP_EQ:r=ue.TMS.TM_EQ;break;case s.OP_LT:r=ue.TMS.TM_LT;break;case s.OP_LE:r=ue.TMS.TM_LE;break;default:return null}return n.name=e.l_G.tmname[r].getstr(),n.funcname=Z("metamethod",!0),n},SI=function(e,t,n){for(let r=t.l_base;r<t.top;r++)if(e.stack[r]===n)return r;return!1},wI=function(e,t,n){let r=t.func.value;for(let l=0;l<r.nupvalues;l++)if(r.upvals[l]===n)return{name:Lc(r.p,l),funcname:Z("upvalue",!0)};return null},gb=function(e,t){let n=e.ci,r=null;if(n.callstatus&it.CIST_LUA){r=wI(e,n,t);let l=SI(e,n,t);!r&&l&&(r=Os(n.func.value.p,Es(n),l-n.l_base))}return r?$e.luaO_pushfstring(e,Z(" (%s '%s')",!0),r.funcname,r.name):Z("",!0)},tf=function(e,t,n){let r=ue.luaT_objtypename(e,t);Bo(e,Z("attempt to %s a %s value%s",!0),n,r,gb(e,t))},RI=function(e,t,n){(t.ttisstring()||ef.cvt2str(t))&&(t=n),tf(e,t,Z("concatenate",!0))},UI=function(e,t,n,r){ef.tonumber(t)===!1&&(n=t),tf(e,n,r)},yI=function(e,t,n){let r=ue.luaT_objtypename(e,t),l=ue.luaT_objtypename(e,n);pb(r,l)?Bo(e,Z("attempt to compare two %s values",!0),r):Bo(e,Z("attempt to compare %s with %s",!0),r,l)},xb=function(e,t,n,r){let l;return n?l=$e.luaO_chunkid(n.getstr(),_b):l=Z("?",!0),$e.luaO_pushfstring(e,Z("%s:%d: %s",!0),l,r,t)},Bo=function(e,t,...n){let r=e.ci,l=$e.luaO_pushvfstring(e,t,n);r.callstatus&it.CIST_LUA&&xb(e,l,r.func.value.p.source,hb(r)),Ab(e)},Ab=function(e){if(e.errfunc!==0){let t=e.errfunc;$e.pushobj2s(e,e.stack[e.top-1]),$e.setobjs2s(e,e.top-2,t),qo.luaD_callnoyield(e,e.top-2,1)}qo.luaD_throw(e,uI)},NI=function(e,t,n){ef.tointeger(t)===!1&&(n=t),Bo(e,Z("number%s has no integer representation",!0),gb(e,n))},CI=function(e){let t=e.ci,n=e.hookmask,r=--e.hookcount===0&&n&lI;if(r)e.hookcount=e.basehookcount;else if(!(n&sb))return;if(t.callstatus&it.CIST_HOOKYIELD){t.callstatus&=~it.CIST_HOOKYIELD;return}if(r&&qo.luaD_hook(e,nI,-1),n&sb){let l=t.func.value.p,o=t.l_savedpc-1,a=l.lineinfo.length!==0?l.lineinfo[o]:-1;(o===0||t.l_savedpc<=e.oldpc||a!==(l.lineinfo.length!==0?l.lineinfo[e.oldpc-1]:-1))&&qo.luaD_hook(e,rI,a)}e.oldpc=t.l_savedpc,e.status===Yc&&(r&&(e.hookcount=1),t.l_savedpc--,t.callstatus|=it.CIST_HOOKYIELD,t.funcOff=e.top-1,t.func=e.stack[t.funcOff],qo.luaD_throw(e,Yc))};Be.exports.luaG_addinfo=xb;Be.exports.luaG_concaterror=RI;Be.exports.luaG_errormsg=Ab;Be.exports.luaG_opinterror=UI;Be.exports.luaG_ordererror=yI;Be.exports.luaG_runerror=Bo;Be.exports.luaG_tointerror=NI;Be.exports.luaG_traceexec=CI;Be.exports.luaG_typeerror=tf;Be.exports.lua_gethook=pI;Be.exports.lua_gethookcount=hI;Be.exports.lua_gethookmask=_I;Be.exports.lua_getinfo=vI;Be.exports.lua_getlocal=xI;Be.exports.lua_getstack=dI;Be.exports.lua_sethook=fI;Be.exports.lua_setlocal=AI});var Ob=A((x6,Eb)=>{var{LUA_SIGNATURE:bb,LUA_VERSION_MAJOR:II,LUA_VERSION_MINOR:DI,constant_types:{LUA_TBOOLEAN:MI,LUA_TLNGSTR:PI,LUA_TNIL:FI,LUA_TNUMFLT:qI,LUA_TNUMINT:BI,LUA_TSHRSTR:VI},luastring_of:mb}=ve(),kb=mb(25,147,13,10,26,10),GI=22136,KI=370.5,HI=Number(II)*16+Number(DI),jI=0,nf=class{constructor(){this.L=null,this.write=null,this.data=null,this.strip=NaN,this.status=NaN}},Rr=function(e,t,n){n.status===0&&t>0&&(n.status=n.writer(n.L,e,t,n.data))},Ve=function(e,t){Rr(mb(e),1,t)},kt=function(e,t){let n=new ArrayBuffer(4);new DataView(n).setInt32(0,e,!0);let l=new Uint8Array(n);Rr(l,4,t)},rf=function(e,t){let n=new ArrayBuffer(4);new DataView(n).setInt32(0,e,!0);let l=new Uint8Array(n);Rr(l,4,t)},Tb=function(e,t){let n=new ArrayBuffer(8);new DataView(n).setFloat64(0,e,!0);let l=new Uint8Array(n);Rr(l,8,t)},Vo=function(e,t){if(e===null)Ve(0,t);else{let n=e.tsslen()+1,r=e.getstr();n<255?Ve(n,t):(Ve(255,t),rf(n,t)),Rr(r,n-1,t)}},XI=function(e,t){let n=e.code.map(r=>r.code);kt(n.length,t);for(let r=0;r<n.length;r++)kt(n[r],t)},zI=function(e,t){let n=e.k.length;kt(n,t);for(let r=0;r<n;r++){let l=e.k[r];switch(Ve(l.ttype(),t),l.ttype()){case FI:break;case MI:Ve(l.value?1:0,t);break;case qI:Tb(l.value,t);break;case BI:rf(l.value,t);break;case VI:case PI:Vo(l.tsvalue(),t);break}}},JI=function(e,t){let n=e.p.length;kt(n,t);for(let r=0;r<n;r++)vb(e.p[r],e.source,t)},ZI=function(e,t){let n=e.upvalues.length;kt(n,t);for(let r=0;r<n;r++)Ve(e.upvalues[r].instack?1:0,t),Ve(e.upvalues[r].idx,t)},$I=function(e,t){let n=t.strip?0:e.lineinfo.length;kt(n,t);for(let r=0;r<n;r++)kt(e.lineinfo[r],t);n=t.strip?0:e.locvars.length,kt(n,t);for(let r=0;r<n;r++)Vo(e.locvars[r].varname,t),kt(e.locvars[r].startpc,t),kt(e.locvars[r].endpc,t);n=t.strip?0:e.upvalues.length,kt(n,t);for(let r=0;r<n;r++)Vo(e.upvalues[r].name,t)},vb=function(e,t,n){n.strip||e.source===t?Vo(null,n):Vo(e.source,n),kt(e.linedefined,n),kt(e.lastlinedefined,n),Ve(e.numparams,n),Ve(e.is_vararg?1:0,n),Ve(e.maxstacksize,n),XI(e,n),zI(e,n),ZI(e,n),JI(e,n),$I(e,n)},YI=function(e){Rr(bb,bb.length,e),Ve(HI,e),Ve(jI,e),Rr(kb,kb.length,e),Ve(4,e),Ve(4,e),Ve(4,e),Ve(4,e),Ve(8,e),rf(GI,e),Tb(KI,e)},WI=function(e,t,n,r,l){let o=new nf;return o.L=e,o.writer=n,o.data=r,o.strip=l,o.status=0,YI(o),Ve(t.upvalues.length,o),vb(t,null,o),o.status};Eb.exports.luaU_dump=WI});var xo=A((A6,d)=>{var{LUA_MULTRET:af,LUA_OPBNOT:LI,LUA_OPEQ:QI,LUA_OPLE:e2,LUA_OPLT:t2,LUA_OPUNM:n2,LUA_REGISTRYINDEX:yr,LUA_RIDX_GLOBALS:ws,LUA_VERSION_NUM:r2,constant_types:{LUA_NUMTAGS:l2,LUA_TBOOLEAN:Sb,LUA_TCCL:sf,LUA_TFUNCTION:o2,LUA_TLCF:wb,LUA_TLCL:uf,LUA_TLIGHTUSERDATA:wl,LUA_TLNGSTR:a2,LUA_TNIL:Rs,LUA_TNONE:cf,LUA_TNUMFLT:s2,LUA_TNUMINT:ff,LUA_TSHRSTR:u2,LUA_TTABLE:Ol,LUA_TTHREAD:pf,LUA_TUSERDATA:Rl},thread_status:{LUA_OK:Ss},from_userstring:Xn,to_luastring:Go}=ve(),{api_check:N}=at(),i2=fn(),zn=Mt(),{luaU_dump:c2}=Ob(),Rb=kr(),$=ht(),Ur=cn(),{luaS_bless:Ub,luaS_new:Us,luaS_newliteral:f2}=zt(),p2=br(),{LUAI_MAXSTACK:_2}=ot(),Ge=Ar(),mt=Jt(),{ZIO:h2}=bo(),Re=$.TValue,d2=$.CClosure,Ke=function(e){e.top++,N(e,e.top<=e.ci.top,"stack overflow")},Ie=function(e,t){N(e,t<e.top-e.ci.funcOff,"not enough elements in the stack")},ys=function(e){if(!e)throw TypeError("invalid argument")},En=function(e){ys(typeof e=="number"&&(e|0)===e)},Sl=function(e){return e!==$.luaO_nilobject},g2=function(e){return e===null?r2:e.l_G.version},x2=function(e,t){let n=e.l_G.panic;return e.l_G.panic=t,n},A2=function(e,t){let n=e.l_G.atnativeerror;return e.l_G.atnativeerror=t,n},C=function(e,t){let n=e.ci;if(t>0){let r=n.funcOff+t;return N(e,t<=n.top-(n.funcOff+1),"unacceptable index"),r>=e.top?$.luaO_nilobject:e.stack[r]}else return t>yr?(N(e,t!==0&&-t<=e.top,"invalid index"),e.stack[e.top+t]):t===yr?e.l_G.l_registry:(t=yr-t,N(e,t<=Rb.MAXUPVAL+1,"upvalue index too large"),n.func.ttislcf()?$.luaO_nilobject:t<=n.func.value.nupvalues?n.func.value.upvalue[t-1]:$.luaO_nilobject)},yb=function(e,t){let n=e.ci;if(t>0){let r=n.funcOff+t;return N(e,t<=n.top-(n.funcOff+1),"unacceptable index"),r>=e.top?null:r}else{if(t>yr)return N(e,t!==0&&-t<=e.top,"invalid index"),e.top+t;throw Error("attempt to use pseudo-index")}},b2=function(e,t){let n,r=e.ci;return N(e,t>=0,"negative 'n'"),e.stack_last-e.top>t?n=!0:e.top+Ur.EXTRA_STACK>_2-t?n=!1:(zn.luaD_growstack(e,t),n=!0),n&&r.top<e.top+t&&(r.top=e.top+t),n},k2=function(e,t,n){if(e!==t){Ie(e,n),N(e,e.l_G===t.l_G,"moving among independent states"),N(e,t.ci.top-t.top>=n,"stack overflow"),e.top-=n;for(let r=0;r<n;r++)t.stack[t.top]=new $.TValue,$.setobj2s(t,t.top,e.stack[e.top+r]),delete e.stack[e.top+r],t.top++}},m2=function(e,t){return t>0||t<=yr?t:e.top-e.ci.funcOff+t},T2=function(e){return e.top-(e.ci.funcOff+1)},v2=function(e,t){$.pushobj2s(e,C(e,t)),N(e,e.top<=e.ci.top,"stack overflow")},Nb=function(e,t){let n=e.ci.funcOff,r;t>=0?(N(e,t<=e.stack_last-(n+1),"new top too large"),r=n+1+t):(N(e,-(t+1)<=e.top-(n+1),"invalid new top"),r=e.top+t+1),zn.adjust_top(e,r)},_f=function(e,t){Nb(e,-t-1)},lf=function(e,t,n){for(;t<n;t++,n--){let r=e.stack[t],l=new Re(r.type,r.value);$.setobjs2s(e,t,n),$.setobj2s(e,n,l)}},hf=function(e,t,n){let r=e.top-1,l=yb(e,t),o=e.stack[l];N(e,Sl(o)&&t>yr,"index not in the stack"),N(e,(n>=0?n:-n)<=r-l+1,"invalid 'n'");let a=n>=0?r-n:l-n-1;lf(e,l,a),lf(e,a+1,e.top-1),lf(e,l,e.top-1)},Cb=function(e,t,n){let r=C(e,t);C(e,n).setfrom(r)},E2=function(e,t){hf(e,t,-1),_f(e,1)},O2=function(e,t){hf(e,t,1)},S2=function(e,t){Cb(e,-1,t),_f(e,1)},w2=function(e){e.stack[e.top]=new Re(Rs,null),Ke(e)},R2=function(e,t){ys(typeof t=="number"),e.stack[e.top]=new Re(s2,t),Ke(e)},U2=function(e,t){En(t),e.stack[e.top]=new Re(ff,t),Ke(e)},y2=function(e,t,n){En(n);let r;return n===0?(t=Go("",!0),r=Ub(e,t)):(t=Xn(t),N(e,t.length>=n,"invalid length to lua_pushlstring"),r=Us(e,t.subarray(0,n))),$.pushsvalue2s(e,r),N(e,e.top<=e.ci.top,"stack overflow"),r.value},N2=function(e,t){if(t==null)e.stack[e.top]=new Re(Rs,null),e.top++;else{let n=Us(e,Xn(t));$.pushsvalue2s(e,n),t=n.getstr()}return N(e,e.top<=e.ci.top,"stack overflow"),t},C2=function(e,t,n){return t=Xn(t),$.luaO_pushvfstring(e,t,n)},I2=function(e,t,...n){return t=Xn(t),$.luaO_pushvfstring(e,t,n)},D2=function(e,t){if(t==null)e.stack[e.top]=new Re(Rs,null),e.top++;else{ys(typeof t=="string");let n=f2(e,t);$.pushsvalue2s(e,n),t=n.getstr()}return N(e,e.top<=e.ci.top,"stack overflow"),t},df=function(e,t,n){if(ys(typeof t=="function"),En(n),n===0)e.stack[e.top]=new Re(wb,t);else{Ie(e,n),N(e,n<=Rb.MAXUPVAL,"upvalue index too large");let r=new d2(e,t,n);for(let l=0;l<n;l++)r.upvalue[l].setfrom(e.stack[e.top-n+l]);for(let l=1;l<n;l++)delete e.stack[--e.top];n>0&&--e.top,e.stack[e.top].setclCvalue(r)}Ke(e)},M2=df,gf=function(e,t){df(e,t,0)},P2=gf,F2=function(e,t){e.stack[e.top]=new Re(Sb,!!t),Ke(e)},q2=function(e,t){e.stack[e.top]=new Re(wl,t),Ke(e)},B2=function(e){return e.stack[e.top]=new Re(pf,e),Ke(e),e.l_G.mainthread===e},V2=function(e){Pb(e,yr,ws)},Ib=function(e,t,n){let r=Us(e,Xn(n));Ie(e,1),$.pushsvalue2s(e,r),N(e,e.top<=e.ci.top,"stack overflow"),Ge.settable(e,t,e.stack[e.top-1],e.stack[e.top-2]),delete e.stack[--e.top],delete e.stack[--e.top]},Db=function(e,t){Ib(e,mt.luaH_getint(e.l_G.l_registry.value,ws),t)},G2=function(e,t){Ie(e,1);let n,r=C(e,t);switch(e.stack[e.top-1].ttisnil()?n=null:(N(e,e.stack[e.top-1].ttistable(),"table expected"),n=e.stack[e.top-1].value),r.ttnov()){case Rl:case Ol:{r.value.metatable=n;break}default:{e.l_G.mt[r.ttnov()]=n;break}}return delete e.stack[--e.top],!0},K2=function(e,t){Ie(e,2);let n=C(e,t);Ge.settable(e,n,e.stack[e.top-2],e.stack[e.top-1]),delete e.stack[--e.top],delete e.stack[--e.top]},H2=function(e,t,n){Ib(e,C(e,t),n)},j2=function(e,t,n){En(n),Ie(e,1);let r=C(e,t);e.stack[e.top]=new Re(ff,n),Ke(e),Ge.settable(e,r,e.stack[e.top-1],e.stack[e.top-2]),delete e.stack[--e.top],delete e.stack[--e.top]},X2=function(e,t){Ie(e,2);let n=C(e,t);N(e,n.ttistable(),"table expected");let r=e.stack[e.top-2],l=e.stack[e.top-1];mt.luaH_setfrom(e,n.value,r,l),mt.invalidateTMcache(n.value),delete e.stack[--e.top],delete e.stack[--e.top]},z2=function(e,t,n){En(n),Ie(e,1);let r=C(e,t);N(e,r.ttistable(),"table expected"),mt.luaH_setint(r.value,n,e.stack[e.top-1]),delete e.stack[--e.top]},J2=function(e,t,n){Ie(e,1);let r=C(e,t);N(e,r.ttistable(),"table expected");let l=new Re(wl,n),o=e.stack[e.top-1];mt.luaH_setfrom(e,r.value,l,o),delete e.stack[--e.top]},Mb=function(e,t,n){let r=Us(e,Xn(n));return $.pushsvalue2s(e,r),N(e,e.top<=e.ci.top,"stack overflow"),Ge.luaV_gettable(e,t,e.stack[e.top-1],e.top-1),e.stack[e.top-1].ttnov()},Pb=function(e,t,n){let r=C(e,t);return En(n),N(e,r.ttistable(),"table expected"),$.pushobj2s(e,mt.luaH_getint(r.value,n)),N(e,e.top<=e.ci.top,"stack overflow"),e.stack[e.top-1].ttnov()},Z2=function(e,t,n){let r=C(e,t);N(e,r.ttistable(),"table expected");let l=new Re(wl,n);return $.pushobj2s(e,mt.luaH_get(e,r.value,l)),N(e,e.top<=e.ci.top,"stack overflow"),e.stack[e.top-1].ttnov()},$2=function(e,t){let n=C(e,t);return N(e,n.ttistable(n),"table expected"),$.setobj2s(e,e.top-1,mt.luaH_get(e,n.value,e.stack[e.top-1])),e.stack[e.top-1].ttnov()},Fb=function(e,t,n){let r=new $.TValue(Ol,mt.luaH_new(e));e.stack[e.top]=r,Ke(e)},Y2=function(e,t){return new $.Udata(e,t)},W2=function(e,t){let n=Y2(e,t);return e.stack[e.top]=new $.TValue(Rl,n),Ke(e),n.data},qb=function(e,t,n){switch(En(n),t.ttype()){case sf:{let r=t.value;return 1<=n&&n<=r.nupvalues?{name:Go("",!0),val:r.upvalue[n-1]}:null}case uf:{let r=t.value,l=r.p;if(!(1<=n&&n<=l.upvalues.length))return null;let o=l.upvalues[n-1].name;return{name:o?o.getstr():Go("(*no name)",!0),val:r.upvals[n-1]}}default:return null}},L2=function(e,t,n){let r=qb(e,C(e,t),n);if(r){let l=r.name,o=r.val;return $.pushobj2s(e,o),N(e,e.top<=e.ci.top,"stack overflow"),l}return null},Q2=function(e,t,n){let r=C(e,t);Ie(e,1);let l=qb(e,r,n);if(l){let o=l.name;return l.val.setfrom(e.stack[e.top-1]),delete e.stack[--e.top],o}return null},eD=function(e){Fb(e,0,0)},tD=function(e,t,n){gf(e,n),Db(e,t)},nD=function(e,t){let n=C(e,t),r,l=!1;switch(n.ttnov()){case Ol:case Rl:r=n.value.metatable;break;default:r=e.l_G.mt[n.ttnov()];break}return r!=null&&(e.stack[e.top]=new Re(Ol,r),Ke(e),l=!0),l},rD=function(e,t){let n=C(e,t);N(e,n.ttisfulluserdata(),"full userdata expected");let r=n.value.uservalue;return e.stack[e.top]=new Re(r.type,r.value),Ke(e),e.stack[e.top-1].ttnov()},lD=function(e,t){let n=C(e,t);return Ge.luaV_gettable(e,n,e.stack[e.top-1],e.top-1),e.stack[e.top-1].ttnov()},oD=function(e,t,n){return Mb(e,C(e,t),n)},aD=function(e,t,n){let r=C(e,t);return En(n),e.stack[e.top]=new Re(ff,n),Ke(e),Ge.luaV_gettable(e,r,e.stack[e.top-1],e.top-1),e.stack[e.top-1].ttnov()},sD=function(e,t){return Mb(e,mt.luaH_getint(e.l_G.l_registry.value,ws),t)},uD=function(e,t){return!C(e,t).l_isfalse()},xf=function(e,t){let n=C(e,t);if(!n.ttisstring()){if(!Ge.cvt2str(n))return null;$.luaO_tostring(e,n)}return n.svalue()},iD=xf,cD=function(e,t){let n=C(e,t);if(!n.ttisstring()){if(!Ge.cvt2str(n))return null;$.luaO_tostring(e,n)}return n.jsstring()},fD=function(e,t){let n=xf(e,t);return new DataView(n.buffer,n.byteOffset,n.byteLength)},pD=function(e,t){let n=C(e,t);switch(n.ttype()){case u2:case a2:return n.vslen();case Rl:return n.value.len;case Ol:return mt.luaH_getn(n.value);default:return 0}},_D=function(e,t){let n=C(e,t);return n.ttislcf()||n.ttisCclosure()?n.value:null},hD=function(e,t){let n=Bb(e,t);return n===!1?0:n},Bb=function(e,t){return Ge.tointeger(C(e,t))},dD=function(e,t){let n=Vb(e,t);return n===!1?0:n},Vb=function(e,t){return Ge.tonumber(C(e,t))},gD=function(e,t){let n=C(e,t);switch(n.ttnov()){case Rl:return n.value.data;case wl:return n.value;default:return null}},xD=function(e,t){let n=C(e,t);return n.ttisthread()?n.value:null},AD=function(e,t){let n=C(e,t);switch(n.ttype()){case Ol:case uf:case sf:case wb:case pf:case Rl:case wl:return n.value;default:return null}},Gb=new WeakMap,bD=function(e,t){let n=Gb.get(e);return n?t===null||t.l_G===n:!1},kD=function(e,t,n){let r=function(l){N(l,l instanceof Ur.lua_State&&e===l.l_G,"must be from same global state"),l.stack[l.top]=new Re(t,n),Ke(l)};return Gb.set(r,e),r},mD=function(e,t){let n=C(e,t);return kD(e.l_G,n.type,n.value)},TD=function(e,t,n,r){let l=C(e,t),o=C(e,n),a=0;if(Sl(l)&&Sl(o))switch(r){case QI:a=Ge.luaV_equalobj(e,l,o);break;case t2:a=Ge.luaV_lessthan(e,l,o);break;case e2:a=Ge.luaV_lessequal(e,l,o);break;default:N(e,!1,"invalid option")}return a},vD=function(e,t){let n=new Re,r=$.luaO_str2num(t,n);return r!==0&&(e.stack[e.top]=n,Ke(e)),r},ED=function(e,t){zn.luaD_callnoyield(e,t.funcOff,t.nresults)},Jn=function(e,t){let n=C(e,t);return Sl(n)?n.ttnov():cf},OD=function(e,t){return N(e,cf<=t&&t<l2,"invalid tag"),p2.ttypename(t)},SD=function(e,t){let n=C(e,t);return n.ttislcf(n)||n.ttisCclosure()},wD=function(e,t){return Jn(e,t)===Rs},RD=function(e,t){return Jn(e,t)===Sb},UD=function(e,t){return Jn(e,t)===cf},yD=function(e,t){return Jn(e,t)<=0},ND=function(e,t){return C(e,t).ttistable()},CD=function(e,t){return C(e,t).ttisinteger()},ID=function(e,t){return Ge.tonumber(C(e,t))!==!1},DD=function(e,t){let n=C(e,t);return n.ttisstring()||Ge.cvt2str(n)},MD=function(e,t){let n=C(e,t);return n.ttisfulluserdata(n)||n.ttislightuserdata()},PD=function(e,t){return Jn(e,t)===pf},FD=function(e,t){return Jn(e,t)===o2},qD=function(e,t){return Jn(e,t)===wl},BD=function(e,t,n){let r=C(e,t),l=C(e,n);return Sl(r)&&Sl(l)?Ge.luaV_equalobj(null,r,l):0},VD=function(e,t){t!==n2&&t!==LI?Ie(e,2):(Ie(e,1),$.pushobj2s(e,e.stack[e.top-1]),N(e,e.top<=e.ci.top,"stack overflow")),$.luaO_arith(e,t,e.stack[e.top-2],e.stack[e.top-1],e.stack[e.top-2]),delete e.stack[--e.top]},GD=Go("?"),KD=function(e,t,n,r,l){r?r=Xn(r):r=GD,l!==null&&(l=Xn(l));let o=new h2(e,t,n),a=zn.luaD_protectedparser(e,o,r,l);if(a===Ss){let s=e.stack[e.top-1].value;if(s.nupvalues>=1){let u=mt.luaH_getint(e.l_G.l_registry.value,ws);s.upvals[0].setfrom(u)}}return a},HD=function(e,t,n,r){Ie(e,1);let l=e.stack[e.top-1];return l.ttisLclosure()?c2(e,l.value.p,t,n,r):1},jD=function(e){return e.status},XD=function(e,t){Ie(e,1);let n=C(e,t);N(e,n.ttisfulluserdata(),"full userdata expected"),n.value.uservalue.setfrom(e.stack[e.top-1]),delete e.stack[--e.top]},Kb=function(e,t,n){N(e,n===af||e.ci.top-e.top>=n-t,"results from function overflow current stack size")},Hb=function(e,t,n,r,l){N(e,l===null||!(e.ci.callstatus&Ur.CIST_LUA),"cannot use continuations inside hooks"),Ie(e,t+1),N(e,e.status===Ss,"cannot do calls on non-normal thread"),Kb(e,t,n);let o=e.top-(t+1);l!==null&&e.nny===0?(e.ci.c_k=l,e.ci.c_ctx=r,zn.luaD_call(e,o,n)):zn.luaD_callnoyield(e,o,n),n===af&&e.ci.top<e.top&&(e.ci.top=e.top)},zD=function(e,t,n){Hb(e,t,n,0,null)},jb=function(e,t,n,r,l,o){N(e,o===null||!(e.ci.callstatus&Ur.CIST_LUA),"cannot use continuations inside hooks"),Ie(e,t+1),N(e,e.status===Ss,"cannot do calls on non-normal thread"),Kb(e,t,n);let a,s;r===0?s=0:s=yb(e,r);let u=e.top-(t+1);if(o===null||e.nny>0){let i={funcOff:u,nresults:n};a=zn.luaD_pcall(e,ED,i,u,s)}else{let i=e.ci;i.c_k=o,i.c_ctx=l,i.extra=u,i.c_old_errfunc=e.errfunc,e.errfunc=s,i.callstatus&=~Ur.CIST_OAH|e.allowhook,i.callstatus|=Ur.CIST_YPCALL,zn.luaD_call(e,u,n),i.callstatus&=~Ur.CIST_YPCALL,e.errfunc=i.c_old_errfunc,a=Ss}return n===af&&e.ci.top<e.top&&(e.ci.top=e.top),a},JD=function(e,t,n,r){return jb(e,t,n,r,0,null)},ZD=function(e){Ie(e,1),i2.luaG_errormsg(e)},$D=function(e,t){let n=C(e,t);return N(e,n.ttistable(),"table expected"),e.stack[e.top]=new Re,mt.luaH_next(e,n.value,e.top-1)?(Ke(e),1):(delete e.stack[e.top],delete e.stack[--e.top],0)},YD=function(e,t){Ie(e,t),t>=2?Ge.luaV_concat(e,t):t===0&&($.pushsvalue2s(e,Ub(e,Go("",!0))),N(e,e.top<=e.ci.top,"stack overflow"))},WD=function(e,t){let n=C(e,t),r=new Re;Ge.luaV_objlen(e,r,n),e.stack[e.top]=r,Ke(e)},of=function(e,t,n){let r=C(e,t);N(e,r.ttisLclosure(),"Lua function expected");let l=r.value;return En(n),N(e,1<=n&&n<=l.p.upvalues.length,"invalid upvalue index"),{f:l,i:n-1}},LD=function(e,t,n){let r=C(e,t);switch(r.ttype()){case uf:{let l=of(e,t,n);return l.f.upvals[l.i]}case sf:{let l=r.value;return N(e,(n|0)===n&&n>0&&n<=l.nupvalues,"invalid upvalue index"),l.upvalue[n-1]}default:return N(e,!1,"closure expected"),null}},QD=function(e,t,n,r,l){let o=of(e,t,n),a=of(e,r,l),s=a.f.upvals[a.i];o.f.upvals[o.i]=s},eM=function(){},tM=function(){return console.warn("lua_getallocf is not available"),0},nM=function(){return console.warn("lua_setallocf is not available"),0},rM=function(){return console.warn("lua_getextraspace is not available"),0};d.exports.api_incr_top=Ke;d.exports.api_checknelems=Ie;d.exports.lua_absindex=m2;d.exports.lua_arith=VD;d.exports.lua_atpanic=x2;d.exports.lua_atnativeerror=A2;d.exports.lua_call=zD;d.exports.lua_callk=Hb;d.exports.lua_checkstack=b2;d.exports.lua_compare=TD;d.exports.lua_concat=YD;d.exports.lua_copy=Cb;d.exports.lua_createtable=Fb;d.exports.lua_dump=HD;d.exports.lua_error=ZD;d.exports.lua_gc=eM;d.exports.lua_getallocf=tM;d.exports.lua_getextraspace=rM;d.exports.lua_getfield=oD;d.exports.lua_getglobal=sD;d.exports.lua_geti=aD;d.exports.lua_getmetatable=nD;d.exports.lua_gettable=lD;d.exports.lua_gettop=T2;d.exports.lua_getupvalue=L2;d.exports.lua_getuservalue=rD;d.exports.lua_insert=O2;d.exports.lua_isboolean=RD;d.exports.lua_iscfunction=SD;d.exports.lua_isfunction=FD;d.exports.lua_isinteger=CD;d.exports.lua_islightuserdata=qD;d.exports.lua_isnil=wD;d.exports.lua_isnone=UD;d.exports.lua_isnoneornil=yD;d.exports.lua_isnumber=ID;d.exports.lua_isproxy=bD;d.exports.lua_isstring=DD;d.exports.lua_istable=ND;d.exports.lua_isthread=PD;d.exports.lua_isuserdata=MD;d.exports.lua_len=WD;d.exports.lua_load=KD;d.exports.lua_newtable=eD;d.exports.lua_newuserdata=W2;d.exports.lua_next=$D;d.exports.lua_pcall=JD;d.exports.lua_pcallk=jb;d.exports.lua_pop=_f;d.exports.lua_pushboolean=F2;d.exports.lua_pushcclosure=df;d.exports.lua_pushcfunction=gf;d.exports.lua_pushfstring=I2;d.exports.lua_pushglobaltable=V2;d.exports.lua_pushinteger=U2;d.exports.lua_pushjsclosure=M2;d.exports.lua_pushjsfunction=P2;d.exports.lua_pushlightuserdata=q2;d.exports.lua_pushliteral=D2;d.exports.lua_pushlstring=y2;d.exports.lua_pushnil=w2;d.exports.lua_pushnumber=R2;d.exports.lua_pushstring=N2;d.exports.lua_pushthread=B2;d.exports.lua_pushvalue=v2;d.exports.lua_pushvfstring=C2;d.exports.lua_rawequal=BD;d.exports.lua_rawget=$2;d.exports.lua_rawgeti=Pb;d.exports.lua_rawgetp=Z2;d.exports.lua_rawlen=pD;d.exports.lua_rawset=X2;d.exports.lua_rawseti=z2;d.exports.lua_rawsetp=J2;d.exports.lua_register=tD;d.exports.lua_remove=E2;d.exports.lua_replace=S2;d.exports.lua_rotate=hf;d.exports.lua_setallocf=nM;d.exports.lua_setfield=H2;d.exports.lua_setglobal=Db;d.exports.lua_seti=j2;d.exports.lua_setmetatable=G2;d.exports.lua_settable=K2;d.exports.lua_settop=Nb;d.exports.lua_setupvalue=Q2;d.exports.lua_setuservalue=XD;d.exports.lua_status=jD;d.exports.lua_stringtonumber=vD;d.exports.lua_toboolean=uD;d.exports.lua_tocfunction=_D;d.exports.lua_todataview=fD;d.exports.lua_tointeger=hD;d.exports.lua_tointegerx=Bb;d.exports.lua_tojsstring=cD;d.exports.lua_tolstring=xf;d.exports.lua_tonumber=dD;d.exports.lua_tonumberx=Vb;d.exports.lua_topointer=AD;d.exports.lua_toproxy=mD;d.exports.lua_tostring=iD;d.exports.lua_tothread=xD;d.exports.lua_touserdata=gD;d.exports.lua_type=Jn;d.exports.lua_typename=OD;d.exports.lua_upvalueid=LD;d.exports.lua_upvaluejoin=QD;d.exports.lua_version=g2;d.exports.lua_xmove=k2});var tt=A((b6,p)=>{var v=ve(),g=xo(),Zn=fn(),Ko=Mt(),Af=cn();p.exports.LUA_AUTHORS=v.LUA_AUTHORS;p.exports.LUA_COPYRIGHT=v.LUA_COPYRIGHT;p.exports.LUA_ERRERR=v.thread_status.LUA_ERRERR;p.exports.LUA_ERRGCMM=v.thread_status.LUA_ERRGCMM;p.exports.LUA_ERRMEM=v.thread_status.LUA_ERRMEM;p.exports.LUA_ERRRUN=v.thread_status.LUA_ERRRUN;p.exports.LUA_ERRSYNTAX=v.thread_status.LUA_ERRSYNTAX;p.exports.LUA_HOOKCALL=v.LUA_HOOKCALL;p.exports.LUA_HOOKCOUNT=v.LUA_HOOKCOUNT;p.exports.LUA_HOOKLINE=v.LUA_HOOKLINE;p.exports.LUA_HOOKRET=v.LUA_HOOKRET;p.exports.LUA_HOOKTAILCALL=v.LUA_HOOKTAILCALL;p.exports.LUA_MASKCALL=v.LUA_MASKCALL;p.exports.LUA_MASKCOUNT=v.LUA_MASKCOUNT;p.exports.LUA_MASKLINE=v.LUA_MASKLINE;p.exports.LUA_MASKRET=v.LUA_MASKRET;p.exports.LUA_MINSTACK=v.LUA_MINSTACK;p.exports.LUA_MULTRET=v.LUA_MULTRET;p.exports.LUA_NUMTAGS=v.constant_types.LUA_NUMTAGS;p.exports.LUA_OK=v.thread_status.LUA_OK;p.exports.LUA_OPADD=v.LUA_OPADD;p.exports.LUA_OPBAND=v.LUA_OPBAND;p.exports.LUA_OPBNOT=v.LUA_OPBNOT;p.exports.LUA_OPBOR=v.LUA_OPBOR;p.exports.LUA_OPBXOR=v.LUA_OPBXOR;p.exports.LUA_OPDIV=v.LUA_OPDIV;p.exports.LUA_OPEQ=v.LUA_OPEQ;p.exports.LUA_OPIDIV=v.LUA_OPIDIV;p.exports.LUA_OPLE=v.LUA_OPLE;p.exports.LUA_OPLT=v.LUA_OPLT;p.exports.LUA_OPMOD=v.LUA_OPMOD;p.exports.LUA_OPMUL=v.LUA_OPMUL;p.exports.LUA_OPPOW=v.LUA_OPPOW;p.exports.LUA_OPSHL=v.LUA_OPSHL;p.exports.LUA_OPSHR=v.LUA_OPSHR;p.exports.LUA_OPSUB=v.LUA_OPSUB;p.exports.LUA_OPUNM=v.LUA_OPUNM;p.exports.LUA_REGISTRYINDEX=v.LUA_REGISTRYINDEX;p.exports.LUA_RELEASE=v.LUA_RELEASE;p.exports.LUA_RIDX_GLOBALS=v.LUA_RIDX_GLOBALS;p.exports.LUA_RIDX_LAST=v.LUA_RIDX_LAST;p.exports.LUA_RIDX_MAINTHREAD=v.LUA_RIDX_MAINTHREAD;p.exports.LUA_SIGNATURE=v.LUA_SIGNATURE;p.exports.LUA_TNONE=v.constant_types.LUA_TNONE;p.exports.LUA_TNIL=v.constant_types.LUA_TNIL;p.exports.LUA_TBOOLEAN=v.constant_types.LUA_TBOOLEAN;p.exports.LUA_TLIGHTUSERDATA=v.constant_types.LUA_TLIGHTUSERDATA;p.exports.LUA_TNUMBER=v.constant_types.LUA_TNUMBER;p.exports.LUA_TSTRING=v.constant_types.LUA_TSTRING;p.exports.LUA_TTABLE=v.constant_types.LUA_TTABLE;p.exports.LUA_TFUNCTION=v.constant_types.LUA_TFUNCTION;p.exports.LUA_TUSERDATA=v.constant_types.LUA_TUSERDATA;p.exports.LUA_TTHREAD=v.constant_types.LUA_TTHREAD;p.exports.LUA_VERSION=v.LUA_VERSION;p.exports.LUA_VERSION_MAJOR=v.LUA_VERSION_MAJOR;p.exports.LUA_VERSION_MINOR=v.LUA_VERSION_MINOR;p.exports.LUA_VERSION_NUM=v.LUA_VERSION_NUM;p.exports.LUA_VERSION_RELEASE=v.LUA_VERSION_RELEASE;p.exports.LUA_YIELD=v.thread_status.LUA_YIELD;p.exports.lua_Debug=v.lua_Debug;p.exports.lua_upvalueindex=v.lua_upvalueindex;p.exports.lua_absindex=g.lua_absindex;p.exports.lua_arith=g.lua_arith;p.exports.lua_atpanic=g.lua_atpanic;p.exports.lua_atnativeerror=g.lua_atnativeerror;p.exports.lua_call=g.lua_call;p.exports.lua_callk=g.lua_callk;p.exports.lua_checkstack=g.lua_checkstack;p.exports.lua_close=Af.lua_close;p.exports.lua_compare=g.lua_compare;p.exports.lua_concat=g.lua_concat;p.exports.lua_copy=g.lua_copy;p.exports.lua_createtable=g.lua_createtable;p.exports.lua_dump=g.lua_dump;p.exports.lua_error=g.lua_error;p.exports.lua_gc=g.lua_gc;p.exports.lua_getallocf=g.lua_getallocf;p.exports.lua_getextraspace=g.lua_getextraspace;p.exports.lua_getfield=g.lua_getfield;p.exports.lua_getglobal=g.lua_getglobal;p.exports.lua_gethook=Zn.lua_gethook;p.exports.lua_gethookcount=Zn.lua_gethookcount;p.exports.lua_gethookmask=Zn.lua_gethookmask;p.exports.lua_geti=g.lua_geti;p.exports.lua_getinfo=Zn.lua_getinfo;p.exports.lua_getlocal=Zn.lua_getlocal;p.exports.lua_getmetatable=g.lua_getmetatable;p.exports.lua_getstack=Zn.lua_getstack;p.exports.lua_gettable=g.lua_gettable;p.exports.lua_gettop=g.lua_gettop;p.exports.lua_getupvalue=g.lua_getupvalue;p.exports.lua_getuservalue=g.lua_getuservalue;p.exports.lua_insert=g.lua_insert;p.exports.lua_isboolean=g.lua_isboolean;p.exports.lua_iscfunction=g.lua_iscfunction;p.exports.lua_isfunction=g.lua_isfunction;p.exports.lua_isinteger=g.lua_isinteger;p.exports.lua_islightuserdata=g.lua_islightuserdata;p.exports.lua_isnil=g.lua_isnil;p.exports.lua_isnone=g.lua_isnone;p.exports.lua_isnoneornil=g.lua_isnoneornil;p.exports.lua_isnumber=g.lua_isnumber;p.exports.lua_isproxy=g.lua_isproxy;p.exports.lua_isstring=g.lua_isstring;p.exports.lua_istable=g.lua_istable;p.exports.lua_isthread=g.lua_isthread;p.exports.lua_isuserdata=g.lua_isuserdata;p.exports.lua_isyieldable=Ko.lua_isyieldable;p.exports.lua_len=g.lua_len;p.exports.lua_load=g.lua_load;p.exports.lua_newstate=Af.lua_newstate;p.exports.lua_newtable=g.lua_newtable;p.exports.lua_newthread=Af.lua_newthread;p.exports.lua_newuserdata=g.lua_newuserdata;p.exports.lua_next=g.lua_next;p.exports.lua_pcall=g.lua_pcall;p.exports.lua_pcallk=g.lua_pcallk;p.exports.lua_pop=g.lua_pop;p.exports.lua_pushboolean=g.lua_pushboolean;p.exports.lua_pushcclosure=g.lua_pushcclosure;p.exports.lua_pushcfunction=g.lua_pushcfunction;p.exports.lua_pushfstring=g.lua_pushfstring;p.exports.lua_pushglobaltable=g.lua_pushglobaltable;p.exports.lua_pushinteger=g.lua_pushinteger;p.exports.lua_pushjsclosure=g.lua_pushjsclosure;p.exports.lua_pushjsfunction=g.lua_pushjsfunction;p.exports.lua_pushlightuserdata=g.lua_pushlightuserdata;p.exports.lua_pushliteral=g.lua_pushliteral;p.exports.lua_pushlstring=g.lua_pushlstring;p.exports.lua_pushnil=g.lua_pushnil;p.exports.lua_pushnumber=g.lua_pushnumber;p.exports.lua_pushstring=g.lua_pushstring;p.exports.lua_pushthread=g.lua_pushthread;p.exports.lua_pushvalue=g.lua_pushvalue;p.exports.lua_pushvfstring=g.lua_pushvfstring;p.exports.lua_rawequal=g.lua_rawequal;p.exports.lua_rawget=g.lua_rawget;p.exports.lua_rawgeti=g.lua_rawgeti;p.exports.lua_rawgetp=g.lua_rawgetp;p.exports.lua_rawlen=g.lua_rawlen;p.exports.lua_rawset=g.lua_rawset;p.exports.lua_rawseti=g.lua_rawseti;p.exports.lua_rawsetp=g.lua_rawsetp;p.exports.lua_register=g.lua_register;p.exports.lua_remove=g.lua_remove;p.exports.lua_replace=g.lua_replace;p.exports.lua_resume=Ko.lua_resume;p.exports.lua_rotate=g.lua_rotate;p.exports.lua_setallof=Ko.lua_setallof;p.exports.lua_setfield=g.lua_setfield;p.exports.lua_setglobal=g.lua_setglobal;p.exports.lua_sethook=Zn.lua_sethook;p.exports.lua_seti=g.lua_seti;p.exports.lua_setlocal=Zn.lua_setlocal;p.exports.lua_setmetatable=g.lua_setmetatable;p.exports.lua_settable=g.lua_settable;p.exports.lua_settop=g.lua_settop;p.exports.lua_setupvalue=g.lua_setupvalue;p.exports.lua_setuservalue=g.lua_setuservalue;p.exports.lua_status=g.lua_status;p.exports.lua_stringtonumber=g.lua_stringtonumber;p.exports.lua_toboolean=g.lua_toboolean;p.exports.lua_todataview=g.lua_todataview;p.exports.lua_tointeger=g.lua_tointeger;p.exports.lua_tointegerx=g.lua_tointegerx;p.exports.lua_tojsstring=g.lua_tojsstring;p.exports.lua_tolstring=g.lua_tolstring;p.exports.lua_tonumber=g.lua_tonumber;p.exports.lua_tonumberx=g.lua_tonumberx;p.exports.lua_topointer=g.lua_topointer;p.exports.lua_toproxy=g.lua_toproxy;p.exports.lua_tostring=g.lua_tostring;p.exports.lua_tothread=g.lua_tothread;p.exports.lua_touserdata=g.lua_touserdata;p.exports.lua_type=g.lua_type;p.exports.lua_typename=g.lua_typename;p.exports.lua_upvalueid=g.lua_upvalueid;p.exports.lua_upvaluejoin=g.lua_upvaluejoin;p.exports.lua_version=g.lua_version;p.exports.lua_xmove=g.lua_xmove;p.exports.lua_yield=Ko.lua_yield;p.exports.lua_yieldk=Ko.lua_yieldk;p.exports.lua_tocfunction=g.lua_tocfunction});var vt=A((k6,k)=>{var{LUAL_BUFFERSIZE:lM}=ot(),{LUA_ERRERR:oM,LUA_MULTRET:Yb,LUA_REGISTRYINDEX:Ms,LUA_SIGNATURE:aM,LUA_TBOOLEAN:sM,LUA_TLIGHTUSERDATA:uM,LUA_TNIL:Ul,LUA_TNONE:iM,LUA_TNUMBER:mf,LUA_TSTRING:jo,LUA_TTABLE:cM,LUA_VERSION_NUM:fM,lua_Debug:Ps,lua_absindex:Fs,lua_atpanic:pM,lua_call:Wb,lua_checkstack:_M,lua_concat:Ns,lua_copy:hM,lua_createtable:Tf,lua_error:dM,lua_getfield:qs,lua_getinfo:Bs,lua_getmetatable:Lb,lua_getstack:Xo,lua_gettop:Ho,lua_insert:gM,lua_isinteger:xM,lua_isnil:AM,lua_isnumber:bM,lua_isstring:kM,lua_istable:mM,lua_len:TM,lua_load:Qb,lua_newstate:vM,lua_newtable:EM,lua_next:OM,lua_pcall:ek,lua_pop:Tt,lua_pushboolean:tk,lua_pushcclosure:SM,lua_pushcfunction:wM,lua_pushfstring:ct,lua_pushinteger:Cs,lua_pushliteral:wt,lua_pushlstring:RM,lua_pushnil:vf,lua_pushstring:yl,lua_pushvalue:Nr,lua_pushvfstring:UM,lua_rawequal:nk,lua_rawget:yM,lua_rawgeti:bf,lua_rawlen:NM,lua_rawseti:Is,lua_remove:$n,lua_setfield:zo,lua_setglobal:CM,lua_setmetatable:IM,lua_settop:rk,lua_toboolean:lk,lua_tointeger:ok,lua_tointegerx:ak,lua_tojsstring:DM,lua_tolstring:sk,lua_tonumber:MM,lua_tonumberx:PM,lua_topointer:FM,lua_tostring:On,lua_touserdata:qM,lua_type:Yn,lua_typename:uk,lua_version:Xb}=tt(),{from_userstring:Ef,luastring_eq:ik,to_luastring:D,to_uristring:BM}=_t(),ck=oM+1,Of=D("_LOADED"),VM=D("_PRELOAD"),GM=D("FILE*"),fk=4*16+8,Sf=D("__name"),KM=D("__tostring"),wf=new Uint8Array(0),Ds=class{constructor(){this.L=null,this.b=wf,this.n=0}},zb=10,Jb=11,pk=function(e,t,n){if(n===0||!mM(e,-1))return 0;for(vf(e);OM(e,-2);){if(Yn(e,-2)===jo){if(nk(e,t,-1))return Tt(e,1),1;if(pk(e,t,n-1))return $n(e,-2),wt(e,"."),gM(e,-2),Ns(e,3),1}Tt(e,1)}return 0},_k=function(e,t){let n=Ho(e);if(Bs(e,D("f"),t),qs(e,Ms,Of),pk(e,n+1,2)){let r=On(e,-1);return r[0]===95&&r[1]===71&&r[2]===46&&(yl(e,r.subarray(3)),$n(e,-2)),hM(e,-1,n+1),Tt(e,2),1}else return rk(e,n),0},HM=function(e,t){_k(e,t)?(ct(e,D("function '%s'"),On(e,-1)),$n(e,-2)):t.namewhat.length!==0?ct(e,D("%s '%s'"),t.namewhat,t.name):t.what&&t.what[0]===109?wt(e,"main chunk"):t.what&&t.what[0]===76?ct(e,D("function <%s:%d>"),t.short_src,t.linedefined):wt(e,"?")},jM=function(e){let t=new Ps,n=1,r=1;for(;Xo(e,r,t);)n=r,r*=2;for(;n<r;){let l=Math.floor((n+r)/2);Xo(e,l,t)?n=l+1:r=l}return r-1},XM=function(e,t,n,r){let l=new Ps,o=Ho(e),a=jM(t),s=a-r>zb+Jb?zb:-1;for(n&&ct(e,D(\`%s
\`),n),Df(e,10,null),wt(e,"stack traceback:");Xo(t,r++,l);)s--===0?(wt(e,\`
	...\`),r=a-Jb+1):(Bs(t,D("Slnt",!0),l),ct(e,D(\`
	%s:\`),l.short_src),l.currentline>0&&wt(e,\`\${l.currentline}:\`),wt(e," in "),HM(e,l),l.istailcall&&wt(e,\`
	(...tail calls..)\`),Ns(e,Ho(e)-o));Ns(e,Ho(e)-o)},zM=function(e){let t="PANIC: unprotected error in call to Lua API ("+DM(e,-1)+")";throw new Error(t)},Nl=function(e,t,n){let r=new Ps;return Xo(e,0,r)?(Bs(e,D("n"),r),ik(r.namewhat,D("method"))&&(t--,t===0)?Ft(e,D("calling '%s' on bad self (%s)"),r.name,n):(r.name===null&&(r.name=_k(e,r)?On(e,-1):D("?")),Ft(e,D("bad argument #%d to '%s' (%s)"),t,r.name,n))):Ft(e,D("bad argument #%d (%s)"),t,n)},hk=function(e,t,n){let r;Hs(e,t,Sf)===jo?r=On(e,-1):Yn(e,t)===uM?r=D("light userdata",!0):r=Rf(e,t);let l=ct(e,D("%s expected, got %s"),n,r);return Nl(e,t,l)},dk=function(e,t){let n=new Ps;if(Xo(e,t,n)&&(Bs(e,D("Sl",!0),n),n.currentline>0)){ct(e,D("%s:%d: "),n.short_src,n.currentline);return}yl(e,D(""))},Ft=function(e,t,...n){return dk(e,1),UM(e,t,n),Ns(e,2),dM(e)},gk=function(e,t,n,r){if(t)return tk(e,1),1;{vf(e);let l,o;return r?(l=r.message,o=-r.errno):(l="Success",o=0),n?ct(e,D("%s: %s"),n,D(l)):yl(e,D(l)),Cs(e,o),3}},JM=function(e,t){let n,r;if(t===null)return tk(e,1),wt(e,"exit"),Cs(e,0),3;if(t.status)n="exit",r=t.status;else if(t.signal)n="signal",r=t.signal;else return gk(e,0,null,t);return vf(e),wt(e,n),Cs(e,r),3},Vs=function(e,t){return qs(e,Ms,t)},ZM=function(e,t){return Vs(e,t)!==Ul?0:(Tt(e,1),Tf(e,0,2),yl(e,t),zo(e,-2,Sf),Nr(e,-1),zo(e,Ms,t),1)},$M=function(e,t){Vs(e,t),IM(e,-2)},xk=function(e,t,n){let r=qM(e,t);return r!==null&&Lb(e,t)?(Vs(e,n),nk(e,-1,-2)||(r=null),Tt(e,2),r):null},YM=function(e,t,n){let r=xk(e,t,n);return r===null&&hk(e,t,n),r},WM=function(e,t,n,r){let l=n!==null?kk(e,t,n):Ak(e,t);for(let o=0;r[o];o++)if(ik(r[o],l))return o;return Nl(e,t,ct(e,D("invalid option '%s'"),l))},Gs=function(e,t,n){hk(e,t,uk(e,n))},LM=function(){let e=vM();return e&&pM(e,zM),e},Rf=function(e,t){return uk(e,Yn(e,t))},QM=function(e,t,n,r){t||Nl(e,n,r)},eP=function(e,t){Yn(e,t)===iM&&Nl(e,t,D("value expected",!0))},tP=function(e,t,n){Yn(e,t)!==n&&Gs(e,t,n)},Uf=function(e,t){let n=sk(e,t);return n==null&&Gs(e,t,jo),n},Ak=Uf,bk=function(e,t,n){return Yn(e,t)<=0?n===null?null:Ef(n):Uf(e,t)},kk=bk,nP=function(e,t){bM(e,t)?Nl(e,t,D("number has no integer representation",!0)):Gs(e,t,mf)},mk=function(e,t){let n=PM(e,t);return n===!1&&Gs(e,t,mf),n},rP=function(e,t,n){return If(e,mk,t,n)},Tk=function(e,t){let n=ak(e,t);return n===!1&&nP(e,t),n},lP=function(e,t,n){return If(e,Tk,t,n)},Zo=function(e,t){let n=e.n+t;if(e.b.length<n){let r=Math.max(e.b.length*2,n),l=new Uint8Array(r);l.set(e.b),e.b=l}return e.b.subarray(e.n,n)},yf=function(e,t){t.L=e,t.b=wf},oP=function(e,t,n){return yf(e,t),Zo(t,n)},aP=function(e){return Zo(e,lM)},Ks=function(e,t,n){n>0&&(t=Ef(t),Zo(e,n).set(t.subarray(0,n)),Cf(e,n))},kf=function(e,t){t=Ef(t),Ks(e,t,t.length)},Nf=function(e){RM(e.L,e.b,e.n),e.n=0,e.b=wf},sP=function(e,t){Zo(e,1),e.b[e.n++]=t},Cf=function(e,t){e.n+=t},uP=function(e,t){Cf(e,t),Nf(e)},iP=function(e){let t=e.L,n=On(t,-1);Ks(e,n,n.length),Tt(t,1)},If=function(e,t,n,r){return Yn(e,n)<=0?r:t(e,n)},cP=function(e,t){let n=t.string;return t.string=null,n},vk=function(e,t,n,r,l){return Qb(e,cP,{string:t},r,l)},Ek=function(e,t,n,r){return vk(e,t,n,r,null)},Ok=function(e,t){return Ek(e,t,t.length,t)},fP=function(e,t){return Ok(e,t)||ek(e,0,Yb,0)},Hs=function(e,t,n){if(Lb(e,t)){yl(e,n);let r=yM(e,-2);return r===Ul?Tt(e,2):$n(e,-2),r}else return Ul},Sk=function(e,t,n){return t=Fs(e,t),Hs(e,t,n)===Ul?!1:(Nr(e,t),Wb(e,1,1),!0)},pP=function(e,t){TM(e,t);let n=ak(e,-1);return n===!1&&Ft(e,D("object length is not an integer",!0)),Tt(e,1),n},_P=D("%I"),hP=D("%f"),dP=function(e,t){if(Sk(e,t,KM))kM(e,-1)||Ft(e,D("'__tostring' must return a string"));else switch(Yn(e,t)){case mf:{xM(e,t)?ct(e,_P,ok(e,t)):ct(e,hP,MM(e,t));break}case jo:Nr(e,t);break;case sM:wt(e,lk(e,t)?"true":"false");break;case Ul:wt(e,"nil");break;default:{let r=Hs(e,t,Sf),l=r===jo?On(e,-1):Rf(e,t);ct(e,D("%s: %p"),l,FM(e,t)),r!==Ul&&$n(e,-2);break}}return sk(e,-1)},gP=function(e,t,n,r){wk(e,Ms,Of),qs(e,-1,t),lk(e,-1)||(Tt(e,1),wM(e,n),yl(e,t),Wb(e,1,1),Nr(e,-1),zo(e,-3,t)),$n(e,-2),r&&(Nr(e,-1),CM(e,t))},xP=function(e,t,n){var r=n>>>0,l=t.length,o=e.length+1-l;e:for(;r<o;r++){for(let a=0;a<l;a++)if(e[r+a]!==t[a])continue e;return r}return-1},AP=function(e,t,n,r){let l,o=new Ds;for(yf(e,o);(l=xP(t,n))>=0;)Ks(o,t,l),kf(o,r),t=t.subarray(l+n.length);return kf(o,t),Nf(o),On(e,-1)},wk=function(e,t,n){return qs(e,t,n)===cM?!0:(Tt(e,1),t=Fs(e,t),EM(e),Nr(e,-1),zo(e,t,n),!1)},Rk=function(e,t,n){Df(e,n,D("too many upvalues",!0));for(let r in t){for(let l=0;l<n;l++)Nr(e,-n);SM(e,t[r],n),zo(e,-(n+2),D(r))}Tt(e,n)},Df=function(e,t,n){_M(e,t)||(n?Ft(e,D("stack overflow (%s)"),n):Ft(e,D("stack overflow",!0)))},bP=function(e){Tf(e)},kP=function(e,t){Tf(e),Rk(e,t,0)},mP=-2,Uk=-1,TP=function(e,t){let n;return AM(e,-1)?(Tt(e,1),Uk):(t=Fs(e,t),bf(e,t,0),n=ok(e,-1),Tt(e,1),n!==0?(bf(e,t,n),Is(e,t,0)):n=NM(e,t)+1,Is(e,t,n),n)},vP=function(e,t,n){n>=0&&(t=Fs(e,t),bf(e,t,0),Is(e,t,n),Cs(e,n),Is(e,t,0))},Zb=function(e,t,n,r){let l=r.message,o=On(e,n).subarray(1);return ct(e,D("cannot %s %s: %s"),D(t),o,D(l)),$n(e,n),ck},Jo,$b=[239,187,191],EP=function(e){e.n=0;let t,n=0;do{if(t=Jo(e),t===null||t!==$b[n])return t;n++,e.buff[e.n++]=t}while(n<$b.length);return e.n=0,Jo(e)},OP=function(e){let t=EP(e);if(t===35){do t=Jo(e);while(t&&t!==10);return{skipped:!0,c:Jo(e)}}else return{skipped:!1,c:t}},Mf;{class e{constructor(){this.n=NaN,this.f=null,this.buff=new Uint8Array(1024),this.pos=0,this.err=void 0}}let t=function(n,r){let l=r;if(l.f!==null&&l.n>0){let a=l.n;return l.n=0,l.f=l.f.subarray(l.pos),l.buff.subarray(0,a)}let o=l.f;return l.f=null,o};Jo=function(n){return n.pos<n.f.length?n.f[n.pos++]:null},Mf=function(n,r,l){let o=new e,a=Ho(n)+1;if(r===null)throw new Error("Can't read stdin in the browser");{ct(n,D("@%s"),r);let c=BM(r),f=new XMLHttpRequest;if(f.open("GET",c,!1),typeof window=="undefined"&&(f.responseType="arraybuffer"),f.send(),f.status>=200&&f.status<=299)typeof f.response=="string"?o.f=D(f.response):o.f=new Uint8Array(f.response);else return o.err=f.status,Zb(n,"open",a,{message:\`\${f.status}: \${f.statusText}\`})}let s=OP(o);s.c===aM[0]&&r||s.skipped&&(o.buff[o.n++]=10),s.c!==null&&(o.buff[o.n++]=s.c);let u=Qb(n,t,o,On(n,-1),l),i=o.err;return i?(rk(n,a),Zb(n,"read",a,i)):($n(n,a),u)}}var yk=function(e,t){return Mf(e,t,null)},SP=function(e,t){return yk(e,t)||ek(e,0,Yb,0)},wP=function(){for(let e=0;e<arguments.length;e++){let t=arguments[e];do{let n=/([^\\n]*)\\n?([\\d\\D]*)/.exec(t);console.error(n[1]),t=n[2]}while(t!=="")}},Nk=function(e,t,n){let r=Xb(e);n!=fk&&Ft(e,D("core and library have incompatible numeric types")),r!=Xb(null)?Ft(e,D("multiple Lua VMs detected")):r!==t&&Ft(e,D("version mismatch: app. needs %f, Lua core provides %f"),t,r)},RP=function(e){Nk(e,fM,fk)};k.exports.LUA_ERRFILE=ck;k.exports.LUA_FILEHANDLE=GM;k.exports.LUA_LOADED_TABLE=Of;k.exports.LUA_NOREF=mP;k.exports.LUA_PRELOAD_TABLE=VM;k.exports.LUA_REFNIL=Uk;k.exports.luaL_Buffer=Ds;k.exports.luaL_addchar=sP;k.exports.luaL_addlstring=Ks;k.exports.luaL_addsize=Cf;k.exports.luaL_addstring=kf;k.exports.luaL_addvalue=iP;k.exports.luaL_argcheck=QM;k.exports.luaL_argerror=Nl;k.exports.luaL_buffinit=yf;k.exports.luaL_buffinitsize=oP;k.exports.luaL_callmeta=Sk;k.exports.luaL_checkany=eP;k.exports.luaL_checkinteger=Tk;k.exports.luaL_checklstring=Uf;k.exports.luaL_checknumber=mk;k.exports.luaL_checkoption=WM;k.exports.luaL_checkstack=Df;k.exports.luaL_checkstring=Ak;k.exports.luaL_checktype=tP;k.exports.luaL_checkudata=YM;k.exports.luaL_checkversion=RP;k.exports.luaL_checkversion_=Nk;k.exports.luaL_dofile=SP;k.exports.luaL_dostring=fP;k.exports.luaL_error=Ft;k.exports.luaL_execresult=JM;k.exports.luaL_fileresult=gk;k.exports.luaL_getmetafield=Hs;k.exports.luaL_getmetatable=Vs;k.exports.luaL_getsubtable=wk;k.exports.luaL_gsub=AP;k.exports.luaL_len=pP;k.exports.luaL_loadbuffer=Ek;k.exports.luaL_loadbufferx=vk;k.exports.luaL_loadfile=yk;k.exports.luaL_loadfilex=Mf;k.exports.luaL_loadstring=Ok;k.exports.luaL_newlib=kP;k.exports.luaL_newlibtable=bP;k.exports.luaL_newmetatable=ZM;k.exports.luaL_newstate=LM;k.exports.luaL_opt=If;k.exports.luaL_optinteger=lP;k.exports.luaL_optlstring=bk;k.exports.luaL_optnumber=rP;k.exports.luaL_optstring=kk;k.exports.luaL_prepbuffer=aP;k.exports.luaL_prepbuffsize=Zo;k.exports.luaL_pushresult=Nf;k.exports.luaL_pushresultsize=uP;k.exports.luaL_ref=TP;k.exports.luaL_requiref=gP;k.exports.luaL_setfuncs=Rk;k.exports.luaL_setmetatable=$M;k.exports.luaL_testudata=xk;k.exports.luaL_tolstring=dP;k.exports.luaL_traceback=XM;k.exports.luaL_typename=Rf;k.exports.luaL_unref=vP;k.exports.luaL_where=dk;k.exports.lua_writestringerror=wP});var jf=A((m6,zk)=>{var{LUA_MULTRET:qf,LUA_OK:Bf,LUA_TFUNCTION:Dk,LUA_TNIL:js,LUA_TNONE:UP,LUA_TNUMBER:yP,LUA_TSTRING:Js,LUA_TTABLE:Il,LUA_VERSION:NP,LUA_YIELD:CP,lua_call:Vf,lua_callk:IP,lua_concat:DP,lua_error:Mk,lua_getglobal:MP,lua_geti:PP,lua_getmetatable:FP,lua_gettop:Ir,lua_insert:Pk,lua_isnil:qP,lua_isnone:Fk,lua_isstring:BP,lua_load:VP,lua_next:GP,lua_pcallk:qk,lua_pop:Gf,lua_pushboolean:Zs,lua_pushcfunction:Bk,lua_pushglobaltable:KP,lua_pushinteger:Dl,lua_pushliteral:Vk,lua_pushnil:Yo,lua_pushstring:HP,lua_pushvalue:qt,lua_rawequal:jP,lua_rawget:XP,lua_rawlen:zP,lua_rawset:JP,lua_remove:ZP,lua_replace:$P,lua_rotate:YP,lua_setfield:Ck,lua_setmetatable:WP,lua_settop:Sn,lua_setupvalue:LP,lua_stringtonumber:QP,lua_toboolean:eF,lua_tolstring:tF,lua_tostring:$o,lua_type:Cr,lua_typename:nF}=tt(),{luaL_argcheck:Wo,luaL_checkany:Ut,luaL_checkinteger:Kf,luaL_checkoption:rF,luaL_checkstack:lF,luaL_checktype:Dr,luaL_error:$s,luaL_getmetafield:Hf,luaL_loadbufferx:oF,luaL_loadfile:aF,luaL_loadfilex:sF,luaL_optinteger:Gk,luaL_optstring:Cl,luaL_setfuncs:uF,luaL_tolstring:iF,luaL_where:cF}=vt(),{to_jsstring:Kk,to_luastring:Rt}=_t(),Xs,Pf;if(typeof TextDecoder=="function"){let e="",t=new TextDecoder("utf-8");Xs=function(r){e+=t.decode(r,{stream:!0})};let n=new Uint8Array(0);Pf=function(){e+=t.decode(n),console.log(e),e=""}}else{let e=[];Xs=function(t){try{t=Kk(t)}catch(n){let r=new Uint8Array(t.length);r.set(t),t=r}e.push(t)},Pf=function(){console.log.apply(console.log,e),e=[]}}var fF=function(e){let t=Ir(e);MP(e,Rt("tostring",!0));for(let n=1;n<=t;n++){qt(e,-1),qt(e,n),Vf(e,1,1);let r=tF(e,-1);if(r===null)return $s(e,Rt("'tostring' must return a string to 'print'"));n>1&&Xs(Rt("	")),Xs(r),Gf(e,1)}return Pf(),0},pF=function(e){return Ut(e,1),iF(e,1),1},_F=function(e){return Ut(e,1),FP(e,1)?(Hf(e,1,Rt("__metatable",!0)),1):(Yo(e),1)},hF=function(e){let t=Cr(e,2);return Dr(e,1,Il),Wo(e,t===js||t===Il,2,"nil or table expected"),Hf(e,1,Rt("__metatable",!0))!==js?$s(e,Rt("cannot change a protected metatable")):(Sn(e,2),WP(e,1),1)},dF=function(e){return Ut(e,1),Ut(e,2),Zs(e,jP(e,1,2)),1},gF=function(e){let t=Cr(e,1);return Wo(e,t===Il||t===Js,1,"table or string expected"),Dl(e,zP(e,1)),1},xF=function(e){return Dr(e,1,Il),Ut(e,2),Sn(e,2),XP(e,1),1},AF=function(e){return Dr(e,1,Il),Ut(e,2),Ut(e,3),Sn(e,3),JP(e,1),1},bF=["stop","restart","collect","count","step","setpause","setstepmul","isrunning"].map(e=>Rt(e)),kF=function(e){rF(e,1,"collect",bF),Gk(e,2,0),$s(e,Rt("lua_gc not implemented"))},mF=function(e){let t=Cr(e,1);return Wo(e,t!==UP,1,"value expected"),HP(e,nF(e,t)),1},TF=function(e,t,n,r){return Ut(e,1),Hf(e,1,t)===js?(Bk(e,r),qt(e,1),n?Dl(e,0):Yo(e)):(qt(e,1),Vf(e,1,3)),3},Hk=function(e){return Dr(e,1,Il),Sn(e,2),GP(e,1)?2:(Yo(e),1)},vF=function(e){return TF(e,Rt("__pairs",!0),0,Hk)},EF=function(e){let t=Kf(e,2)+1;return Dl(e,t),PP(e,1,t)===js?1:2},OF=function(e){return Ut(e,1),Bk(e,EF),qt(e,1),Dl(e,0),3},SF=function(e,t){try{e=Kk(e)}catch(l){return null}let n=/^[\\t\\v\\f \\n\\r]*([+-]?)0*([0-9A-Za-z]+)[\\t\\v\\f \\n\\r]*$/.exec(e);if(!n)return null;let r=parseInt(n[1]+n[2],t);return isNaN(r)?null:r|0},wF=function(e){if(Cr(e,2)<=0){if(Ut(e,1),Cr(e,1)===yP)return Sn(e,1),1;{let t=$o(e,1);if(t!==null&&QP(e,t)===t.length+1)return 1}}else{let t=Kf(e,2);Dr(e,1,Js);let n=$o(e,1);Wo(e,2<=t&&t<=36,2,"base out of range");let r=SF(n,t);if(r!==null)return Dl(e,r),1}return Yo(e),1},jk=function(e){let t=Gk(e,2,1);return Sn(e,1),Cr(e,1)===Js&&t>0&&(cF(e,t),qt(e,1),DP(e,2)),Mk(e)},RF=function(e){return eF(e,1)?Ir(e):(Ut(e,1),ZP(e,1),Vk(e,"assertion failed!"),Sn(e,1),jk(e))},UF=function(e){let t=Ir(e);if(Cr(e,1)===Js&&$o(e,1)[0]===35)return Dl(e,t-1),1;{let n=Kf(e,1);return n<0?n=t+n:n>t&&(n=t),Wo(e,1<=n,1,"index out of range"),t-n}},zs=function(e,t,n){return t!==Bf&&t!==CP?(Zs(e,0),qt(e,-2),2):Ir(e)-n},yF=function(e){Ut(e,1),Zs(e,1),Pk(e,1);let t=qk(e,Ir(e)-2,qf,0,0,zs);return zs(e,t,0)},NF=function(e){let t=Ir(e);Dr(e,2,Dk),Zs(e,1),qt(e,1),YP(e,3,2);let n=qk(e,t-2,qf,2,2,zs);return zs(e,n,2)},Xk=function(e,t,n){return t===Bf?(n!==0&&(qt(e,n),LP(e,-2,1)||Gf(e,1)),1):(Yo(e),Pk(e,-2),2)},Ff=5,CF=function(e,t){return lF(e,2,"too many nested functions"),qt(e,1),Vf(e,0,1),qP(e,-1)?(Gf(e,1),null):(BP(e,-1)||$s(e,Rt("reader function must return a string")),$P(e,Ff),$o(e,Ff))},IF=function(e){let t=$o(e,1),n=Cl(e,3,"bt"),r=Fk(e,4)?0:4,l;if(t!==null){let o=Cl(e,2,t);l=oF(e,t,t.length,o,n)}else{let o=Cl(e,2,"=(load)");Dr(e,1,Dk),Sn(e,Ff),l=VP(e,CF,null,o,n)}return Xk(e,l,r)},DF=function(e){let t=Cl(e,1,null),n=Cl(e,2,null),r=Fk(e,3)?0:3,l=sF(e,t,n);return Xk(e,l,r)},Ik=function(e,t,n){return Ir(e)-1},MF=function(e){let t=Cl(e,1,null);return Sn(e,1),aF(e,t)!==Bf?Mk(e):(IP(e,0,qf,0,Ik),Ik(e,0,0))},PF={assert:RF,collectgarbage:kF,dofile:MF,error:jk,getmetatable:_F,ipairs:OF,load:IF,loadfile:DF,next:Hk,pairs:vF,pcall:yF,print:fF,rawequal:dF,rawget:xF,rawlen:gF,rawset:AF,select:UF,setmetatable:hF,tonumber:wF,tostring:pF,type:mF,xpcall:NF},FF=function(e){return KP(e),uF(e,PF,0),qt(e,-1),Ck(e,-2,Rt("_G")),Vk(e,NP),Ck(e,-2,Rt("_VERSION")),1};zk.exports.luaopen_base=FF});var Jf=A((T6,e1)=>{var{LUA_OK:Xf,LUA_TFUNCTION:qF,LUA_TSTRING:BF,LUA_YIELD:Zk,lua_Debug:VF,lua_checkstack:Jk,lua_concat:GF,lua_error:KF,lua_getstack:HF,lua_gettop:Ml,lua_insert:zf,lua_isyieldable:jF,lua_newthread:XF,lua_pop:zF,lua_pushboolean:Ws,lua_pushcclosure:JF,lua_pushliteral:wn,lua_pushthread:ZF,lua_pushvalue:$F,lua_resume:YF,lua_status:$k,lua_tothread:Yk,lua_type:WF,lua_upvalueindex:LF,lua_xmove:Ys,lua_yield:QF}=tt(),{luaL_argcheck:eq,luaL_checktype:tq,luaL_newlib:nq,luaL_where:rq}=vt(),Wk=function(e){let t=Yk(e,1);return eq(e,t,1,"thread expected"),t},Lk=function(e,t,n){if(!Jk(t,n))return wn(e,"too many arguments to resume"),-1;if($k(t)===Xf&&Ml(t)===0)return wn(e,"cannot resume dead coroutine"),-1;Ys(e,t,n);let r=YF(t,e,n);if(r===Xf||r===Zk){let l=Ml(t);return Jk(e,l+1)?(Ys(t,e,l),l):(zF(t,l),wn(e,"too many results to resume"),-1)}else return Ys(t,e,1),-1},lq=function(e){let t=Wk(e),n=Lk(e,t,Ml(e)-1);return n<0?(Ws(e,0),zf(e,-2),2):(Ws(e,1),zf(e,-(n+1)),n+1)},oq=function(e){let t=Yk(e,LF(1)),n=Lk(e,t,Ml(e));return n<0?(WF(e,-1)===BF&&(rq(e,1),zf(e,-2),GF(e,2)),KF(e)):n},Qk=function(e){tq(e,1,qF);let t=XF(e);return $F(e,1),Ys(e,t,1),1},aq=function(e){return Qk(e),JF(e,oq,1),1},sq=function(e){return QF(e,Ml(e))},uq=function(e){let t=Wk(e);if(e===t)wn(e,"running");else switch($k(t)){case Zk:wn(e,"suspended");break;case Xf:{let n=new VF;HF(t,0,n)>0?wn(e,"normal"):Ml(t)===0?wn(e,"dead"):wn(e,"suspended");break}default:wn(e,"dead");break}return 1},iq=function(e){return Ws(e,jF(e)),1},cq=function(e){return Ws(e,ZF(e)),2},fq={create:Qk,isyieldable:iq,resume:lq,running:cq,status:uq,wrap:aq,yield:sq},pq=function(e){return nq(e,fq),1};e1.exports.luaopen_coroutine=pq});var ep=A((v6,i1)=>{var{LUA_MAXINTEGER:$f}=ot(),{LUA_OPEQ:_q,LUA_OPLT:hq,LUA_TFUNCTION:dq,LUA_TNIL:gq,LUA_TTABLE:t1,lua_call:xq,lua_checkstack:Aq,lua_compare:r1,lua_createtable:bq,lua_geti:Je,lua_getmetatable:kq,lua_gettop:l1,lua_insert:mq,lua_isnil:Tq,lua_isnoneornil:o1,lua_isstring:vq,lua_pop:Wn,lua_pushinteger:Eq,lua_pushnil:Oq,lua_pushstring:Sq,lua_pushvalue:Lo,lua_rawget:wq,lua_setfield:Rq,lua_seti:Rn,lua_settop:Uq,lua_toboolean:yq,lua_type:Nq}=tt(),{luaL_Buffer:Cq,luaL_addlstring:Iq,luaL_addvalue:Dq,luaL_argcheck:ta,luaL_buffinit:Mq,luaL_checkinteger:Qo,luaL_checktype:a1,luaL_error:na,luaL_len:s1,luaL_newlib:Pq,luaL_opt:Fq,luaL_optinteger:Ls,luaL_optlstring:qq,luaL_pushresult:Bq,luaL_typename:Vq}=vt(),Gq=Mr(),{to_luastring:Ln}=_t(),Qs=1,Lf=2,u1=4,Qf=Qs|Lf,Zf=function(e,t,n){return Sq(e,t),wq(e,-n)!==gq},Yf=function(e,t,n){if(Nq(e,t)!==t1){let r=1;kq(e,t)&&(!(n&Qs)||Zf(e,Ln("__index",!0),++r))&&(!(n&Lf)||Zf(e,Ln("__newindex",!0),++r))&&(!(n&u1)||Zf(e,Ln("__len",!0),++r))?Wn(e,r):a1(e,t,t1)}},eu=function(e,t,n){return Yf(e,t,n|u1),s1(e,t)},n1=function(e,t,n){Je(e,1,n),vq(e,-1)||na(e,Ln("invalid value (%s) at index %d in table for 'concat'"),Vq(e,-1),n),Dq(t)},Kq=function(e){let t=eu(e,1,Qf)+1,n;switch(l1(e)){case 2:n=t;break;case 3:{n=Qo(e,2),ta(e,1<=n&&n<=t,2,"position out of bounds");for(let r=t;r>n;r--)Je(e,1,r-1),Rn(e,1,r);break}default:return na(e,"wrong number of arguments to 'insert'")}return Rn(e,1,n),0},Hq=function(e){let t=eu(e,1,Qf),n=Ls(e,2,t);for(n!==t&&ta(e,1<=n&&n<=t+1,1,"position out of bounds"),Je(e,1,n);n<t;n++)Je(e,1,n+1),Rn(e,1,n);return Oq(e),Rn(e,1,n),1},jq=function(e){let t=Qo(e,2),n=Qo(e,3),r=Qo(e,4),l=o1(e,5)?1:5;if(Yf(e,1,Qs),Yf(e,l,Lf),n>=t){ta(e,t>0||n<$f+t,3,"too many elements to move");let o=n-t+1;if(ta(e,r<=$f-o+1,4,"destination wrap around"),r>n||r<=t||l!==1&&r1(e,1,l,_q)!==1)for(let a=0;a<o;a++)Je(e,1,t+a),Rn(e,l,r+a);else for(let a=o-1;a>=0;a--)Je(e,1,t+a),Rn(e,l,r+a)}return Lo(e,l),1},Xq=function(e){let t=eu(e,1,Qs),n=qq(e,2,""),r=n.length,l=Ls(e,3,1);t=Ls(e,4,t);let o=new Cq;for(Mq(e,o);l<t;l++)n1(e,o,l),Iq(o,n,r);return l===t&&n1(e,o,l),Bq(o),1},zq=function(e){let t=l1(e);bq(e,t,1),mq(e,1);for(let n=t;n>=1;n--)Rn(e,1,n);return Eq(e,t),Rq(e,1,Ln("n")),1},Jq=function(e){let t=Ls(e,2,1),n=Fq(e,Qo,3,s1(e,1));if(t>n)return 0;let r=n-t;if(r>=Number.MAX_SAFE_INTEGER||!Aq(e,++r))return na(e,Ln("too many results to unpack"));for(;t<n;t++)Je(e,1,t);return Je(e,1,n),r},Zq=function(){return Math.floor(Math.random()*4294967296)},$q=100,Pl=function(e,t,n){Rn(e,1,t),Rn(e,1,n)},ea=function(e,t,n){if(Tq(e,2))return r1(e,t,n,hq);{Lo(e,2),Lo(e,t-1),Lo(e,n-2),xq(e,2,1);let r=yq(e,-1);return Wn(e,1),r}},Yq=function(e,t,n){let r=t,l=n-1;for(;;){for(;Je(e,1,++r),ea(e,-1,-2);)r==n-1&&na(e,Ln("invalid order function for sorting")),Wn(e,1);for(;Je(e,1,--l),ea(e,-3,-1);)l<r&&na(e,Ln("invalid order function for sorting")),Wn(e,1);if(l<r)return Wn(e,1),Pl(e,n-1,r),r;Pl(e,r,l)}},Wq=function(e,t,n){let r=Math.floor((t-e)/4),l=n%(r*2)+(e+r);return Gq.lua_assert(e+r<=l&&l<=t-r),l},Wf=function(e,t,n,r){for(;t<n;){if(Je(e,1,t),Je(e,1,n),ea(e,-1,-2)?Pl(e,t,n):Wn(e,2),n-t==1)return;let l;if(n-t<$q||r===0?l=Math.floor((t+n)/2):l=Wq(t,n,r),Je(e,1,l),Je(e,1,t),ea(e,-2,-1)?Pl(e,l,t):(Wn(e,1),Je(e,1,n),ea(e,-1,-2)?Pl(e,l,n):Wn(e,2)),n-t==2)return;Je(e,1,l),Lo(e,-1),Je(e,1,n-1),Pl(e,l,n-1),l=Yq(e,t,n);let o;l-t<n-l?(Wf(e,t,l-1,r),o=l-t,t=l+1):(Wf(e,l+1,n,r),o=n-l,n=l-1),(n-t)/128>o&&(r=Zq())}},Lq=function(e){let t=eu(e,1,Qf);return t>1&&(ta(e,t<$f,1,"array too big"),o1(e,2)||a1(e,2,dq),Uq(e,2),Wf(e,1,t,0)),0},Qq={concat:Xq,insert:Kq,move:jq,pack:zq,remove:Hq,sort:Lq,unpack:Jq},eB=function(e){return Pq(e,Qq),1};i1.exports.luaopen_table=eB});var rp=A((F6,x1)=>{var{LUA_TNIL:tB,LUA_TTABLE:nB,lua_close:E6,lua_createtable:rB,lua_getfield:lB,lua_isboolean:O6,lua_isnoneornil:p1,lua_pop:oB,lua_pushboolean:S6,lua_pushfstring:aB,lua_pushinteger:_1,lua_pushliteral:w6,lua_pushnil:R6,lua_pushnumber:h1,lua_pushstring:U6,lua_setfield:sB,lua_settop:uB,lua_toboolean:y6,lua_tointegerx:iB}=tt(),{luaL_Buffer:cB,luaL_addchar:Un,luaL_addstring:Et,luaL_argerror:fB,luaL_buffinit:pB,luaL_checkinteger:_B,luaL_checkstring:N6,luaL_checktype:hB,luaL_error:tp,luaL_execresult:C6,luaL_fileresult:I6,luaL_newlib:dB,luaL_optinteger:D6,luaL_optlstring:gB,luaL_optstring:M6,luaL_pushresult:xB}=vt(),{luastring_eq:AB,to_jsstring:P6,to_luastring:W}=_t(),bB=W("aAbBcCdDeFhHIjklmMnpPrRStTuUwWxXyYzZ%"),Qn=function(e,t,n){_1(e,n),sB(e,-2,W(t,!0))},d1=function(e,t,n){Qn(e,"sec",n?t.getUTCSeconds():t.getSeconds()),Qn(e,"min",n?t.getUTCMinutes():t.getMinutes()),Qn(e,"hour",n?t.getUTCHours():t.getHours()),Qn(e,"day",n?t.getUTCDate():t.getDate()),Qn(e,"month",(n?t.getUTCMonth():t.getMonth())+1),Qn(e,"year",n?t.getUTCFullYear():t.getFullYear()),Qn(e,"wday",(n?t.getUTCDay():t.getDay())+1),Qn(e,"yday",Math.floor((t-new Date(t.getFullYear(),0,0))/864e5))},c1=Number.MAX_SAFE_INTEGER/2,Fl=function(e,t,n,r){let l=lB(e,-1,W(t,!0)),o=iB(e,-1);if(o===!1){if(l!==tB)return tp(e,W("field '%s' is not an integer"),t);if(n<0)return tp(e,W("field '%s' missing in date table"),t);o=n}else{if(!(-c1<=o&&o<=c1))return tp(e,W("field '%s' is out-of-bound"),t);o-=r}return oB(e,1),o},Ye={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(e=>W(e)),shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>W(e)),months:["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>W(e)),shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(e=>W(e)),AM:W("AM"),PM:W("PM"),am:W("am"),pm:W("pm"),formats:{c:W("%a %b %e %H:%M:%S %Y"),D:W("%m/%d/%y"),F:W("%Y-%m-%d"),R:W("%H:%M"),r:W("%I:%M:%S %p"),T:W("%H:%M:%S"),X:W("%T"),x:W("%D")}},f1=function(e,t){let n=e.getDay();t==="monday"&&(n===0?n=6:n--);let r=(e-new Date(e.getFullYear(),0,1))/864e5;return Math.floor((r+7-n)/7)},nt=function(e,t,n){t<10&&Un(e,n),Et(e,W(String(t)))},yn=function(e,t,n,r){let l=0;for(;l<n.length;)if(n[l]!==37)Un(t,n[l++]);else{l++;let o=kB(e,n,l);switch(n[l]){case 37:Un(t,37);break;case 65:Et(t,Ye.days[r.getDay()]);break;case 66:Et(t,Ye.months[r.getMonth()]);break;case 67:nt(t,Math.floor(r.getFullYear()/100),48);break;case 68:yn(e,t,Ye.formats.D,r);break;case 70:yn(e,t,Ye.formats.F,r);break;case 72:nt(t,r.getHours(),48);break;case 73:nt(t,(r.getHours()+11)%12+1,48);break;case 77:nt(t,r.getMinutes(),48);break;case 80:Et(t,r.getHours()<12?Ye.am:Ye.pm);break;case 82:yn(e,t,Ye.formats.R,r);break;case 83:nt(t,r.getSeconds(),48);break;case 84:yn(e,t,Ye.formats.T,r);break;case 85:nt(t,f1(r,"sunday"),48);break;case 87:nt(t,f1(r,"monday"),48);break;case 88:yn(e,t,Ye.formats.X,r);break;case 89:Et(t,W(String(r.getFullYear())));break;case 90:{let a=r.toString().match(/\\(([\\w\\s]+)\\)/);a&&Et(t,W(a[1]));break}case 97:Et(t,Ye.shortDays[r.getDay()]);break;case 98:case 104:Et(t,Ye.shortMonths[r.getMonth()]);break;case 99:yn(e,t,Ye.formats.c,r);break;case 100:nt(t,r.getDate(),48);break;case 101:nt(t,r.getDate(),32);break;case 106:{let a=Math.floor((r-new Date(r.getFullYear(),0,1))/864e5);a<100&&(a<10&&Un(t,48),Un(t,48)),Et(t,W(String(a)));break}case 107:nt(t,r.getHours(),32);break;case 108:nt(t,(r.getHours()+11)%12+1,32);break;case 109:nt(t,r.getMonth()+1,48);break;case 110:Un(t,10);break;case 112:Et(t,r.getHours()<12?Ye.AM:Ye.PM);break;case 114:yn(e,t,Ye.formats.r,r);break;case 115:Et(t,W(String(Math.floor(r/1e3))));break;case 116:Un(t,8);break;case 117:{let a=r.getDay();Et(t,W(String(a===0?7:a)));break}case 119:Et(t,W(String(r.getDay())));break;case 120:yn(e,t,Ye.formats.x,r);break;case 121:nt(t,r.getFullYear()%100,48);break;case 122:{let a=r.getTimezoneOffset();a>0?Un(t,45):(a=-a,Un(t,43)),nt(t,Math.floor(a/60),48),nt(t,a%60,48);break}}l+=o}},kB=function(e,t,n){let r=bB,l=0,o=1;for(;l<r.length&&o<=t.length-n;l+=o)if(r[l]==="|".charCodeAt(0))o++;else if(AB(t.subarray(n,n+o),r.subarray(l,l+o)))return o;fB(e,1,aB(e,W("invalid conversion specifier '%%%s'"),t))},mB=function(e){let t=gB(e,1,"%c"),n=p1(e,2)?new Date:new Date(np(e,2)*1e3),r=!1,l=0;if(t[l]==="!".charCodeAt(0)&&(r=!0,l++),t[l]==="*".charCodeAt(0)&&t[l+1]==="t".charCodeAt(0))rB(e,0,9),d1(e,n,r);else{let o=new Uint8Array(4);o[0]="%".charCodeAt(0);let a=new cB;pB(e,a),yn(e,a,t,n),xB(a)}return 1},TB=function(e){let t;return p1(e,1)?t=new Date:(hB(e,1,nB),uB(e,1),t=new Date(Fl(e,"year",-1,0),Fl(e,"month",-1,1),Fl(e,"day",-1,0),Fl(e,"hour",12,0),Fl(e,"min",0,0),Fl(e,"sec",0,0)),d1(e,t)),_1(e,Math.floor(t/1e3)),1},np=function(e,t){return _B(e,t)},vB=function(e){let t=np(e,1),n=np(e,2);return h1(e,t-n),1},g1={date:mB,difftime:vB,time:TB};g1.clock=function(e){return h1(e,performance.now()/1e3),1};var EB=function(e){return dB(e,g1),1};x1.exports.luaopen_os=EB});var A1=A(tu=>{(function(){var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\\x25]+/,modulo:/^\\x25{2}/,placeholder:/^\\x25(?:([1-9]\\d*)\\$|\\(([^)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\\d]*)/i,key_access:/^\\.([a-z_][a-z_\\d]*)/i,index_access:/^\\[(\\d+)\\]/,sign:/^[+-]/};function t(a){return r(o(a),arguments)}function n(a,s){return t.apply(null,[a].concat(s||[]))}function r(a,s){var u=1,i=a.length,c,f="",h,_,x,T,P,w,m,S;for(h=0;h<i;h++)if(typeof a[h]=="string")f+=a[h];else if(typeof a[h]=="object"){if(x=a[h],x.keys)for(c=s[u],_=0;_<x.keys.length;_++){if(c==null)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',x.keys[_],x.keys[_-1]));c=c[x.keys[_]]}else x.param_no?c=s[x.param_no]:c=s[u++];if(e.not_type.test(x.type)&&e.not_primitive.test(x.type)&&c instanceof Function&&(c=c()),e.numeric_arg.test(x.type)&&typeof c!="number"&&isNaN(c))throw new TypeError(t("[sprintf] expecting number but found %T",c));switch(e.number.test(x.type)&&(m=c>=0),x.type){case"b":c=parseInt(c,10).toString(2);break;case"c":c=String.fromCharCode(parseInt(c,10));break;case"d":case"i":c=parseInt(c,10);break;case"j":c=JSON.stringify(c,null,x.width?parseInt(x.width):0);break;case"e":c=x.precision?parseFloat(c).toExponential(x.precision):parseFloat(c).toExponential();break;case"f":c=x.precision?parseFloat(c).toFixed(x.precision):parseFloat(c);break;case"g":c=x.precision?String(Number(c.toPrecision(x.precision))):parseFloat(c);break;case"o":c=(parseInt(c,10)>>>0).toString(8);break;case"s":c=String(c),c=x.precision?c.substring(0,x.precision):c;break;case"t":c=String(!!c),c=x.precision?c.substring(0,x.precision):c;break;case"T":c=Object.prototype.toString.call(c).slice(8,-1).toLowerCase(),c=x.precision?c.substring(0,x.precision):c;break;case"u":c=parseInt(c,10)>>>0;break;case"v":c=c.valueOf(),c=x.precision?c.substring(0,x.precision):c;break;case"x":c=(parseInt(c,10)>>>0).toString(16);break;case"X":c=(parseInt(c,10)>>>0).toString(16).toUpperCase();break}e.json.test(x.type)?f+=c:(e.number.test(x.type)&&(!m||x.sign)?(S=m?"+":"-",c=c.toString().replace(e.sign,"")):S="",P=x.pad_char?x.pad_char==="0"?"0":x.pad_char.charAt(1):" ",w=x.width-(S+c).length,T=x.width&&w>0?P.repeat(w):"",f+=x.align?S+c+T:P==="0"?S+T+c:T+S+c)}return f}var l=Object.create(null);function o(a){if(l[a])return l[a];for(var s=a,u,i=[],c=0;s;){if((u=e.text.exec(s))!==null)i.push(u[0]);else if((u=e.modulo.exec(s))!==null)i.push("%");else if((u=e.placeholder.exec(s))!==null){if(u[2]){c|=1;var f=[],h=u[2],_=[];if((_=e.key.exec(h))!==null)for(f.push(_[1]);(h=h.substring(_[0].length))!=="";)if((_=e.key_access.exec(h))!==null)f.push(_[1]);else if((_=e.index_access.exec(h))!==null)f.push(_[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");u[2]=f}else c|=2;if(c===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:u[0],param_no:u[1],keys:u[2],sign:u[3],pad_char:u[4],align:u[5],width:u[6],precision:u[7],type:u[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");s=s.substring(u[0].length)}return l[a]=i}typeof tu!="undefined"&&(tu.sprintf=t,tu.vsprintf=n),typeof window!="undefined"&&(window.sprintf=t,window.vsprintf=n,typeof define=="function"&&define.amd&&define(function(){return{sprintf:t,vsprintf:n}}))})()});var Np=A((B6,W1)=>{var{sprintf:Bl}=A1(),{LUA_INTEGER_FMT:OB,LUA_INTEGER_FRMLEN:ra,LUA_MININTEGER:SB,LUA_NUMBER_FMT:wB,LUA_NUMBER_FRMLEN:RB,frexp:UB,lua_getlocaledecpoint:yB}=ot(),{LUA_TBOOLEAN:NB,LUA_TFUNCTION:Ap,LUA_TNIL:CB,LUA_TNUMBER:C1,LUA_TSTRING:I1,LUA_TTABLE:D1,lua_call:IB,lua_createtable:DB,lua_dump:MB,lua_gettable:PB,lua_gettop:M1,lua_isinteger:FB,lua_isstring:qB,lua_pop:lu,lua_pushcclosure:BB,lua_pushinteger:Vt,lua_pushlightuserdata:VB,lua_pushliteral:bp,lua_pushlstring:sp,lua_pushnil:up,lua_pushnumber:GB,lua_pushstring:Pr,lua_pushvalue:ip,lua_remove:KB,lua_setfield:HB,lua_setmetatable:jB,lua_settop:P1,lua_toboolean:kp,lua_tointeger:XB,lua_tonumber:zB,lua_tostring:F1,lua_touserdata:JB,lua_type:q1,lua_upvalueindex:ZB}=tt(),{luaL_Buffer:jl,luaL_addchar:rt,luaL_addlstring:Vl,luaL_addsize:B1,luaL_addstring:ql,luaL_addvalue:oa,luaL_argcheck:Bt,luaL_argerror:Fr,luaL_buffinit:au,luaL_buffinitsize:V1,luaL_checkinteger:qr,luaL_checknumber:cp,luaL_checkstack:mp,luaL_checkstring:ke,luaL_checktype:$B,luaL_error:he,luaL_newlib:YB,luaL_optinteger:Gl,luaL_optstring:WB,luaL_prepbuffsize:G1,luaL_pushresult:su,luaL_pushresultsize:K1,luaL_tolstring:Tp,luaL_typename:LB}=vt(),H1=Mr(),{luastring_eq:j1,luastring_indexOf:rr,to_jsstring:QB,to_luastring:M}=_t(),eV="%",ln=eV.charCodeAt(0),tV=32,vp=2147483647,nV=function(e){let t=rr(e,0);return t>-1?t:e.length},Kl=function(e,t){return e>=0?e:0-e>t?0:t+e+1},rV=function(e){let t=ke(e,1),n=t.length,r=Kl(qr(e,2),n),l=Kl(Gl(e,3,-1),n);return r<1&&(r=1),l>n&&(l=n),r<=l?Pr(e,t.subarray(r-1,r-1+(l-r+1))):bp(e,""),1},lV=function(e){return Vt(e,ke(e,1).length),1},oV=function(e){let t=M1(e),n=new jl,r=V1(e,n,t);for(let l=1;l<=t;l++){let o=qr(e,l);Bt(e,o>=0&&o<=255,"value out of range"),r[l-1]=o}return K1(n,t),1},aV=function(e,t,n,r){return Vl(r,t,n),0},sV=function(e){let t=new jl,n=kp(e,2);return $B(e,1,Ap),P1(e,1),au(e,t),MB(e,aV,t,n)!==0?he(e,M("unable to dump given function")):(su(t),1)},b1=RB.length+1,k1=1,uV=function(e){if(Object.is(e,1/0))return M("inf");if(Object.is(e,-1/0))return M("-inf");if(Number.isNaN(e))return M("nan");if(e===0){let t=Bl(wB+"x0p+0",e);return Object.is(e,-0)&&(t="-"+t),M(t)}else{let t="",n=UB(e),r=n[0],l=n[1];return r<0&&(t+="-",r=-r),t+="0x",t+=(r*(1<<k1)).toString(16),l-=k1,t+=Bl("p%+d",l),M(t)}},X1=function(e,t,n){let r=uV(n);if(t[b1]===65)for(let l=0;l<r.length;l++){let o=r[l];o>=97&&(r[l]=o&223)}else t[b1]!==97&&he(e,M("modifiers for format '%%a'/'%%A' not implemented"));return r},m1=M("-+ #0"),T1=e=>97<=e&&e<=122||65<=e&&e<=90,rn=e=>48<=e&&e<=57,fp=e=>0<=e&&e<=31||e===127,pp=e=>33<=e&&e<=126,_p=e=>97<=e&&e<=122,hp=e=>65<=e&&e<=90,dp=e=>97<=e&&e<=122||65<=e&&e<=90||48<=e&&e<=57,v1=e=>pp(e)&&!dp(e),E1=e=>e===32||e>=9&&e<=13,O1=e=>48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102,iV=function(e,t,n){rt(e,34);let r=0;for(;n--;){if(t[r]===34||t[r]===92||t[r]===10)rt(e,92),rt(e,t[r]);else if(fp(t[r])){let l=""+t[r];rn(t[r+1])&&(l="0".repeat(3-l.length)+l),ql(e,M("\\\\"+l))}else rt(e,t[r]);r++}rt(e,34)},cV=function(e){if(rr(e,46)<0){let t=yB(),n=rr(e,t);n&&(e[n]=46)}},fV=function(e,t,n){switch(q1(e,n)){case I1:{let r=F1(e,n);iV(t,r,r.length);break}case C1:{let r;if(FB(e,n)){let l=XB(e,n),o=l===SB?"0x%"+ra+"x":OB;r=M(Bl(o,l))}else{let l=zB(e,n);r=X1(e,M(\`%\${ra}a\`),l),cV(r)}ql(t,r);break}case CB:case NB:{Tp(e,n),oa(t);break}default:Fr(e,n,M("value has no literal form"))}},pV=function(e,t,n,r){let l=n;for(;t[l]!==0&&rr(m1,t[l])>=0;)l++;l-n>=m1.length&&he(e,M("invalid format (repeated flags)")),rn(t[l])&&l++,rn(t[l])&&l++,t[l]===46&&(l++,rn(t[l])&&l++,rn(t[l])&&l++),rn(t[l])&&he(e,M("invalid format (width or precision too long)")),r[0]=37;for(let o=0;o<l-n+1;o++)r[o+1]=t[n+o];return l},lp=function(e,t){let n=e.length,r=t.length,l=e[n-1];for(let o=0;o<r;o++)e[o+n-1]=t[o];e[n+r-1]=l},_V=function(e){let t=M1(e),n=1,r=ke(e,n),l=0,o=new jl;for(au(e,o);l<r.length;)if(r[l]!==ln)rt(o,r[l++]);else if(r[++l]===ln)rt(o,r[l++]);else{let a=[];switch(++n>t&&Fr(e,n,M("no value")),l=pV(e,r,l,a),String.fromCharCode(r[l++])){case"c":{rt(o,qr(e,n));break}case"d":case"i":case"o":case"u":case"x":case"X":{let s=qr(e,n);lp(a,M(ra,!0)),ql(o,M(Bl(String.fromCharCode(...a),s)));break}case"a":case"A":{lp(a,M(ra,!0)),ql(o,X1(e,a,cp(e,n)));break}case"e":case"E":case"f":case"g":case"G":{let s=cp(e,n);lp(a,M(ra,!0)),ql(o,M(Bl(String.fromCharCode(...a),s)));break}case"q":{fV(e,o,n);break}case"s":{let s=Tp(e,n);a.length<=2||a[2]===0?oa(o):(Bt(e,s.length===nV(s),n,"string contains zeros"),rr(a,46)<0&&s.length>=100?oa(o):(ql(o,M(Bl(String.fromCharCode(...a),QB(s)))),lu(e,1)));break}default:return he(e,M("invalid option '%%%c' to 'format'"),r[l-1])}}return su(o),1},op=0,S1=16,nr=4,Hl=8,ru=(1<<Hl)-1,hV=8,aa=class{constructor(t){this.L=t,this.islittle=!0,this.maxalign=1}},tr=0,er=1,la=2,sa=3,uu=4,iu=5,Ep=6,cu=7,Op=8,w1=rn,z1=function(e,t){if(e.off>=e.s.length||!w1(e.s[e.off]))return t;{let n=0;do n=n*10+(e.s[e.off++]-48);while(e.off<e.s.length&&w1(e.s[e.off])&&n<=(vp-9)/10);return n}},nu=function(e,t,n){let r=z1(t,n);return(r>S1||r<=0)&&he(e.L,M("integral size (%d) out of limits [1,%d]"),r,S1),r},R1=function(e,t){let n={opt:t.s[t.off++],size:0};switch(n.opt){case 98:return n.size=1,n.opt=tr,n;case 66:return n.size=1,n.opt=er,n;case 104:return n.size=2,n.opt=tr,n;case 72:return n.size=2,n.opt=er,n;case 108:return n.size=4,n.opt=tr,n;case 76:return n.size=4,n.opt=er,n;case 106:return n.size=4,n.opt=tr,n;case 74:return n.size=4,n.opt=er,n;case 84:return n.size=4,n.opt=er,n;case 102:return n.size=4,n.opt=la,n;case 100:return n.size=8,n.opt=la,n;case 110:return n.size=8,n.opt=la,n;case 105:return n.size=nu(e,t,4),n.opt=tr,n;case 73:return n.size=nu(e,t,4),n.opt=er,n;case 115:return n.size=nu(e,t,4),n.opt=uu,n;case 99:return n.size=z1(t,-1),n.size===-1&&he(e.L,M("missing size for format option 'c'")),n.opt=sa,n;case 122:return n.opt=iu,n;case 120:return n.size=1,n.opt=Ep,n;case 88:return n.opt=cu,n;case 32:break;case 60:e.islittle=!0;break;case 62:e.islittle=!1;break;case 61:e.islittle=!0;break;case 33:e.maxalign=nu(e,t,hV);break;default:he(e.L,M("invalid format option '%c'"),n.opt)}return n.opt=Op,n},Sp=function(e,t,n){let r={opt:NaN,size:NaN,ntoalign:NaN},l=R1(e,n);r.size=l.size,r.opt=l.opt;let o=r.size;if(r.opt===cu)if(n.off>=n.s.length||n.s[n.off]===0)Fr(e.L,1,M("invalid next option for option 'X'"));else{let a=R1(e,n);o=a.size,a=a.opt,(a===sa||o===0)&&Fr(e.L,1,M("invalid next option for option 'X'"))}return o<=1||r.opt===sa?r.ntoalign=0:(o>e.maxalign&&(o=e.maxalign),(o&o-1)!==0&&Fr(e.L,1,M("format asks for alignment not power of 2")),r.ntoalign=o-(t&o-1)&o-1),r},ap=function(e,t,n,r,l){let o=G1(e,r);o[n?0:r-1]=t&ru;for(let a=1;a<r;a++)t>>=Hl,o[n?a:r-1-a]=t&ru;if(l&&r>nr)for(let a=nr;a<r;a++)o[n?a:r-1-a]=ru;B1(e,r)},dV=function(e){let t=new jl,n=new aa(e),r={s:ke(e,1),off:0},l=1,o=0;for(up(e),au(e,t);r.off<r.s.length;){let a=Sp(n,o,r),s=a.opt,u=a.size,i=a.ntoalign;for(o+=i+u;i-- >0;)rt(t,op);switch(l++,s){case tr:{let c=qr(e,l);if(u<nr){let f=1<<u*8-1;Bt(e,-f<=c&&c<f,l,"integer overflow")}ap(t,c,n.islittle,u,c<0);break}case er:{let c=qr(e,l);u<nr&&Bt(e,c>>>0<1<<u*Hl,l,"unsigned overflow"),ap(t,c>>>0,n.islittle,u,!1);break}case la:{let c=G1(t,u),f=cp(e,l),h=new DataView(c.buffer,c.byteOffset,c.byteLength);u===4?h.setFloat32(0,f,n.islittle):h.setFloat64(0,f,n.islittle),B1(t,u);break}case sa:{let c=ke(e,l),f=c.length;for(Bt(e,f<=u,l,"string longer than given size"),Vl(t,c,f);f++<u;)rt(t,op);break}case uu:{let c=ke(e,l),f=c.length;Bt(e,u>=4||f<1<<u*Hl,l,"string length does not fit in given size"),ap(t,f,n.islittle,u,0),Vl(t,c,f),o+=f;break}case iu:{let c=ke(e,l),f=c.length;Bt(e,rr(c,0)<0,l,"strings contains zeros"),Vl(t,c,f),rt(t,0),o+=f+1;break}case Ep:rt(t,op);case cu:case Op:l--;break}}return su(t),1},gV=function(e){let t=ke(e,1),n=t.length,r=new Uint8Array(n);for(let l=0;l<n;l++)r[l]=t[n-1-l];return Pr(e,r),1},xV=function(e){let t=ke(e,1),n=t.length,r=new Uint8Array(n);for(let l=0;l<n;l++){let o=t[l];hp(o)&&(o=o|32),r[l]=o}return Pr(e,r),1},AV=function(e){let t=ke(e,1),n=t.length,r=new Uint8Array(n);for(let l=0;l<n;l++){let o=t[l];_p(o)&&(o=o&223),r[l]=o}return Pr(e,r),1},bV=function(e){let t=ke(e,1),n=t.length,r=qr(e,2),l=WB(e,3,""),o=l.length;if(r<=0)bp(e,"");else{if(n+o<n||n+o>vp/r)return he(e,M("resulting string too large"));{let a=r*n+(r-1)*o,s=new jl,u=V1(e,s,a),i=0;for(;r-- >1;)u.set(t,i),i+=n,o>0&&(u.set(l,i),i+=o);u.set(t,i),K1(s,a)}}return 1},kV=function(e){let t=ke(e,1),n=t.length,r=Kl(Gl(e,2,1),n),l=Kl(Gl(e,3,r),n);if(r<1&&(r=1),l>n&&(l=n),r>l)return 0;if(l-r>=Number.MAX_SAFE_INTEGER)return he(e,"string slice too long");let o=l-r+1;mp(e,o,"string slice too long");for(let a=0;a<o;a++)Vt(e,t[r+a-1]);return o},mV=function(e){let t=new aa(e),n={s:ke(e,1),off:0},r=0;for(;n.off<n.s.length;){let l=Sp(t,r,n),o=l.opt,a=l.size;switch(a+=l.ntoalign,Bt(e,r<=vp-a,1,"format result too large"),r+=a,o){case uu:case iu:Fr(e,1,"variable-length format");default:break}}return Vt(e,r),1},U1=function(e,t,n,r,l){let o=0,a=r<=nr?r:nr;for(let s=a-1;s>=0;s--)o<<=Hl,o|=t[n?s:r-1-s];if(r<nr){if(l){let s=1<<r*Hl-1;o=(o^s)-s}}else if(r>nr){let s=!l||o>=0?0:ru;for(let u=a;u<r;u++)t[n?u:r-1-u]!==s&&he(e,M("%d-byte integer does not fit into Lua Integer"),r)}return o},TV=function(e,t,n,r){H1.lua_assert(t.length>=r);let l=new DataView(new ArrayBuffer(r));for(let o=0;o<r;o++)l.setUint8(o,t[o],n);return r==4?l.getFloat32(0,n):l.getFloat64(0,n)},vV=function(e){let t=new aa(e),n={s:ke(e,1),off:0},r=ke(e,2),l=r.length,o=Kl(Gl(e,3,1),l)-1,a=0;for(Bt(e,o<=l&&o>=0,3,"initial position out of string");n.off<n.s.length;){let s=Sp(t,o,n),u=s.opt,i=s.size,c=s.ntoalign;switch(o+c+i>l&&Fr(e,2,M("data string too short")),o+=c,mp(e,2,"too many results"),a++,u){case tr:case er:{let f=U1(e,r.subarray(o),t.islittle,i,u===tr);Vt(e,f);break}case la:{let f=TV(e,r.subarray(o),t.islittle,i);GB(e,f);break}case sa:{Pr(e,r.subarray(o,o+i));break}case uu:{let f=U1(e,r.subarray(o),t.islittle,i,0);Bt(e,o+f+i<=l,2,"data string too short"),Pr(e,r.subarray(o+i,o+i+f)),o+=f;break}case iu:{let f=rr(r,0,o);f===-1&&(f=r.length-o),Pr(e,r.subarray(o,f)),o=f+1;break}case cu:case Ep:case Op:a--;break}o+=i}return Vt(e,o+1),a+1},ia=-1,J1=-2,Z1=200,EV=M("^$*+?.([%-"),ua=class{constructor(t){this.src=null,this.src_init=null,this.src_end=null,this.p=null,this.p_end=null,this.L=t,this.matchdepth=NaN,this.level=NaN,this.capture=[]}},OV=function(e,t){return t=t-49,t<0||t>=e.level||e.capture[t].len===ia?he(e.L,M("invalid capture index %%%d"),t+1):t},SV=function(e){let t=e.level;for(t--;t>=0;t--)if(e.capture[t].len===ia)return t;return he(e.L,M("invalid pattern capture"))},y1=function(e,t){switch(e.p[t++]){case ln:return t===e.p_end&&he(e.L,M("malformed pattern (ends with '%%')")),t+1;case 91:{e.p[t]===94&&t++;do t===e.p_end&&he(e.L,M("malformed pattern (missing ']')")),e.p[t++]===ln&&t<e.p_end&&t++;while(e.p[t]!==93);return t+1}default:return t}},$1=function(e,t){switch(t){case 97:return T1(e);case 65:return!T1(e);case 99:return fp(e);case 67:return!fp(e);case 100:return rn(e);case 68:return!rn(e);case 103:return pp(e);case 71:return!pp(e);case 108:return _p(e);case 76:return!_p(e);case 112:return v1(e);case 80:return!v1(e);case 115:return E1(e);case 83:return!E1(e);case 117:return hp(e);case 85:return!hp(e);case 119:return dp(e);case 87:return!dp(e);case 120:return O1(e);case 88:return!O1(e);case 122:return e===0;case 90:return e!==0;default:return t===e}},gp=function(e,t,n,r){let l=!0;for(e.p[n+1]===94&&(l=!1,n++);++n<r;)if(e.p[n]===ln){if(n++,$1(t,e.p[n]))return l}else if(e.p[n+1]===45&&n+2<r){if(n+=2,e.p[n-2]<=t&&t<=e.p[n])return l}else if(e.p[n]===t)return l;return!l},wp=function(e,t,n,r){if(t>=e.src_end)return!1;{let l=e.src[t];switch(e.p[n]){case 46:return!0;case ln:return $1(l,e.p[n+1]);case 91:return gp(e,l,n,r-1);default:return e.p[n]===l}}},wV=function(e,t,n){if(n>=e.p_end-1&&he(e.L,M("malformed pattern (missing arguments to '%%b'")),e.src[t]!==e.p[n])return null;{let r=e.p[n],l=e.p[n+1],o=1;for(;++t<e.src_end;)if(e.src[t]===l){if(--o===0)return t+1}else e.src[t]===r&&o++}return null},RV=function(e,t,n,r){let l=0;for(;wp(e,t+l,n,r);)l++;for(;l>=0;){let o=lr(e,t+l,r+1);if(o)return o;l--}return null},UV=function(e,t,n,r){for(;;){let l=lr(e,t,r+1);if(l!==null)return l;if(wp(e,t,n,r))t++;else return null}},N1=function(e,t,n,r){let l=e.level;l>=tV&&he(e.L,M("too many captures")),e.capture[l]=e.capture[l]?e.capture[l]:{},e.capture[l].init=t,e.capture[l].len=r,e.level=l+1;let o;return(o=lr(e,t,n))===null&&e.level--,o},yV=function(e,t,n){let r=SV(e);e.capture[r].len=t-e.capture[r].init;let l;return(l=lr(e,t,n))===null&&(e.capture[r].len=ia),l},NV=function(e,t,n,r,l){return j1(e.subarray(t,t+l),n.subarray(r,r+l))},CV=function(e,t,n){n=OV(e,n);let r=e.capture[n].len;return e.src_end-t>=r&&NV(e.src,e.capture[n].init,e.src,t,r)?t+r:null},lr=function(e,t,n){let r=!1,l=!0;for(e.matchdepth--===0&&he(e.L,M("pattern too complex"));l||r;)if(l=!1,n!==e.p_end)switch(r?void 0:e.p[n]){case 40:{e.p[n+1]===41?t=N1(e,t,n+2,J1):t=N1(e,t,n+1,ia);break}case 41:{t=yV(e,t,n+1);break}case 36:{if(n+1!==e.p_end){r=!0;break}t=e.src.length-t===0?t:null;break}case ln:{switch(e.p[n+1]){case 98:{t=wV(e,t,n+2),t!==null&&(n+=4,l=!0);break}case 102:{n+=2,e.p[n]!==91&&he(e.L,M("missing '[' after '%%f' in pattern"));let o=y1(e,n),a=t===e.src_init?0:e.src[t-1];if(!gp(e,a,n,o-1)&&gp(e,t===e.src_end?0:e.src[t],n,o-1)){n=o,l=!0;break}t=null;break}case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:{t=CV(e,t,e.p[n+1]),t!==null&&(n+=2,l=!0);break}default:r=!0}break}default:{r=!1;let o=y1(e,n);if(wp(e,t,n,o))switch(e.p[o]){case 63:{let a;(a=lr(e,t+1,o+1))!==null?t=a:(n=o+1,l=!0);break}case 43:t++;case 42:t=RV(e,t,n,o);break;case 45:t=UV(e,t,n,o);break;default:t++,n=o,l=!0}else if(e.p[o]===42||e.p[o]===63||e.p[o]===45){n=o+1,l=!0;break}else t=null;break}}return e.matchdepth++,t},Rp=function(e,t,n,r){if(t>=e.level)t===0?sp(e.L,e.src.subarray(n,r),r-n):he(e.L,M("invalid capture index %%%d"),t+1);else{let l=e.capture[t].len;l===ia&&he(e.L,M("unfinished capture")),l===J1?Vt(e.L,e.capture[t].init-e.src_init+1):sp(e.L,e.src.subarray(e.capture[t].init),l)}},ou=function(e,t,n){let r=e.level===0&&e.src.subarray(t)?1:e.level;mp(e.L,r,"too many captures");for(let l=0;l<r;l++)Rp(e,l,t,n);return r},IV=function(e,t){for(let n=0;n<t;n++)if(rr(EV,e[n])!==-1)return!1;return!0},Up=function(e,t,n,r,l,o){e.L=t,e.matchdepth=Z1,e.src=n,e.src_init=0,e.src_end=r,e.p=l,e.p_end=o},yp=function(e){e.level=0,H1.lua_assert(e.matchdepth===Z1)},DV=function(e,t,n){var r=n>>>0,l=t.length;if(l===0)return r;for(;(r=e.indexOf(t[0],r))!==-1;r++)if(j1(e.subarray(r,r+l),t))return r;return-1},Y1=function(e,t){let n=ke(e,1),r=ke(e,2),l=n.length,o=r.length,a=Kl(Gl(e,3,1),l);if(a<1)a=1;else if(a>l+1)return up(e),1;if(t&&(kp(e,4)||IV(r,o))){let s=DV(n.subarray(a-1),r,0);if(s>-1)return Vt(e,a+s),Vt(e,a+s+o-1),2}else{let s=new ua(e),u=a-1,i=r[0]===94;i&&(r=r.subarray(1),o--),Up(s,e,n,l,r,o);do{let c;if(yp(s),(c=lr(s,u,0))!==null)return t?(Vt(e,u+1),Vt(e,c),ou(s,null,0)+2):ou(s,u,c)}while(u++<s.src_end&&!i)}return up(e),1},MV=function(e){return Y1(e,1)},PV=function(e){return Y1(e,0)},xp=class{constructor(){this.src=NaN,this.p=NaN,this.lastmatch=NaN,this.ms=new ua}},FV=function(e){let t=JB(e,ZB(3));t.ms.L=e;for(let n=t.src;n<=t.ms.src_end;n++){yp(t.ms);let r;if((r=lr(t.ms,n,t.p))!==null&&r!==t.lastmatch)return t.src=t.lastmatch=r,ou(t.ms,n,r)}return 0},qV=function(e){let t=ke(e,1),n=ke(e,2),r=t.length,l=n.length;P1(e,2);let o=new xp;return VB(e,o),Up(o.ms,e,t,r,n,l),o.src=0,o.p=0,o.lastmatch=null,BB(e,FV,3),1},BV=function(e,t,n,r){let l=e.L,o=F1(l,3),a=o.length;for(let s=0;s<a;s++)o[s]!==ln?rt(t,o[s]):(s++,rn(o[s])?o[s]===48?Vl(t,e.src.subarray(n,r),r-n):(Rp(e,o[s]-49,n,r),Tp(l,-1),KB(l,-2),oa(t)):(o[s]!==ln&&he(l,M("invalid use of '%c' in replacement string"),ln),rt(t,o[s])))},VV=function(e,t,n,r,l){let o=e.L;switch(l){case Ap:{ip(o,3);let a=ou(e,n,r);IB(o,a,1);break}case D1:{Rp(e,0,n,r),PB(o,3);break}default:{BV(e,t,n,r);return}}kp(o,-1)?qB(o,-1)||he(o,M("invalid replacement value (a %s)"),LB(o,-1)):(lu(o,1),sp(o,e.src.subarray(n,r),r-n)),oa(t)},GV=function(e){let t=ke(e,1),n=t.length,r=ke(e,2),l=r.length,o=null,a=q1(e,3),s=Gl(e,4,n+1),u=r[0]===94,i=0,c=new ua(e),f=new jl;for(Bt(e,a===C1||a===I1||a===Ap||a===D1,3,"string/function/table expected"),au(e,f),u&&(r=r.subarray(1),l--),Up(c,e,t,n,r,l),t=0,r=0;i<s;){let h;if(yp(c),(h=lr(c,t,r))!==null&&h!==o)i++,VV(c,f,t,h,a),t=o=h;else if(t<c.src_end)rt(f,c.src[t++]);else break;if(u)break}return Vl(f,c.src.subarray(t,c.src_end),c.src_end-t),su(f),Vt(e,i),2},KV={byte:kV,char:oV,dump:sV,find:MV,format:_V,gmatch:qV,gsub:GV,len:lV,lower:xV,match:PV,pack:dV,packsize:mV,rep:bV,reverse:gV,sub:rV,unpack:vV,upper:AV},HV=function(e){DB(e,0,1),bp(e,""),ip(e,-2),jB(e,-2),lu(e,1),ip(e,-2),HB(e,-2,M("__index",!0)),lu(e,1)},jV=function(e){return YB(e,KV),HV(e),1};W1.exports.luaopen_string=jV});var Dp=A((V6,nm)=>{var{lua_gettop:XV,lua_pushcfunction:zV,lua_pushfstring:JV,lua_pushinteger:Br,lua_pushnil:Q1,lua_pushstring:ZV,lua_pushvalue:$V,lua_setfield:YV,lua_tointeger:WV}=tt(),{luaL_Buffer:LV,luaL_addvalue:QV,luaL_argcheck:zl,luaL_buffinit:e4,luaL_checkinteger:em,luaL_checkstack:t4,luaL_checkstring:pa,luaL_error:fu,luaL_newlib:n4,luaL_optinteger:ca,luaL_pushresult:r4}=vt(),{luastring_of:l4,to_luastring:Cp}=_t(),tm=1114111,Xl=function(e){return(e&192)===128},fa=function(e,t){return e>=0?e:0-e>t?0:t+e+1},o4=[255,127,2047,65535],Ip=function(e,t){let n=e[t],r=0;if(n<128)r=n;else{let l=0;for(;n&64;){let o=e[t+ ++l];if((o&192)!==128)return null;r=r<<6|o&63,n<<=1}if(r|=(n&127)<<l*5,l>3||r>tm||r<=o4[l])return null;t+=l}return{code:r,pos:t+1}},a4=function(e){let t=0,n=pa(e,1),r=n.length,l=fa(ca(e,2,1),r),o=fa(ca(e,3,-1),r);for(zl(e,1<=l&&--l<=r,2,"initial position out of string"),zl(e,--o<r,3,"final position out of string");l<=o;){let a=Ip(n,l);if(a===null)return Q1(e),Br(e,l+1),2;l=a.pos,t++}return Br(e,t),1},s4=Cp("%U"),L1=function(e,t){let n=em(e,t);zl(e,0<=n&&n<=tm,t,"value out of range"),JV(e,s4,n)},u4=function(e){let t=XV(e);if(t===1)L1(e,1);else{let n=new LV;e4(e,n);for(let r=1;r<=t;r++)L1(e,r),QV(n);r4(n)}return 1},i4=function(e){let t=pa(e,1),n=em(e,2),r=n>=0?1:t.length+1;if(r=fa(ca(e,3,r),t.length),zl(e,1<=r&&--r<=t.length,3,"position out of range"),n===0)for(;r>0&&Xl(t[r]);)r--;else if(Xl(t[r])&&fu(e,"initial position is a continuation byte"),n<0)for(;n<0&&r>0;){do r--;while(r>0&&Xl(t[r]));n++}else for(n--;n>0&&r<t.length;){do r++;while(Xl(t[r]));n--}return n===0?Br(e,r+1):Q1(e),1},c4=function(e){let t=pa(e,1),n=fa(ca(e,2,1),t.length),r=fa(ca(e,3,n),t.length);if(zl(e,n>=1,2,"out of range"),zl(e,r<=t.length,3,"out of range"),n>r)return 0;if(r-n>=Number.MAX_SAFE_INTEGER)return fu(e,"string slice too long");let l=r-n+1;for(t4(e,l,"string slice too long"),l=0,n-=1;n<r;){let o=Ip(t,n);if(o===null)return fu(e,"invalid UTF-8 code");Br(e,o.code),n=o.pos,l++}return l},f4=function(e){let t=pa(e,1),n=t.length,r=WV(e,2)-1;if(r<0)r=0;else if(r<n)for(r++;Xl(t[r]);)r++;if(r>=n)return 0;{let l=Ip(t,r);return l===null||Xl(t[l.pos])?fu(e,Cp("invalid UTF-8 code")):(Br(e,r+1),Br(e,l.code),2)}},p4=function(e){return pa(e,1),zV(e,f4),$V(e,1),Br(e,0),3},_4={char:u4,codepoint:c4,codes:p4,len:a4,offset:i4},h4=l4(91,0,45,127,194,45,244,93,91,128,45,191,93,42),d4=function(e){return n4(e,_4),ZV(e,h4),YV(e,-2,Cp("charpattern",!0)),1};nm.exports.luaopen_utf8=d4});var Bp=A((G6,fm)=>{var{LUA_OPLT:lm,LUA_TNUMBER:g4,lua_compare:om,lua_gettop:Pp,lua_isinteger:Gr,lua_isnoneornil:x4,lua_pushboolean:A4,lua_pushinteger:Kr,lua_pushliteral:rm,lua_pushnil:am,lua_pushnumber:De,lua_pushvalue:sm,lua_setfield:pu,lua_settop:Fp,lua_tointeger:Mp,lua_tointegerx:b4,lua_type:k4}=tt(),{luaL_argcheck:hu,luaL_argerror:m4,luaL_checkany:um,luaL_checkinteger:_a,luaL_checknumber:Me,luaL_error:T4,luaL_newlib:v4,luaL_optnumber:E4}=vt(),{LUA_MAXINTEGER:im,LUA_MININTEGER:O4,lua_numbertointeger:S4}=ot(),{to_luastring:_u}=_t(),Vr,cm=function(){return Vr=1103515245*Vr+12345&2147483647,Vr},w4=function(e){Vr=e|0,Vr===0&&(Vr=1)},R4=function(e){let t,n,r=Vr===void 0?Math.random():cm()/2147483648;switch(Pp(e)){case 0:return De(e,r),1;case 1:{t=1,n=_a(e,1);break}case 2:{t=_a(e,1),n=_a(e,2);break}default:return T4(e,"wrong number of arguments")}return hu(e,t<=n,1,"interval is empty"),hu(e,t>=0||n<=im+t,1,"interval too large"),r*=n-t+1,Kr(e,Math.floor(r)+t),1},U4=function(e){return w4(Me(e,1)),cm(),0},y4=function(e){if(Gr(e,1)){let t=Mp(e,1);t<0&&(t=-t|0),Kr(e,t)}else De(e,Math.abs(Me(e,1)));return 1},N4=function(e){return De(e,Math.sin(Me(e,1))),1},C4=function(e){return De(e,Math.cos(Me(e,1))),1},I4=function(e){return De(e,Math.tan(Me(e,1))),1},D4=function(e){return De(e,Math.asin(Me(e,1))),1},M4=function(e){return De(e,Math.acos(Me(e,1))),1},P4=function(e){let t=Me(e,1),n=E4(e,2,1);return De(e,Math.atan2(t,n)),1},F4=function(e){let t=b4(e,1);return t!==!1?Kr(e,t):(um(e,1),am(e)),1},qp=function(e,t){let n=S4(t);n!==!1?Kr(e,n):De(e,t)},q4=function(e){return Gr(e,1)?Fp(e,1):qp(e,Math.floor(Me(e,1))),1},B4=function(e){return Gr(e,1)?Fp(e,1):qp(e,Math.ceil(Me(e,1))),1},V4=function(e){return De(e,Math.sqrt(Me(e,1))),1},G4=function(e){let t=_a(e,1),n=_a(e,2);return A4(e,t>=0?n<0||t<n:n<0&&t<n),1},K4=function(e){let t=Me(e,1),n;if(x4(e,2))n=Math.log(t);else{let r=Me(e,2);r===2?n=Math.log2(t):r===10?n=Math.log10(t):n=Math.log(t)/Math.log(r)}return De(e,n),1},H4=function(e){return De(e,Math.exp(Me(e,1))),1},j4=function(e){return De(e,Me(e,1)*(180/Math.PI)),1},X4=function(e){return De(e,Me(e,1)*(Math.PI/180)),1},z4=function(e){let t=Pp(e),n=1;hu(e,t>=1,1,"value expected");for(let r=2;r<=t;r++)om(e,r,n,lm)&&(n=r);return sm(e,n),1},J4=function(e){let t=Pp(e),n=1;hu(e,t>=1,1,"value expected");for(let r=2;r<=t;r++)om(e,n,r,lm)&&(n=r);return sm(e,n),1},Z4=function(e){return k4(e,1)===g4?Gr(e,1)?rm(e,"integer"):rm(e,"float"):(um(e,1),am(e)),1},$4=function(e){if(Gr(e,1)&&Gr(e,2)){let t=Mp(e,2);t===0?m4(e,2,"zero"):Kr(e,Mp(e,1)%t|0)}else{let t=Me(e,1),n=Me(e,2);De(e,t%n)}return 1},Y4=function(e){if(Gr(e,1))Fp(e,1),De(e,0);else{let t=Me(e,1),n=t<0?Math.ceil(t):Math.floor(t);qp(e,n),De(e,t===n?0:t-n)}return 2},W4={abs:y4,acos:M4,asin:D4,atan:P4,ceil:B4,cos:C4,deg:j4,exp:H4,floor:q4,fmod:$4,log:K4,max:J4,min:z4,modf:Y4,rad:X4,random:R4,randomseed:U4,sin:N4,sqrt:V4,tan:I4,tointeger:F4,type:Z4,ult:G4},L4=function(e){return v4(e,W4),De(e,Math.PI),pu(e,-2,_u("pi",!0)),De(e,1/0),pu(e,-2,_u("huge",!0)),Kr(e,im),pu(e,-2,_u("maxinteger",!0)),Kr(e,O4),pu(e,-2,_u("mininteger",!0)),1};fm.exports.luaopen_math=L4});var Yp=A((K6,Cm)=>{var{LUA_MASKCALL:gm,LUA_MASKCOUNT:Q4,LUA_MASKLINE:xm,LUA_MASKRET:Am,LUA_REGISTRYINDEX:ga,LUA_TFUNCTION:Kp,LUA_TNIL:bm,LUA_TTABLE:eG,LUA_TUSERDATA:km,lua_Debug:Hp,lua_call:tG,lua_checkstack:nG,lua_gethook:rG,lua_gethookcount:lG,lua_gethookmask:oG,lua_getinfo:mm,lua_getlocal:pm,lua_getmetatable:aG,lua_getstack:jp,lua_getupvalue:Tm,lua_getuservalue:sG,lua_insert:uG,lua_iscfunction:_m,lua_isfunction:vm,lua_isnoneornil:Em,lua_isthread:iG,lua_newtable:cG,lua_pcall:fG,lua_pop:pG,lua_pushboolean:_G,lua_pushfstring:hG,lua_pushinteger:Xp,lua_pushlightuserdata:Om,lua_pushliteral:dG,lua_pushnil:Jl,lua_pushstring:Hr,lua_pushvalue:xu,lua_rawgetp:zp,lua_rawsetp:gG,lua_rotate:Sm,lua_setfield:Au,lua_sethook:xG,lua_setlocal:AG,lua_setmetatable:bG,lua_settop:xa,lua_setupvalue:kG,lua_setuservalue:mG,lua_tojsstring:TG,lua_toproxy:vG,lua_tostring:EG,lua_tothread:OG,lua_touserdata:Jp,lua_type:wm,lua_upvalueid:SG,lua_upvaluejoin:wG,lua_xmove:bu}=tt(),{luaL_argcheck:du,luaL_argerror:Zp,luaL_checkany:ku,luaL_checkinteger:jr,luaL_checkstring:RG,luaL_checktype:mu,luaL_error:UG,luaL_loadbuffer:yG,luaL_newlib:NG,luaL_optinteger:Rm,luaL_optstring:CG,luaL_traceback:IG,lua_writestringerror:DG}=vt(),MG=Mr(),{luastring_indexOf:on,to_luastring:me}=_t(),$p=function(e,t,n){e!==t&&!nG(t,n)&&UG(e,me("stack overflow",!0))},PG=function(e){return xu(e,ga),1},FG=function(e){return ku(e,1),aG(e,1)||Jl(e),1},qG=function(e){let t=wm(e,2);return du(e,t==bm||t==eG,2,"nil or table expected"),xa(e,2),bG(e,1),1},BG=function(e){return wm(e,1)!==km?Jl(e):sG(e,1),1},VG=function(e){return mu(e,1,km),ku(e,2),xa(e,2),mG(e,1),1},Zl=function(e){return iG(e,1)?{arg:1,thread:OG(e,1)}:{arg:0,thread:e}},ha=function(e,t,n){Hr(e,n),Au(e,-2,t)},da=function(e,t,n){Xp(e,n),Au(e,-2,t)},hm=function(e,t,n){_G(e,n),Au(e,-2,t)},dm=function(e,t,n){e==t?Sm(e,-2,1):bu(t,e,1),Au(e,-2,n)},GG=function(e){let t=new Hp,n=Zl(e),r=n.arg,l=n.thread,o=CG(e,r+2,"flnStu");if($p(e,l,3),vm(e,r+1))o=hG(e,me(">%s"),o),xu(e,r+1),bu(e,l,1);else if(!jp(l,jr(e,r+1),t))return Jl(e),1;return mm(l,o,t)||Zp(e,r+2,"invalid option"),cG(e),on(o,83)>-1&&(ha(e,me("source",!0),t.source),ha(e,me("short_src",!0),t.short_src),da(e,me("linedefined",!0),t.linedefined),da(e,me("lastlinedefined",!0),t.lastlinedefined),ha(e,me("what",!0),t.what)),on(o,108)>-1&&da(e,me("currentline",!0),t.currentline),on(o,117)>-1&&(da(e,me("nups",!0),t.nups),da(e,me("nparams",!0),t.nparams),hm(e,me("isvararg",!0),t.isvararg)),on(o,110)>-1&&(ha(e,me("name",!0),t.name),ha(e,me("namewhat",!0),t.namewhat)),on(o,116)>-1&&hm(e,me("istailcall",!0),t.istailcall),on(o,76)>-1&&dm(e,l,me("activelines",!0)),on(o,102)>-1&&dm(e,l,me("func",!0)),1},KG=function(e){let t=Zl(e),n=t.thread,r=t.arg,l=new Hp,o=jr(e,r+2);if(vm(e,r+1))return xu(e,r+1),Hr(e,pm(e,null,o)),1;{let a=jr(e,r+1);if(!jp(n,a,l))return Zp(e,r+1,"level out of range");$p(e,n,1);let s=pm(n,l,o);return s?(bu(n,e,1),Hr(e,s),Sm(e,-2,1),2):(Jl(e),1)}},HG=function(e){let t=Zl(e),n=t.thread,r=t.arg,l=new Hp,o=jr(e,r+1),a=jr(e,r+2);if(!jp(n,o,l))return Zp(e,r+1,"level out of range");ku(e,r+3),xa(e,r+3),$p(e,n,1),bu(e,n,1);let s=AG(n,l,a);return s===null&&pG(n,1),Hr(e,s),1},Um=function(e,t){let n=jr(e,2);mu(e,1,Kp);let r=t?Tm(e,1,n):kG(e,1,n);return r===null?0:(Hr(e,r),uG(e,-(t+1)),t+1)},jG=function(e){return Um(e,1)},XG=function(e){return ku(e,3),Um(e,0)},Vp=function(e,t,n){let r=jr(e,n);return mu(e,t,Kp),du(e,Tm(e,t,r)!==null,n,"invalid upvalue index"),r},zG=function(e){let t=Vp(e,1,2);return Om(e,SG(e,1,t)),1},JG=function(e){let t=Vp(e,1,2),n=Vp(e,3,4);return du(e,!_m(e,1),1,"Lua function expected"),du(e,!_m(e,3),3,"Lua function expected"),wG(e,1,t,3,n),0},gu=me("__hooks__",!0),ZG=["call","return","line","count","tail call"].map(e=>me(e)),ym=function(e,t){zp(e,ga,gu);let r=Jp(e,-1).get(e);r&&(r(e),Hr(e,ZG[t.event]),t.currentline>=0?Xp(e,t.currentline):Jl(e),MG.lua_assert(mm(e,me("lS"),t)),tG(e,2,0))},$G=function(e,t){let n=0;return on(e,99)>-1&&(n|=gm),on(e,114)>-1&&(n|=Am),on(e,108)>-1&&(n|=xm),t>0&&(n|=Q4),n},YG=function(e,t){let n=0;return e&gm&&(t[n++]=99),e&Am&&(t[n++]=114),e&xm&&(t[n++]=108),t.subarray(0,n)},WG=function(e){let t,n,r,l=Zl(e),o=l.thread,a=l.arg;if(Em(e,a+1))xa(e,a+1),r=null,t=0,n=0;else{let i=RG(e,a+2);mu(e,a+1,Kp),n=Rm(e,a+3,0),r=ym,t=$G(i,n)}let s;zp(e,ga,gu)===bm?(s=new WeakMap,Om(e,s),gG(e,ga,gu)):s=Jp(e,-1);let u=vG(e,a+1);return s.set(o,u),xG(o,r,t,n),0},LG=function(e){let n=Zl(e).thread,r=new Uint8Array(5),l=oG(n),o=rG(n);return o===null?Jl(e):o!==ym?dG(e,"external hook"):(zp(e,ga,gu),Jp(e,-1).get(n)(e)),Hr(e,YG(l,r)),Xp(e,lG(n)),3},QG=function(e){let t=Zl(e),n=t.thread,r=t.arg,l=EG(e,r+1);if(l===null&&!Em(e,r+1))xu(e,r+1);else{let o=Rm(e,r+2,e===n?1:0);IG(e,n,l,o)}return 1},Nm={gethook:LG,getinfo:GG,getlocal:KG,getmetatable:FG,getregistry:PG,getupvalue:jG,getuservalue:BG,sethook:WG,setlocal:HG,setmetatable:qG,setupvalue:XG,setuservalue:VG,traceback:QG,upvalueid:zG,upvaluejoin:JG},Gp;typeof window!="undefined"&&(Gp=function(){let e=prompt("lua_debug>","");return e!==null?e:""});Gp&&(Nm.debug=function(e){for(;;){let t=Gp();if(t==="cont")return 0;if(t.length===0)continue;let n=me(t);(yG(e,n,n.length,me("=(debug command)",!0))||fG(e,0,0,0))&&DG(TG(e,-1),\`
\`),xa(e,0)}});var eK=function(e){return NG(e,Nm),1};Cm.exports.luaopen_debug=eK});var s_=A((j6,_T)=>{var{LUA_DIRSEP:Tu,LUA_EXEC_DIR:tK,LUA_JSPATH_DEFAULT:nK,LUA_PATH_DEFAULT:rK,LUA_PATH_MARK:Vm,LUA_PATH_SEP:Xr}=ot(),{LUA_OK:$l,LUA_REGISTRYINDEX:ar,LUA_TNIL:Qp,LUA_TTABLE:lK,lua_callk:Gm,lua_createtable:Km,lua_getfield:Cn,lua_insert:e_,lua_isfunction:oK,lua_isnil:aK,lua_isstring:sK,lua_newtable:uK,lua_pop:Nn,lua_pushboolean:Hm,lua_pushcclosure:iK,lua_pushcfunction:cK,lua_pushfstring:Aa,lua_pushglobaltable:fK,lua_pushlightuserdata:pK,lua_pushliteral:jm,lua_pushlstring:t_,lua_pushnil:Xm,lua_pushstring:an,lua_pushvalue:vu,lua_rawgeti:_K,lua_rawgetp:zm,lua_rawseti:Jm,lua_rawsetp:hK,lua_remove:Wp,lua_setfield:or,lua_setmetatable:dK,lua_settop:gK,lua_toboolean:Zm,lua_tostring:Yl,lua_touserdata:xK,lua_upvalueindex:$m}=tt(),{LUA_LOADED_TABLE:Ym,LUA_PRELOAD_TABLE:Wm,luaL_Buffer:Lm,luaL_addvalue:Qm,luaL_buffinit:eT,luaL_checkstring:In,luaL_error:Eu,luaL_getsubtable:Im,luaL_gsub:ba,luaL_len:AK,luaL_loadfile:bK,luaL_newlib:kK,luaL_optstring:Dm,luaL_pushresult:tT,luaL_setfuncs:mK}=vt(),TK=Mr(),{luastring_indexOf:n_,to_jsstring:nT,to_luastring:H,to_uristring:rT}=_t(),vK=u_(),lT=function(){return typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:(0,eval)("this")}(),r_=H("__JSLIBS__"),EK="LUA_PATH",OK="LUA_JSPATH",oT="-",aT=Tu,SK=Tu,Mm=H("luaopen_"),wK=H("_"),RK="open",Pm=H(""),sT;sT=function(e,t,n){t=rT(t);let r=new XMLHttpRequest;if(r.open("GET",t,!1),r.send(),r.status<200||r.status>=300)return an(e,H(\`\${r.status}: \${r.statusText}\`)),null;let l=r.response;/\\/\\/[#@] sourceURL=/.test(l)||(l+=" //# sourceURL="+t);let o;try{o=Function("fengari",l)}catch(s){return an(e,H(\`\${s.name}: \${s.message}\`)),null}let a=o(vK);return typeof a=="function"||typeof a=="object"&&a!==null?a:a===void 0?lT:(an(e,H(\`library returned unexpected type (\${typeof a})\`)),null)};var UK=function(e,t,n){let r=t[nT(n)];return r&&typeof r=="function"?r:(Aa(e,H("undefined symbol: %s"),n),null)},yK=function(e){Cn(e,ar,H("LUA_NOENV"));let t=Zm(e,-1);return Nn(e,1),t},uT;uT=function(e){e=rT(e);let t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),t.status>=200&&t.status<=299};var iT=1,l_=2,Lp=function(e,t,n){let r=CK(e,t);if(r===null){if(r=sT(e,t,n[0]==="*".charCodeAt(0)),r===null)return iT;IK(e,t,r)}if(n[0]==="*".charCodeAt(0))return Hm(e,1),0;{let l=UK(e,r,n);return l===null?l_:(cK(e,l),0)}},NK=function(e){let t=In(e,1),n=In(e,2),r=Lp(e,t,n);return r===0?1:(Xm(e),e_(e,-2),jm(e,r===iT?RK:"init"),3)},Fm=function(){return lT}(),qm=function(e,t,n,r){let l=\`\${n}\${TK.LUA_VERSUFFIX}\`;an(e,H(l));let o=Fm[l];o===void 0&&(o=Fm[n]),o===void 0||yK(e)?an(e,r):(o=ba(e,H(o),H(Xr+Xr,!0),H(Xr+nT(Pm)+Xr,!0)),ba(e,o,Pm,r),Wp(e,-2)),or(e,-3,t),Nn(e,1)},CK=function(e,t){zm(e,ar,r_),Cn(e,-1,t);let n=xK(e,-1);return Nn(e,2),n},IK=function(e,t,n){zm(e,ar,r_),pK(e,n),vu(e,-1),or(e,-3,t),Jm(e,-2,AK(e,-2)+1),Nn(e,1)},DK=function(e,t){for(;t[0]===Xr.charCodeAt(0);)t=t.subarray(1);if(t.length===0)return null;let n=n_(t,Xr.charCodeAt(0));return n<0&&(n=t.length),t_(e,t,n),t.subarray(n)},cT=function(e,t,n,r,l){let o=new Lm;for(eT(e,o),r[0]!==0&&(t=ba(e,t,r,l));(n=DK(e,n))!==null;){let a=ba(e,Yl(e,-1),H(Vm,!0),t);if(Wp(e,-2),uT(a))return a;Aa(e,H(\`
	no file '%s'\`),a),Wp(e,-2),Qm(o)}return tT(o),null},MK=function(e){return cT(e,In(e,1),In(e,2),Dm(e,3,"."),Dm(e,4,Tu))!==null?1:(Xm(e),e_(e,-2),2)},o_=function(e,t,n,r){Cn(e,$m(1),n);let l=Yl(e,-1);return l===null&&Eu(e,H("'package.%s' must be a string"),n),cT(e,t,l,H("."),r)},a_=function(e,t,n){return t?(an(e,n),2):Eu(e,H(\`error loading module '%s' from file '%s':
	%s\`),Yl(e,1),n,Yl(e,-1))},PK=function(e){let t=In(e,1),n=o_(e,t,H("path",!0),H(SK,!0));return n===null?1:a_(e,bK(e,n)===$l,n)},fT=function(e,t,n){let r;n=ba(e,n,H("."),wK);let l=n_(n,oT.charCodeAt(0));if(l>=0){r=t_(e,n,l),r=Aa(e,H("%s%s"),Mm,r);let o=Lp(e,t,r);if(o!==l_)return o;n=l+1}return r=Aa(e,H("%s%s"),Mm,n),Lp(e,t,r)},FK=function(e){let t=In(e,1),n=o_(e,t,H("jspath",!0),H(aT,!0));return n===null?1:a_(e,fT(e,n,t)===0,n)},qK=function(e){let t=In(e,1),n=n_(t,".".charCodeAt(0)),r;if(n<0)return 0;t_(e,t,n);let l=o_(e,Yl(e,-1),H("jspath",!0),H(aT,!0));return l===null?1:(r=fT(e,l,t))!==0?r!=l_?a_(e,0,l):(an(e,H(\`
	no module '%s' in file '%s'\`),t,l),1):(an(e,l),2)},BK=function(e){let t=In(e,1);return Cn(e,ar,Wm),Cn(e,-1,t)===Qp&&Aa(e,H(\`
	no field package.preload['%s']\`),t),1},VK=function(e,t,n,r){let l=new Lm;return eT(e,l),Cn(e,$m(1),H("searchers",!0))!==lK&&Eu(e,H("'package.searchers' must be a table")),pT(e,$l,{name:t,i:1,msg:l,ctx:n,k:r})},pT=function(e,t,n){for(;t===$l?(_K(e,3,n.i)===Qp&&(Nn(e,1),tT(n.msg),Eu(e,H("module '%s' not found:%s"),n.name,Yl(e,-1))),an(e,n.name),Gm(e,1,2,n,pT)):t=$l,!oK(e,-2);n.i++)sK(e,-2)?(Nn(e,1),Qm(n.msg)):Nn(e,2);return n.k(e,$l,n.ctx)},GK=function(e){let t=In(e,1);return gK(e,1),Cn(e,ar,Ym),Cn(e,2,t),Zm(e,-1)?1:(Nn(e,1),VK(e,t,t,KK))},KK=function(e,t,n){return an(e,n),e_(e,-2),Gm(e,2,1,n,Bm),Bm(e,$l,n)},Bm=function(e,t,n){let r=n;return aK(e,-1)||or(e,2,r),Cn(e,2,r)==Qp&&(Hm(e,1),vu(e,-1),or(e,2,r)),1},HK={loadlib:NK,searchpath:MK},jK={require:GK},XK=function(e){let t=[BK,PK,FK,qK,null];Km(e);for(let n=0;t[n];n++)vu(e,-2),iK(e,t[n],1),Jm(e,-2,n+1);or(e,-2,H("searchers",!0))},zK=function(e){uK(e),Km(e,0,1),dK(e,-2),hK(e,ar,r_)},JK=function(e){return zK(e),kK(e,HK),XK(e),qm(e,H("path",!0),EK,rK),qm(e,H("jspath",!0),OK,nK),jm(e,Tu+\`
\`+Xr+\`
\`+Vm+\`
\`+tK+\`
\`+oT+\`
\`),or(e,-2,H("config",!0)),Im(e,ar,Ym),or(e,-2,H("loaded",!0)),Im(e,ar,Wm),or(e,-2,H("preload",!0)),fK(e),vu(e,-2),mK(e,jK,1),Nn(e,1),1};_T.exports.luaopen_package=JK});var i_=A((X6,hT)=>{var{lua_pushinteger:ZK,lua_pushliteral:zr,lua_setfield:sr}=tt(),{luaL_newlib:$K}=vt(),{FENGARI_AUTHORS:YK,FENGARI_COPYRIGHT:WK,FENGARI_RELEASE:LK,FENGARI_VERSION:QK,FENGARI_VERSION_MAJOR:e3,FENGARI_VERSION_MINOR:t3,FENGARI_VERSION_NUM:n3,FENGARI_VERSION_RELEASE:r3,to_luastring:ur}=_t(),l3=function(e){return $K(e,{}),zr(e,YK),sr(e,-2,ur("AUTHORS")),zr(e,WK),sr(e,-2,ur("COPYRIGHT")),zr(e,LK),sr(e,-2,ur("RELEASE")),zr(e,QK),sr(e,-2,ur("VERSION")),zr(e,e3),sr(e,-2,ur("VERSION_MAJOR")),zr(e,t3),sr(e,-2,ur("VERSION_MINOR")),ZK(e,n3),sr(e,-2,ur("VERSION_NUM")),zr(e,r3),sr(e,-2,ur("VERSION_RELEASE")),1};hT.exports.luaopen_fengari=l3});var gT=A((z6,dT)=>{var{lua_pop:o3}=tt(),{luaL_requiref:a3}=vt(),{to_luastring:s3}=_t(),yt={},u3=function(e){for(let t in yt)a3(e,s3(t),yt[t],1),o3(e,1)};dT.exports.luaL_openlibs=u3;var Dn=Mr(),{luaopen_base:i3}=jf(),{luaopen_coroutine:c3}=Jf(),{luaopen_debug:f3}=Yp(),{luaopen_math:p3}=Bp(),{luaopen_package:_3}=s_(),{luaopen_os:h3}=rp(),{luaopen_string:d3}=Np(),{luaopen_table:g3}=ep(),{luaopen_utf8:x3}=Dp();yt._G=i3,yt[Dn.LUA_LOADLIBNAME]=_3;yt[Dn.LUA_COLIBNAME]=c3;yt[Dn.LUA_TABLIBNAME]=g3;yt[Dn.LUA_OSLIBNAME]=h3;yt[Dn.LUA_STRLIBNAME]=d3;yt[Dn.LUA_MATHLIBNAME]=p3;yt[Dn.LUA_UTF8LIBNAME]=x3;yt[Dn.LUA_DBLIBNAME]=f3;var{luaopen_fengari:A3}=i_();yt[Dn.LUA_FENGARILIBNAME]=A3});var Mr=A((J6,ie)=>{var{LUA_VERSION_MAJOR:b3,LUA_VERSION_MINOR:k3}=tt(),m3="_"+b3+"_"+k3;ie.exports.LUA_VERSUFFIX=m3;ie.exports.lua_assert=function(e){};ie.exports.luaopen_base=jf().luaopen_base;var T3="coroutine";ie.exports.LUA_COLIBNAME=T3;ie.exports.luaopen_coroutine=Jf().luaopen_coroutine;var v3="table";ie.exports.LUA_TABLIBNAME=v3;ie.exports.luaopen_table=ep().luaopen_table;var E3="os";ie.exports.LUA_OSLIBNAME=E3;ie.exports.luaopen_os=rp().luaopen_os;var O3="string";ie.exports.LUA_STRLIBNAME=O3;ie.exports.luaopen_string=Np().luaopen_string;var S3="utf8";ie.exports.LUA_UTF8LIBNAME=S3;ie.exports.luaopen_utf8=Dp().luaopen_utf8;var w3="bit32";ie.exports.LUA_BITLIBNAME=w3;var R3="math";ie.exports.LUA_MATHLIBNAME=R3;ie.exports.luaopen_math=Bp().luaopen_math;var U3="debug";ie.exports.LUA_DBLIBNAME=U3;ie.exports.luaopen_debug=Yp().luaopen_debug;var y3="package";ie.exports.LUA_LOADLIBNAME=y3;ie.exports.luaopen_package=s_().luaopen_package;var N3="fengari";ie.exports.LUA_FENGARILIBNAME=N3;ie.exports.luaopen_fengari=i_().luaopen_fengari;var C3=gT();ie.exports.luaL_openlibs=C3.luaL_openlibs});var u_=A((Z6,Pe)=>{var ft=_t();Pe.exports.FENGARI_AUTHORS=ft.FENGARI_AUTHORS;Pe.exports.FENGARI_COPYRIGHT=ft.FENGARI_COPYRIGHT;Pe.exports.FENGARI_RELEASE=ft.FENGARI_RELEASE;Pe.exports.FENGARI_VERSION=ft.FENGARI_VERSION;Pe.exports.FENGARI_VERSION_MAJOR=ft.FENGARI_VERSION_MAJOR;Pe.exports.FENGARI_VERSION_MINOR=ft.FENGARI_VERSION_MINOR;Pe.exports.FENGARI_VERSION_NUM=ft.FENGARI_VERSION_NUM;Pe.exports.FENGARI_VERSION_RELEASE=ft.FENGARI_VERSION_RELEASE;Pe.exports.luastring_eq=ft.luastring_eq;Pe.exports.luastring_indexOf=ft.luastring_indexOf;Pe.exports.luastring_of=ft.luastring_of;Pe.exports.to_jsstring=ft.to_jsstring;Pe.exports.to_luastring=ft.to_luastring;Pe.exports.to_uristring=ft.to_uristring;var I3=ot(),D3=tt(),M3=vt(),P3=Mr();Pe.exports.luaconf=I3;Pe.exports.lua=D3;Pe.exports.lauxlib=M3;Pe.exports.lualib=P3});function x_(e,t){if(e.src.charCodeAt(e.pos)===91){let n=e.tokens[e.tokens.length-1],r;return n&&(n.type=="code_variable"||n.type=="code_expression")?(e.tokens.splice(e.tokens.length-1,1),r=n.content):r=null,e.push("content_open","",1).attrs=[["changer",r]],e.pos++,!0}return e.src.charCodeAt(e.pos)===93?(e.push("content_close","",e.level<=0?0:-1),e.pos++,!0):!1}function A_(e,t){if(!e.src.startsWith("<$",e.pos))return!1;let r=e.src.indexOf("$>",e.pos+2),l,o;r<0?(l=e.src.length,o=e.src.length):(l=r,o=r+2);let a=e.push("code_expression","",0);return a.content=e.src.slice(e.pos+2,l),a.meta=e.pos,e.pos=o,!0}function b_(e,t){if(!e.src.startsWith("[[",e.pos))return!1;let r=e.pos+2,l=e.posMax,o=r,a=-1,s=-1;for(;o<l&&!e.src.startsWith("]]",o);)s===-1&&e.src.startsWith("<-",o)?s=o:e.src.startsWith("->",o)&&(a=o),o++;if(o===l)return!1;if(a!==-1&&s!==-1){let f=s-r,h=o-(a+2);f<h?a=-1:s=-1}let u;a!==-1?(u=e.src.slice(a+2,o).trim(),e.pos=r,e.posMax=a):s!==-1?(u=e.src.slice(r,s).trim(),e.pos=s+2,e.posMax=o):(u=e.src.slice(r,o).trim(),e.pos=r,e.posMax=o);let i=e.tokens[e.tokens.length-1],c;return i&&(i.type=="code_variable"||i.type=="code_expression")?(e.tokens.splice(e.tokens.length-1,1),c=i.content):c=null,a!==-1&&e.src.slice(e.pos,e.posMax).trim()==""?e.push("link_inline","",0).attrs=[["href",u],["changer",c]]:(e.push("link_open","a",1).attrs=[["href",u],["changer",c]],e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=o+2,e.posMax=l,!0}function Uu(e){return e===95||e>=65&&e<=90||e>=97&&e<=122}function m_(e){return Uu(e)||e>=48&&e<=57}function IT(e,t){let n=e.pos;if(e.src.charCodeAt(e.pos)!=46||!Uu(e.src.charCodeAt(e.pos+1)))return!1;e.pos++;do e.pos++;while(e.pos<e.src.length&&m_(e.src.charCodeAt(e.pos)));return t.push(e.src.slice(n,e.pos)),!0}function k_(e,t,n,r){if(e.src.charCodeAt(e.pos)!=n)return!1;let l=e.pos,o=e.pos,a=1,s;do o++,s=e.src.charCodeAt(o),s==n?a++:s==r&&a--;while(a>0&&s!=10&&o<e.src.length);return a==0?(e.pos=o+1,t.push(e.src.slice(l,e.pos)),!0):!1}function DT(e,t){if(!e.src.startsWith("<<",e.pos))return!1;let n=e.src.indexOf(">>",e.pos+2);return n<0?!1:(t.push("(function() "),t.push(e.src.slice(e.pos+2,n)),t.push(" end)"),e.pos=n+2,!0)}function T_(e,t){if(e.src.charCodeAt(e.pos)!==36||!Uu(e.src.charCodeAt(e.pos+1)))return!1;let n=e.pos=e.pos+1;do e.pos++;while(m_(e.src.charCodeAt(e.pos)));let r=[e.src.slice(n,e.pos)];for(;IT(e,r)||k_(e,r,40,41)||k_(e,r,123,125)||DT(e,r););let l=e.push("code_variable","",0);return l.content=r.join(""),l.meta=n,!0}function v_(e,t){if(!e.src.startsWith("{$",e.pos))return!1;let r=e.src.indexOf("$}",e.pos+2),l,o;r<0?(l=e.src.length,o=e.src.length):(l=r,o=r+2);let a=e.push("code_block","",0);return a.content=e.src.slice(e.pos+2,l),a.meta=e.pos,e.pos=o,!0}var Md=$r(Wl()),Pd=$r(Rh()),Fd=$r(id()),qd=$r(Dd()),Bd=$r(ne()),Yu={inline:new Pd.default,block:new Fd.default,core:new qd.default,options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!0,quotes:"\\u201C\\u201D\\u2018\\u2019",highlight:null,maxNesting:100},parse:function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens}},Qr=Yu.inline.ruler;Qr.disable(["link","image","autolink"]);Qr.push("passage_link",b_);Qr.push("content_block",x_);Qr.push("expression",A_);Qr.push("script_block",v_);Qr.push("variable",T_);Yu.block.ruler.disable(["reference"]);function ir(e){return e.replace(/\\'/g,"\\\\'").replace(/\\n/g,\`\\\\
\`)}function $u(e,t,n){var a,s,u;function r(i){t.push(\`\${"  ".repeat(n.level)}\${i}\`)}e.content=(a=e.content)==null?void 0:a.replace(/\\f/g,\`
\`);let l=(s=e.attrGet("changer"))==null?void 0:s.replace(/\\f/g,\`
\`),o=ir((u=e.attrGet("href"))!=null?u:"");switch(e.type){case"inline":for(let c of e.children)$u(c,t,n);break;case"text":let i=e.content;i.length>0&&((0,Bd.isWhiteSpace)(i.charCodeAt(i.length-1))||(i=i+" "),r(\`Text('\${ir(i)}')\`));break;case"link_open":l==null?r(\`Link('\${o}')(function()\`):r(\`Combine(AsChanger(\${l}), Link('\${o}'))(function()\`),n.level++,n.links.push(o);break;case"link_inline":l==null?r(\`Display('\${o}')\`):r(\`AsChanger(\${l})(function() Display('\${o}') end)\`);break;case"content_open":l==null?r("Show(function()"):r(\`AsChanger(\${l})(function()\`),n.level++;break;case"code_variable":case"code_expression":r(\`Show(\${e.content})\`);break;case"code_block":r(e.content);break;default:switch(e.nesting){case 1:r(\`Style.\${e.tag}(function()\`),n.level++;break;case-1:n.level--,r("end)");break;case 0:e.type=="softbreak"||e.tag!=""&&r(\`Object('\${e.tag}')\`);break}}}function tE(e,t,n){let r=n.level;for(let l of Yu.parse(nE(e),{}))$u(l,t,n);for(;n.level>r;)$u(new Md.default("content_close","",-1),t,n)}function nE(e){let t=0,n="";for(;t<e.length;){let r=e.indexOf("{$",t),l=e.indexOf("<$",t),o,a;if(r>=0)a=r,o="$}";else if(l>=0)a=l,o="$>";else{n+=e.substring(t);break}n+=e.substring(t,a);let s=e.indexOf(o,t+2);s<0?s=e.length:s=s+2,n+=e.substring(a,s).replace(/\\n/g,"\\f"),t=s}return n}function Vd(e){let t=e.getAttribute("startnode"),n=null,r=["-- Generated with Moontale"];r.push(\`story = '\${ir(e.getAttribute("name"))}'\`),r.push("Passages = {");for(let l=0;l<e.children.length;l++){let o=e.children[l];if(o.tagName.toLowerCase()==="tw-passagedata"){t===o.getAttribute("pid")&&(n=o.getAttribute("name")),r.push(\`  ['\${ir(o.getAttribute("name"))}'] = {\`);let a=o.getAttribute("tags").split(" ");a.length===1&&a[0]===""&&(a=[]),r.push(\`    tags = { \${a.map(u=>\`['\${ir(u)}'] = true\`).join(",")} },\`),r.push(\`    position = {\${o.getAttribute("position")}},\`),r.push("    content = function()");let s=[];tE(o.textContent,r,{level:3,links:s}),r.push("    end,"),r.push(\`    links = { \${s.map(u=>\`'\${ir(u)}'\`).join(",")} }\`),r.push("  },")}}return r.push("}"),r.push(\`StartPassage = '\${ir(n)}'\`),r.join(\`
\`)}var X=$r(u_()),F3=new TextEncoder,ce=null,c_=[],Gt=[],sn,Kt=!1,Jr=!1;function xT(e,t,n){sn=t,ce=X.lauxlib.luaL_newstate(),X.lua.lua_atpanic(ce,r=>(n(X.lua.lua_tojsstring(r,X.lua.lua_gettop(r)),"Panic"),0)),X.lualib.luaL_openlibs(ce),X.lua.lua_register(ce,"print",r=>{let l=X.lua.lua_gettop(r),o=[];for(let a=1;a<=l;a++)o.push(X.lua.lua_tojsstring(r,a));return console.log(...o),0}),X.lua.lua_register(ce,"Log",r=>{let l=X.lua.lua_gettop(r);return n(X.lua.lua_tojsstring(r,1),X.lua.lua_tojsstring(r,2)),0}),X.lua.lua_register(ce,"Push",r=>{let l=X.lua.lua_tojsstring(r,1);return c_.push(l),l=="a"?(Gt.push(\`<a href="#" id="\${X.lua.lua_tonumber(r,2)}">\`),X.lua.lua_pop(r,1)):l=="color"?Gt.push(\`<span style="color: \${X.lua.lua_tojsstring(r,2)};">\`):Gt.push(\`<\${l}>\`),Kt=!0,0}),X.lua.lua_register(ce,"Pop",r=>{let l=c_.splice(c_.length-1,1)[0];return l&&(l==="color"?Gt.push("</span>"):Gt.push(\`</\${l}>\`)),Kt=!0,0}),X.lua.lua_register(ce,"Text",r=>{let l=X.lua.lua_tojsstring(r,1);return Gt.push(l),Kt=!0,0}),X.lua.lua_register(ce,"Object",r=>{let l=X.lua.lua_tojsstring(r,1);return Gt.push(\`<\${l}>\`),Kt=!0,0}),X.lua.lua_register(ce,"Clear",r=>(Gt=[],Kt=!0,0)),X.lua.lua_register(ce,"Invalidate",r=>(Jr=!0,Kt=!0,0)),e.map(r=>X.lauxlib.luaL_dostring(ce,F3.encode(r)))}function ka(e,t){ce!=null&&(X.lua.lua_getglobal(ce,"RaiseEvent"),X.lua.lua_pushstring(ce,e),X.lua.lua_pushstring(ce,t),X.lua.lua_call(ce,2,0),Kt&&(Kt=!1,sn==null||sn(Gt.join(""),Jr),Jr=!1))}function AT(){ce!=null&&(X.lua.lua_getglobal(ce,"SoftReset"),X.lua.lua_call(ce,0,0),sn==null||sn(Gt.join(""),Jr),Jr=!1,Kt=!1)}function bT(e){ce!=null&&(X.lua.lua_getglobal(ce,"Update"),X.lua.lua_pushnumber(ce,e),X.lua.lua_call(ce,1,0),Kt&&(Kt=!1,sn==null||sn(Gt.join(""),Jr),Jr=!1))}var kT=\`--[[
    Moontale standard library
    https://moontale.hmilne.cc
]]

---@alias renderFn fun()
---@alias content renderFn|string|boolean|number|nil
---@alias changer fun(content:content):nil

---Saved output functions
---@type fun()
local _clear = Clear

---@type fun()
local _invalidate = Invalidate

---Array of event registrations
---@type fun(event:string)[]
local _events = {}

---Set of hovered-over elements
---@type table<string, boolean>
local _hovering = {}

---If true, call reload() whenever the hover state changes
local _reloadOnHover = false

---If true, an 'a' tag has been pushed, and we shouldn't push another one until 'pop' is called
local _linkPushed = false

---If true, we're rendering as a result of a jump() call rather than any subsequent reload()
local _firstRender = false

---If true, one of the branches in an If()/ElseIf() chain has been taken
local _ifTaken = false

---The current/last executed passage coroutine, so we can resume it with an Update
local _waiting = nil

---The set of LinkReplace targets that are now visible
local _visible = {}

---An auto-incrementing number used as a default identifier for LinkReplace targets
local _idSequence = 0

---Typewriter internal state
local _typedCharsThisFrame = 0
local _typedCharsTotal = 0

local _startup = {}
local _headers = {}
local _footers = {}

Visited = {}

local _saved = {}
Saved = _saved

local _hoisted = {_saved}

function Hoist(table)
    _hoisted[#_hoisted + 1] = table
end

setmetatable(_G, {
    __index = function (t, k)
        for i = 1, #_hoisted do
            local v = _hoisted[i][k]
            if v then
                return v
            end
        end
    end,
    __newindex = function(t, k, v)
        if _saved[k] ~= nil then
            if v == nil then
                _saved[k] = false
            else
                _saved[k] = v
            end
        else
            rawset(_G, k, v)
        end
    end
})

function Persist(...)
    for i=1,select('#', ...) do
        local var = select(i, ...)
        _saved[var] = rawget(_G, var)
        rawset(_G, var, nil)
    end
end

---Dummy render function to avoid dealing with 'nil' values
---@param content function
local function _empty(content)
end

---Used by If()
local function _ifTrue(content)
    _ifTaken = true
    Show(content)
end

---Used by If()
local function _ifFalse(content)
    _ifTaken = false
end

---The top-level passage currently being rendered
---@type string
PassageName = "(No passage)"

---The name of the global start passage
---@type string
StartPassage = "(No start passage)"

---@class Passage
---@field public content renderFn  The passage's content as a function
---@field public tags table<string, boolean>  The set of passage tags
---@field public position number[]  The passage's position in the editor as a pixel coordinate

---The table of all passages in the story, keyed by their name
---@type table<string, Passage>
Passages = setmetatable({}, {
    __index = function (t, k)
        error("Passage \\\`"..tostring(k).."\\\` does not exist")
    end
})

function CollectSpecialPassages()
    _startup = {}
    _headers = {}
    _footers = {}
    for k,v in next, Passages do
        if v.tags['startup'] then
            _startup[#_startup+1] = k
        end
        if v.tags['header'] then
            _headers[#_headers+1] = k
        end
        if v.tags['footer'] then
            _footers[#_footers+1] = k
        end
    end
end

---Override of the host function; clears out any internal state
function Clear()
    _clear()
    _events = {}
    _linkPushed = false
    _reloadOnHover = false
    _idSequence = 0
    _typedCharsThisFrame = 0
    _ifTaken = false
end

---Override of the host function; invalidates any event IDs
function Invalidate()
    _invalidate()
    _hovering = {}
    _waiting = nil
    _visible = {}
    _typedCharsTotal = 0
end

---Generates a Changer that registers a callback for its content
---@param fn fun(event:string):nil
---@return changer
function Event(fn)
    return function(content)
        if _linkPushed then
            local old = _events[#_events]
            _events[#_events] = function(...) old(...); fn(...) end
            Show(content)
        else
            _events[#_events + 1] = fn or _empty
            Push('a', tostring(#_events))
            _linkPushed = true
            Show(content)
            Pop()
            _linkPushed = false
        end
    end
end

---Applies the hovering changer when the cursor is over the content, and the normal one when it is not.
---@param hovering changer
---@param normal changer|nil
---@return changer
function Hover(hovering, normal)
    return function(content)
        _reloadOnHover = true
        local doPush = not _linkPushed
        local eid = #_events
        if doPush then
            eid = #_events + 1
            _events[eid] = _empty
            Push('a', tostring(eid))
        end
        if _hovering[eid] then
            (hovering or Show)(content)
        else
            (normal or Show)(content)
        end
        if doPush then
            Pop()
        end
    end
end

---Called when the named event occurs on the content with the given ID
---@param event string
---@param idx string
function RaiseEvent(event, idx)
    local idx = tonumber(idx)
    if idx == nil then return end
    if event == 'mouseover' then
        _hovering[idx] = true
        if _reloadOnHover then
            Reload()
        end
    elseif event == 'mouseout' then
        _hovering[idx] = nil
        if _reloadOnHover then
            Reload()
        end
    else
        local fn = _events[idx]
        if fn then fn(event) end
    end
end

local function _resume(routine, ...)
    local success, msg = coroutine.resume(routine, ...)
    if not success then
        error(msg)
    end
end

---Called regularly by the host as time passes
---@param deltaTime number  The time since Update was last called, in seconds
function Update(deltaTime)
    if _waiting then
        _resume(_waiting, deltaTime)
    end
end

---Pauses execution for the given time period
---@param duration number
function Delay(duration)
    _waiting = coroutine.running()
    repeat
        duration = duration - coroutine.yield()
    until duration <= 0
    _waiting = nil
end

---Causes all Text within the content to be emitted one character at a time, with a delay in between
---@type changer
function Typewriter(content)
    local _text = Text
    Text = function(str)
        local prefix = _typedCharsTotal - _typedCharsThisFrame
        if #str <= prefix then
            _text(str)
            _typedCharsThisFrame = _typedCharsThisFrame + #str
        else
            if prefix > 0 then
                _text(str:sub(1, prefix))
                _typedCharsThisFrame = _typedCharsThisFrame + prefix
            end
            local i = prefix + 1
            while i <= #str do
                -- Handle UTF-8 sequences
                local start = i
                while str:byte(i) >= 0x80 do
                    i = i + 1
                end
                _text(str:sub(start, i))
                Delay(0.01)
                i = i + 1
                local charsTyped = (i - start) + 1
                _typedCharsTotal = _typedCharsTotal + charsTyped
                _typedCharsThisFrame = _typedCharsThisFrame + charsTyped
            end
        end
    end
    Show(content)
    Text = _text
end

---Checks that its argument can be used as a changer
---@param fn changer
---@return changer
function AsChanger(fn)
    if type(fn) == 'function' or type(fn) == 'table' then
        return fn
    else
        Log('Error: '..tostring(fn)..' cannot be used as a changer')
        return Show
    end
end

---Displays its argument
---@param value content
function Show(value)
    if value == nil then return end
    local t = type(value)
    if t == 'string' or t == 'number' or t == 'boolean' then
        Text(tostring(value))
    elseif t == 'function' or t == 'table' then
        Show(value())
    else
        Log('Error: '..tostring(value)..' cannot be displayed')
    end
end

local function _displayWithSurrounds(target)
    for k,v in next, _headers do
        Display(v)
    end
    Display(target)
    for k,v in next, _footers do
        Display(v)
    end
end

---Clears the screen and renders the passage with the given name.
---@param target string
function Jump(target)
    Clear()
    Invalidate()
    Visited[PassageName] = (Visited[PassageName] or 0) + 1
    PassageName = target
    local routine = coroutine.create(function ()
        _firstRender = true
        _displayWithSurrounds(target)
        _firstRender = false
    end)
    _resume(routine)
end

---Causes the current passage to be re-rendered.
function Reload()
    Clear()
    local routine = coroutine.create(function ()
        _displayWithSurrounds(PassageName)
    end)
    _resume(routine)
end

---Renders the passage with the given name in-line with the text.
---@param passage string
function Display(passage)
    Show(Passages[passage].content)
end

---Jumps back to the start, without resetting any variables.
function SoftReset()
    CollectSpecialPassages()
    for k,v in next, _startup do
        Display(v)
    end
    Jump(StartPassage)
end

---Renders its content if the condition is truthy
---@param condition boolean
---@return changer
function If(condition)
    if condition then
        return _ifTrue
    else
        return _ifFalse
    end
end

---Ensures that the given function is executed when the passage is reached,
---and not on any subsequent reloads. If a Table is passed, it treats each
---key-value pair as an instruction to set a variable.
---@param content table|content
function Once(content)
    if _firstRender then
        if type(content) == 'table' then
            for k,v in next, content do
                _G[k] = v
            end
        else
            Show(content)
        end
    end
end

---Renders its content if neither the previous If or any of the ElseIf calls following it were entered
---@type changer
function Else(content)
    if not _ifTaken then
        _ifTaken = true
        Show(content)
    end
end

---Renders its content if condition is truthy and neither the previous If or any of the ElseIf calls following it were entered
---@param condition boolean
---@return changer
function ElseIf(condition)
    if condition then
        return Else
    else
        return _empty
    end
end

---Wraps the content in the named tag
---@type table<string, changer>
Style = setmetatable({}, {
    __index = function(t, k)
        return function(content)
            Push(k)
            Show(content)
            Pop()
        end
    end
})

---Sets the named text alignment for the content.
---@type table<string, changer>
Align = setmetatable({}, {
    __index = function(t, k)
        return function(content)
            Push('align', k)
            Show(content)
            Pop()
        end
    end
})

---A table of the named colours in CSS3
---@type table<string, string>
Colors = {
    aliceblue = "#f0f8ff",
    antiquewhite = "#faebd7",
    aqua = "#00ffff",
    aquamarine = "#7fffd4",
    azure = "#f0ffff",
    beige = "#f5f5dc",
    bisque = "#ffe4c4",
    black = "#000000",
    blanchedalmond = "#ffebcd",
    blue = "#0000ff",
    blueviolet = "#8a2be2",
    brown = "#a52a2a",
    burlywood = "#deb887",
    cadetblue = "#5f9ea0",
    chartreuse = "#7fff00",
    chocolate = "#d2691e",
    coral = "#ff7f50",
    cornflowerblue = "#6495ed",
    cornsilk = "#fff8dc",
    crimson = "#dc143c",
    cyan = "#00ffff",
    darkblue = "#00008b",
    darkcyan = "#008b8b",
    darkgoldenrod = "#b8860b",
    darkgray = "#a9a9a9",
    darkgrey = "#a9a9a9",
    darkgreen = "#006400",
    darkkhaki = "#bdb76b",
    darkmagenta = "#8b008b",
    darkolivegreen = "#556b2f",
    darkorange = "#ff8c00",
    darkorchid = "#9932cc",
    darkred = "#8b0000",
    darksalmon = "#e9967a",
    darkseagreen = "#8fbc8f",
    darkslateblue = "#483d8b",
    darkslategray = "#2f4f4f",
    darkslategrey = "#2f4f4f",
    darkturquoise = "#00ced1",
    darkviolet = "#9400d3",
    deeppink = "#ff1493",
    deepskyblue = "#00bfff",
    dimgray = "#696969",
    dimgrey = "#696969",
    dodgerblue = "#1e90ff",
    firebrick = "#b22222",
    floralwhite = "#fffaf0",
    forestgreen = "#228b22",
    fuchsia = "#ff00ff",
    gainsboro = "#dcdcdc",
    ghostwhite = "#f8f8ff",
    gold = "#ffd700",
    goldenrod = "#daa520",
    gray = "#808080",
    grey = "#808080",
    green = "#008000",
    greenyellow = "#adff2f",
    honeydew = "#f0fff0",
    hotpink = "#ff69b4",
    indianred = "#cd5c5c",
    indigo = "#4b0082",
    ivory = "#fffff0",
    khaki = "#f0e68c",
    lavender = "#e6e6fa",
    lavenderblush = "#fff0f5",
    lawngreen = "#7cfc00",
    lemonchiffon = "#fffacd",
    lightblue = "#add8e6",
    lightcoral = "#f08080",
    lightcyan = "#e0ffff",
    lightgoldenrodyellow = "#fafad2",
    lightgray = "#d3d3d3",
    lightgrey = "#d3d3d3",
    lightgreen = "#90ee90",
    lightpink = "#ffb6c1",
    lightsalmon = "#ffa07a",
    lightseagreen = "#20b2aa",
    lightskyblue = "#87cefa",
    lightslategray = "#778899",
    lightslategrey = "#778899",
    lightsteelblue = "#b0c4de",
    lightyellow = "#ffffe0",
    lime = "#00ff00",
    limegreen = "#32cd32",
    linen = "#faf0e6",
    magenta = "#ff00ff",
    maroon = "#800000",
    mediumaquamarine = "#66cdaa",
    mediumblue = "#0000cd",
    mediumorchid = "#ba55d3",
    mediumpurple = "#9370d8",
    mediumseagreen = "#3cb371",
    mediumslateblue = "#7b68ee",
    mediumspringgreen = "#00fa9a",
    mediumturquoise = "#48d1cc",
    mediumvioletred = "#c71585",
    midnightblue = "#191970",
    mintcream = "#f5fffa",
    mistyrose = "#ffe4e1",
    moccasin = "#ffe4b5",
    navajowhite = "#ffdead",
    navy = "#000080",
    oldlace = "#fdf5e6",
    olive = "#808000",
    olivedrab = "#6b8e23",
    orange = "#ffa500",
    orangered = "#ff4500",
    orchid = "#da70d6",
    palegoldenrod = "#eee8aa",
    palegreen = "#98fb98",
    paleturquoise = "#afeeee",
    palevioletred = "#d87093",
    papayawhip = "#ffefd5",
    peachpuff = "#ffdab9",
    peru = "#cd853f",
    pink = "#ffc0cb",
    plum = "#dda0dd",
    powderblue = "#b0e0e6",
    purple = "#800080",
    red = "#ff0000",
    rosybrown = "#bc8f8f",
    royalblue = "#4169e1",
    saddlebrown = "#8b4513",
    salmon = "#fa8072",
    sandybrown = "#f4a460",
    seagreen = "#2e8b57",
    seashell = "#fff5ee",
    sienna = "#a0522d",
    silver = "#c0c0c0",
    skyblue = "#87ceeb",
    slateblue = "#6a5acd",
    slategray = "#708090",
    slategrey = "#708090",
    snow = "#fffafa",
    springgreen = "#00ff7f",
    steelblue = "#4682b4",
    tan = "#d2b48c",
    teal = "#008080",
    thistle = "#d8bfd8",
    tomato = "#ff6347",
    turquoise = "#40e0d0",
    violet = "#ee82ee",
    wheat = "#f5deb3",
    white = "#ffffff",
    whitesmoke = "#f5f5f5",
    yellow = "#ffff00",
    yellowgreen = "#9acd32",
}

---Colours the text with the given colour name (not case sensitive).
---@type table<string, changer>
Color = setmetatable({}, {
    __index = function(t, k)
        local c = Colors[string.lower(k)] or k
        return function(content)
            Push('color', c)
            Show(content)
            Pop()
        end
    end
})

---Draws an image ('img' entity) with the given path
---@param src string
function Image(src)
    Object('img', src)
end

---Executes a function when the named event occurs
---@type table<string, fun(callback:function):changer>
On = setmetatable({}, {
    __index = function(t, k)
        return function(callback)
            return Event(function(e)
                if e == k then callback() end
            end)
        end
    end
})

---Renders the content multiple times in a row, with the number of the current iteration (1 indexed) assigned to index
---@param count number
---@return changer
function Repeat(count)
    return function(content)
        for i=1,count do
            _G.index = i
            Show(content)
        end
    end
end

---Renders the content for each item in iterable, mapping each entry to variables with the names given in the subsequent arguments.
---The default variable names are 'key' and 'value'
---@param iterable table
---@vararg string
---@return changer
function ForEach(iterable, ...)
    local vars = {...}
    if #vars == 0 then
        vars = {'key', 'value'}
    end
    return function(content)
        local frame = {next(iterable)}
        while frame[1] do
            for i=1,#vars do
                _G[vars[i]] = frame[i]
            end
            Show(content)
            frame = {next(iterable, frame[1])}
        end
    end
end

---Hides the block, and assigns it to a variable with the given name.
---@type table<string, changer>
Name = setmetatable({}, {
    __index = function(t, k)
        return function(content)
            _G[k] = content
        end
    end
})

---Creates a Changer that combines each of its Changer arguments in order of outer-most to inner-most.
---@vararg changer
---@return changer
function Combine(...)
    local agg = select(-1, ...)
    for i=2,select('#', ...) do
        local outer = select(-i, ...)
        local inner = agg
        agg = function(c) outer(function() inner(c) end) end
    end
    return agg
end

LinkStyle = Hover(Color.red, Color.darkred)

---Jumps to a passage when the content is clicked
---@param target string
---@return changer
function Link(target)
    return Combine(On.click(function() Jump(target) end), LinkStyle)
end

---Shows the first argument until it's clicked, then shows the content body
---@param text content
---@param id any  A unique ID for this link; the default is an auto-incremented number
function LinkReplace(text, id)
    if id == nil then
        _idSequence = _idSequence + 1
        id = _idSequence
    end
    return function(content)
        if _visible[id] then
            Show(content)
        else
            Combine(On.click(function()
                if not _visible[id] then
                    _visible[id] = true
                    Reload()
                end
            end), LinkStyle)(text)
        end
    end
end

Persist('Visited', 'PassageName')
\`;var vT=200,f_=document.getElementById("output"),ET=document.getElementById("outputContainer"),p_=document.getElementById("lua"),Ta=!1,ma=document.getElementById("outputToggleInput");function B3(){ET.style.display=ma.checked?"none":"block",p_.style.display=ma.checked?"block":"none"}ma.onchange=e=>{ET.style.opacity=ma.checked?"0":"1",p_.style.opacity=ma.checked?"1":"0",setTimeout(B3,vT)};var __=Vd(document.getElementById("storyData").children[0]);p_.textContent=__;var OT=document.getElementById("download");OT.href=window.URL.createObjectURL(new Blob([__],{type:"octet/stream"}));OT.download=document.title+".lua";function mT(e){f_.innerHTML=e,f_.style.opacity="1",Ta=!1}xT([kT,__],(e,t)=>{t?(Ta=!0,f_.style.opacity="0",setTimeout(mT,vT,e)):mT(e)},e=>{console.error(e)});function h_(e){let t=e.target;for(;t&&!(Number(t.id)>0);)t=t.parentElement;return t?t.id:null}var Zr=null;window.addEventListener("click",e=>{if(Ta)return;let t=h_(e);t!==null&&(Zr=null,ka(e.type,t))});window.addEventListener("mouseover",e=>{if(Ta)return;let t=h_(e);t!==Zr&&t!==null&&(Zr!==null&&ka("mouseout",Zr),Zr=t,ka(e.type,t))});window.addEventListener("mouseout",e=>{if(Ta)return;let t=h_(e);t!==null&&t===Zr&&(Zr=null,ka(e.type,t))});var TT=performance.now(),ST=e=>{bT((e-TT)*1e3),TT=e,window.requestAnimationFrame(ST)};window.requestAnimationFrame(ST);AT();})();
/**
@license MIT

Copyright \xA9 2017-2018 Benoit Giannangeli
Copyright \xA9 2017-2018 Daurnimator
Copyright \xA9 1994\u20132017 Lua.org, PUC-Rio.
*/
//# sourceMappingURL=https://hamish-milne.github.io/moontale/player.js.map
<\/script></body></html>`,setup(){const e={};new Function(this.properties.hydrate).call(e),window.CodeMirror.defineMode("moontale",e.editorExtensions.twine["^2.4.0"].codeMirror.mode)}});
